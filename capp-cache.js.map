{"version":3,"sources":["webpack:///capp-cache.js","webpack:///webpack/bootstrap 4936777ad4b64ca278cd","webpack:///./src/cappCacheLogger.js","webpack:///./src/indexedDBAccess.js","webpack:///./src/utils.js","webpack:///./src/resourceManager.js","webpack:///./src/resourceLoader.js","webpack:///./src/id.js","webpack:///./index.js","webpack:///./src/indexedDB.js","webpack:///./src/tagPropertiesMap.js","webpack:///./src/network.js","webpack:///./src/responseHandlers.js","webpack:///./src/sortResources.js","webpack:///./src/onLoadDoneHandling.js","webpack:///./src/eventBus.js","webpack:///./src/manifestManager.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","log","logCommand","arguments","warn","error","perfMeasure","marker1","marker2","isDetailedLog","window","performance","measure","perfMark","marker","mark","perfMarkEnd","markerEnd","logSince","timer","message","undefined","timers","now","_logLevelIndex","LOG_LEVELS","value","perfAvailable","levelName","levelIndex","args","console","apply","checkIfPerformanceAvailable","setLogLevel","logLevel","closeConnection","FAILED_TO_OPEN_IDB","default","resolvedPromise","dbOpenFailed","idbWrapper","create","_db","req","_indexedDB2","open","DB_NAME","DB_VERSION","store","transaction","STORE_NAME","length","objectStore","id","Promise","resolve","reject","request","onsuccess","event","target","result","_cappCacheLogger","onerror","skip","exists","count","e","removeResource","delete","put","_ref","content","contentType","putRequest","pruneDb","knownIds","openCursor","cursor","includes","key","continue","onupgradeneeded","createObjectStore","keyPath","JSON","stringify","_indexedDB","obj","isEdgeBrowser","navigator","userAgent","indexOf","getDataUrl","isBase64","URL","createObjectURL","Blob","type","replace","_interopRequireDefault","load","_ref$resources","resources","_ref$document","document","_ref$forceLoadFromCac","forceLoadFromCache","onLoadDone","_ref$recacheAfterVers","recacheAfterVersionChange","_ref2","_ref2$syncCacheOnly","syncCacheOnly","_ref2$wasManifestModi","wasManifestModified","_ref2$overrideDomCont","overrideDomContentLoaded","_ref2$forceRecaching","forceRecaching","RESOURCES_LOAD_START","elementAddedToBody","_indexedDBAccess2","then","db","_sortResources","sortResources","lastErr","tagsReadyToBeAdded","parsedTagsCount","allFromCache","resourcesResult","forEach","resourceManifestObj","url","_resourceManifestObj$","_resourceManifestObj$2","_resourceManifestObj$3","attributes","_resourceManifestObj$4","cacheOnly","isBinary","_resourceManifestObj$5","networkOnly","userAttributes","staticAttributes","_tagPropertiesMap2","defaultToBinary","documentTarget","canAddToDom","MOCK_DOCUMENT","tag","_resourceLoader","loadResource","indexedDBAccess","immediate","_ref3","resource","push","fromCache","createElement","tagName","onLoadScript","setElementContentFunc","setAttribute","catch","tagType","tagNameWhenNotInline","attributesWhenNotInline","alwaysCallSetContent","contentFetchKey","async","keys","attribute","loadedResources","domSelector","DATA_SRC_ATTR","currPos","_index","state","WAITING","domTarget","allowLoadingOutOfOrder","LOADED","_tagsReadyToBeAdded$c","_tag","_url","appendChild","err","_onLoadDoneHandling","appendOnLoadScript","callback","getLoadedResources","map","getResourceUri","_ref4","_ref4$isBase64Text","isBase64Text","_ref4$isBinary","resourceUriHistory","_ref5","_utils","btoa","dataUrl","revokeResourceUriForUrl","revokeObjectURL","pruneDB","getCachedFiles","_indexedDBAccess","_tagPropertiesMap","Function","head","body","createTextNode","fetchAndSaveInCache","_id","_network","cachedFilesInSession","fetchResource","status","statusText","_ref2$immediate","_ref2$isBinary","_ref2$cacheOnly","_ref2$networkOnly","fullUrl","method","promise","setTimeout","polyfillId","link","href","protocol","host","pathname","search","location","_resourceManager","_eventBus","_manifestManager","_manifestManager2","dataset","getElementsByTagName","ccOverrideDomcontentloaded","listener","stopImmediatePropagation","preventDefault","stopPropagation","removeEventListener","addEventListener","manifestUrl","ccManifest","fetchManifest","manifest","wasModified","trigger","cappCache","version","loadResources","on","indexedDB","js","css","rel","innerHTML","blob","fontface","fontAttributes","localFontFamily","originalUrl","format","fallbackUrls","attributesString","srcString","reduce","str","actualUrl","opts","substring","_responseHandlers","responseType","xhr","XMLHttpRequest","response","returnValue","getResponseHeader","handleResponse","send","test","r","index","sort","r1","r2","_ref$onLoadDone","ID","Math","random","slice","onLoadTypeOf","_typeof","onLoadText","_prevCallback","ID_PERF","contentUrl","script","src","Symbol","iterator","constructor","events","eventName","handler","_ref$overrideDomConte","fullManifestUrl","manifestContent","parse","newManifestContent","newManifest"],"mappings":"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","file":"capp-cache.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.log = log;\nexports.warn = warn;\nexports.error = error;\nexports.perfMark = perfMark;\nexports.perfMarkEnd = perfMarkEnd;\nexports.logSince = logSince;\nexports.isDetailedLog = isDetailedLog;\nvar LOG_LEVELS = exports.LOG_LEVELS = {\n  log: 1,\n  warn: 2,\n  error: 3\n};\n\nvar _logLevelIndex = LOG_LEVELS.warn;\nvar perfAvailable = void 0;\n\nvar logCommand = function logCommand(levelName, levelIndex, args) {\n  if (levelIndex >= _logLevelIndex) {\n    console[levelName].apply(console, args);\n  }\n};\n\nfunction log() {\n  logCommand(\"log\", 1, arguments);\n}\nfunction warn() {\n  logCommand(\"warn\", 2, arguments);\n}\nfunction error() {\n  logCommand(\"error\", 3, arguments);\n}\n\nvar checkIfPerformanceAvailable = function checkIfPerformanceAvailable() {\n  perfAvailable = !!(LOG_LEVELS.log && window.performance && window.performance.measure);\n};\ncheckIfPerformanceAvailable();\n\nfunction perfMeasure(name, marker1, marker2) {\n  isDetailedLog() && window.performance.measure(name, marker1, marker2);\n}\n\nfunction perfMark(marker) {\n  isDetailedLog() && window.performance.mark(marker);\n}\n\nfunction perfMarkEnd(name, marker1, marker2) {\n  if (isDetailedLog()) {\n    var markerEnd = marker2 || marker1 + \" - end\";\n    perfMark(markerEnd);\n    perfMeasure(name, marker1, markerEnd);\n  }\n}\n\nvar setLogLevel = exports.setLogLevel = function setLogLevel(logLevel) {\n  _logLevelIndex = logLevel;\n  checkIfPerformanceAvailable();\n};\n\nvar timers = {};\nfunction logSince(timer, message) {\n  if (timers[timer] === undefined) {\n    timers[timer] = performance && performance.now();\n  }\n  log(\"timing: (\" + (performance.now() - timers[timer]) + \") \" + message);\n}\n\nfunction isDetailedLog() {\n  return _logLevelIndex === LOG_LEVELS.log;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jYXBwQ2FjaGVMb2dnZXIuanMiXSwibmFtZXMiOlsibG9nIiwid2FybiIsImVycm9yIiwicGVyZk1hcmsiLCJwZXJmTWFya0VuZCIsImxvZ1NpbmNlIiwiaXNEZXRhaWxlZExvZyIsIkxPR19MRVZFTFMiLCJfbG9nTGV2ZWxJbmRleCIsInBlcmZBdmFpbGFibGUiLCJsb2dDb21tYW5kIiwibGV2ZWxOYW1lIiwibGV2ZWxJbmRleCIsImFyZ3MiLCJjb25zb2xlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjaGVja0lmUGVyZm9ybWFuY2VBdmFpbGFibGUiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsIm1lYXN1cmUiLCJwZXJmTWVhc3VyZSIsIm5hbWUiLCJtYXJrZXIxIiwibWFya2VyMiIsIm1hcmtlciIsIm1hcmsiLCJtYXJrZXJFbmQiLCJzZXRMb2dMZXZlbCIsImxvZ0xldmVsIiwidGltZXJzIiwidGltZXIiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwibm93Il0sIm1hcHBpbmdzIjoiOzs7OztRQWVnQkEsRyxHQUFBQSxHO1FBR0FDLEksR0FBQUEsSTtRQUdBQyxLLEdBQUFBLEs7UUFhQUMsUSxHQUFBQSxRO1FBSUFDLFcsR0FBQUEsVztRQWNBQyxRLEdBQUFBLFE7UUFPQUMsYSxHQUFBQSxhO0FBM0RULElBQU1DLGtDQUFhO0FBQ3hCUCxPQUFLLENBRG1CO0FBRXhCQyxRQUFNLENBRmtCO0FBR3hCQyxTQUFPO0FBSGlCLENBQW5COztBQU1QLElBQUlNLGlCQUFpQkQsV0FBV04sSUFBaEM7QUFDQSxJQUFJUSxzQkFBSjs7QUFFQSxJQUFNQyxhQUFhLFNBQWJBLFVBQWEsQ0FBQ0MsU0FBRCxFQUFZQyxVQUFaLEVBQXdCQyxJQUF4QixFQUFpQztBQUNsRCxNQUFJRCxjQUFjSixjQUFsQixFQUFrQztBQUNoQ00sWUFBUUgsU0FBUixFQUFtQkksS0FBbkIsQ0FBeUJELE9BQXpCLEVBQWtDRCxJQUFsQztBQUNEO0FBQ0YsQ0FKRDs7QUFNTyxTQUFTYixHQUFULEdBQWU7QUFDcEJVLGFBQVcsS0FBWCxFQUFrQixDQUFsQixFQUFxQk0sU0FBckI7QUFDRDtBQUNNLFNBQVNmLElBQVQsR0FBZ0I7QUFDckJTLGFBQVcsTUFBWCxFQUFtQixDQUFuQixFQUFzQk0sU0FBdEI7QUFDRDtBQUNNLFNBQVNkLEtBQVQsR0FBaUI7QUFDdEJRLGFBQVcsT0FBWCxFQUFvQixDQUFwQixFQUF1Qk0sU0FBdkI7QUFDRDs7QUFFRCxJQUFNQyw4QkFBOEIsU0FBOUJBLDJCQUE4QixHQUFNO0FBQ3hDUixrQkFBZ0IsQ0FBQyxFQUFFRixXQUFXUCxHQUFYLElBQWtCa0IsT0FBT0MsV0FBekIsSUFBd0NELE9BQU9DLFdBQVAsQ0FBbUJDLE9BQTdELENBQWpCO0FBQ0QsQ0FGRDtBQUdBSDs7QUFFQSxTQUFTSSxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsT0FBM0IsRUFBb0NDLE9BQXBDLEVBQTZDO0FBQzNDbEIscUJBQW1CWSxPQUFPQyxXQUFQLENBQW1CQyxPQUFuQixDQUEyQkUsSUFBM0IsRUFBaUNDLE9BQWpDLEVBQTBDQyxPQUExQyxDQUFuQjtBQUNEOztBQUVNLFNBQVNyQixRQUFULENBQWtCc0IsTUFBbEIsRUFBMEI7QUFDL0JuQixxQkFBbUJZLE9BQU9DLFdBQVAsQ0FBbUJPLElBQW5CLENBQXdCRCxNQUF4QixDQUFuQjtBQUNEOztBQUVNLFNBQVNyQixXQUFULENBQXFCa0IsSUFBckIsRUFBMkJDLE9BQTNCLEVBQW9DQyxPQUFwQyxFQUE2QztBQUNsRCxNQUFJbEIsZUFBSixFQUFxQjtBQUNuQixRQUFNcUIsWUFBWUgsV0FBV0QsVUFBVSxRQUF2QztBQUNBcEIsYUFBU3dCLFNBQVQ7QUFDQU4sZ0JBQVlDLElBQVosRUFBa0JDLE9BQWxCLEVBQTJCSSxTQUEzQjtBQUNEO0FBQ0Y7O0FBRU0sSUFBTUMsb0NBQWMsU0FBZEEsV0FBYyxXQUFZO0FBQ3JDcEIsbUJBQWlCcUIsUUFBakI7QUFDQVo7QUFDRCxDQUhNOztBQUtQLElBQU1hLFNBQVMsRUFBZjtBQUNPLFNBQVN6QixRQUFULENBQWtCMEIsS0FBbEIsRUFBeUJDLE9BQXpCLEVBQWtDO0FBQ3ZDLE1BQUlGLE9BQU9DLEtBQVAsTUFBa0JFLFNBQXRCLEVBQWlDO0FBQy9CSCxXQUFPQyxLQUFQLElBQWdCWixlQUFlQSxZQUFZZSxHQUFaLEVBQS9CO0FBQ0Q7QUFDRGxDLHFCQUFnQm1CLFlBQVllLEdBQVosS0FBb0JKLE9BQU9DLEtBQVAsQ0FBcEMsV0FBc0RDLE9BQXREO0FBQ0Q7O0FBRU0sU0FBUzFCLGFBQVQsR0FBeUI7QUFDOUIsU0FBT0UsbUJBQW1CRCxXQUFXUCxHQUFyQztBQUNEIiwiZmlsZSI6ImNhcHBDYWNoZUxvZ2dlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IExPR19MRVZFTFMgPSB7XG4gIGxvZzogMSxcbiAgd2FybjogMixcbiAgZXJyb3I6IDMsXG59O1xuXG5sZXQgX2xvZ0xldmVsSW5kZXggPSBMT0dfTEVWRUxTLndhcm47XG5sZXQgcGVyZkF2YWlsYWJsZTtcblxuY29uc3QgbG9nQ29tbWFuZCA9IChsZXZlbE5hbWUsIGxldmVsSW5kZXgsIGFyZ3MpID0+IHtcbiAgaWYgKGxldmVsSW5kZXggPj0gX2xvZ0xldmVsSW5kZXgpIHtcbiAgICBjb25zb2xlW2xldmVsTmFtZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2coKSB7XG4gIGxvZ0NvbW1hbmQoXCJsb2dcIiwgMSwgYXJndW1lbnRzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKCkge1xuICBsb2dDb21tYW5kKFwid2FyblwiLCAyLCBhcmd1bWVudHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKCkge1xuICBsb2dDb21tYW5kKFwiZXJyb3JcIiwgMywgYXJndW1lbnRzKTtcbn1cblxuY29uc3QgY2hlY2tJZlBlcmZvcm1hbmNlQXZhaWxhYmxlID0gKCkgPT4ge1xuICBwZXJmQXZhaWxhYmxlID0gISEoTE9HX0xFVkVMUy5sb2cgJiYgd2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5tZWFzdXJlKTtcbn07XG5jaGVja0lmUGVyZm9ybWFuY2VBdmFpbGFibGUoKTtcblxuZnVuY3Rpb24gcGVyZk1lYXN1cmUobmFtZSwgbWFya2VyMSwgbWFya2VyMikge1xuICBpc0RldGFpbGVkTG9nKCkgJiYgd2luZG93LnBlcmZvcm1hbmNlLm1lYXN1cmUobmFtZSwgbWFya2VyMSwgbWFya2VyMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJmTWFyayhtYXJrZXIpIHtcbiAgaXNEZXRhaWxlZExvZygpICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKG1hcmtlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJmTWFya0VuZChuYW1lLCBtYXJrZXIxLCBtYXJrZXIyKSB7XG4gIGlmIChpc0RldGFpbGVkTG9nKCkpIHtcbiAgICBjb25zdCBtYXJrZXJFbmQgPSBtYXJrZXIyIHx8IG1hcmtlcjEgKyBcIiAtIGVuZFwiO1xuICAgIHBlcmZNYXJrKG1hcmtlckVuZCk7XG4gICAgcGVyZk1lYXN1cmUobmFtZSwgbWFya2VyMSwgbWFya2VyRW5kKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSBsb2dMZXZlbCA9PiB7XG4gIF9sb2dMZXZlbEluZGV4ID0gbG9nTGV2ZWw7XG4gIGNoZWNrSWZQZXJmb3JtYW5jZUF2YWlsYWJsZSgpO1xufTtcblxuY29uc3QgdGltZXJzID0ge307XG5leHBvcnQgZnVuY3Rpb24gbG9nU2luY2UodGltZXIsIG1lc3NhZ2UpIHtcbiAgaWYgKHRpbWVyc1t0aW1lcl0gPT09IHVuZGVmaW5lZCkge1xuICAgIHRpbWVyc1t0aW1lcl0gPSBwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuICBsb2coYHRpbWluZzogKCR7cGVyZm9ybWFuY2Uubm93KCkgLSB0aW1lcnNbdGltZXJdfSkgJHttZXNzYWdlfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZXRhaWxlZExvZygpIHtcbiAgcmV0dXJuIF9sb2dMZXZlbEluZGV4ID09PSBMT0dfTEVWRUxTLmxvZztcbn1cbiJdfQ==\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.closeConnection = exports.FAILED_TO_OPEN_IDB = undefined;\n\nexports.default = function () {\n  if (resolvedPromise) {\n    return resolvedPromise;\n  }\n  var dbOpenFailed = false;\n  var idbWrapper = Object.create(null);\n  var _db = null;\n  var req = _indexedDB2.default.open(DB_NAME, DB_VERSION);\n\n  var store = function store() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"readwrite\";\n\n    var transaction = _db.transaction([STORE_NAME], type);\n    return transaction.objectStore(STORE_NAME);\n  };\n\n  idbWrapper.get = function (id) {\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var request = store(\"readonly\").get(id);\n      request.onsuccess = function (event) {\n        if (event.target.result) {\n          resolve(event.target.result);\n        } else {\n          (0, _cappCacheLogger.log)(\"resource with id \" + id + \" is not in the cache\");\n          reject(null);\n        }\n      };\n      request.onerror = function (event) {\n        reject(event);\n      };\n    });\n  };\n\n  idbWrapper.skip = function () {\n    return Promise.reject();\n  };\n\n  idbWrapper.exists = function (id) {\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var request = store(\"readonly\").count(id);\n      request.onsuccess = function (e) {\n        var exists = e.target.result > 0;\n        if (exists) {\n          resolve({});\n        } else {\n          reject();\n        }\n      };\n      request.onerror = function (event) {\n        reject(event);\n      };\n    });\n  };\n\n  idbWrapper.removeResource = function (id) {\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var objectStore = store();\n      var request = objectStore.delete(id);\n      request.onsuccess = function () {\n        (0, _cappCacheLogger.log)(\"removed resource \" + id);\n        resolve();\n      };\n      request.onerror = function (e) {\n        (0, _cappCacheLogger.error)(\"failed to remove resource \" + id + \". error: \" + e);\n        reject(e);\n      };\n    });\n  };\n\n  idbWrapper.put = function (id, _ref) {\n    var content = _ref.content,\n        contentType = _ref.contentType;\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var objectStore = store();\n      var putRequest = objectStore.put({\n        id: id,\n        content: content,\n        contentType: contentType\n      });\n\n      putRequest.onsuccess = resolve;\n      putRequest.onerror = function (e) {\n        (0, _cappCacheLogger.error)(\"failed to save item with id \" + id + \" in cache due to error \" + e);\n        reject();\n      };\n    });\n  };\n\n  idbWrapper.pruneDb = function () {\n    var knownIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var objectStore = store();\n      var request = objectStore.openCursor();\n      request.onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n          if (!knownIds.includes(cursor.key)) {\n            idbWrapper.removeResource(cursor.key);\n            (0, _cappCacheLogger.log)(\"pruned \" + cursor.key);\n          }\n          cursor.continue();\n        } else {\n          resolve();\n        }\n      };\n      request.onerror = function (e) {\n        (0, _cappCacheLogger.error)(\"failed to get all keys while pruning cache. error\");\n        reject(e);\n      };\n    });\n  };\n\n  resolvedPromise = new Promise(function (resolve, reject) {\n    req.onsuccess = function (e) {\n      _db = e.target.result;\n      resolve(idbWrapper);\n    };\n    req.onupgradeneeded = function (e) {\n      var db = e.target.result;\n      db.createObjectStore(STORE_NAME, { keyPath: \"id\" });\n    };\n    req.onerror = function (e) {\n      dbOpenFailed = true;\n      (0, _cappCacheLogger.error)(\"failed to open indexedDB \" + JSON.stringify(e));\n      resolve(idbWrapper);\n    };\n  });\n  return resolvedPromise;\n};\n\nvar _cappCacheLogger = __webpack_require__(0);\n\nvar _indexedDB = __webpack_require__(7);\n\nvar _indexedDB2 = _interopRequireDefault(_indexedDB);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DB_NAME = \"RESOURCE_CACHE\";\nvar STORE_NAME = \"RESOURCES\";\nvar FAILED_TO_OPEN_IDB = exports.FAILED_TO_OPEN_IDB = \"FAILED_TO_OPEN_IDB\";\nvar DB_VERSION = 4;\n\nvar resolvedPromise = null;\n\nvar closeConnection = exports.closeConnection = function closeConnection() {\n  resolvedPromise = null;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pbmRleGVkREJBY2Nlc3MuanMiXSwibmFtZXMiOlsicmVzb2x2ZWRQcm9taXNlIiwiZGJPcGVuRmFpbGVkIiwiaWRiV3JhcHBlciIsIk9iamVjdCIsImNyZWF0ZSIsIl9kYiIsInJlcSIsIm9wZW4iLCJEQl9OQU1FIiwiREJfVkVSU0lPTiIsInN0b3JlIiwidHlwZSIsInRyYW5zYWN0aW9uIiwiU1RPUkVfTkFNRSIsIm9iamVjdFN0b3JlIiwiZ2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJGQUlMRURfVE9fT1BFTl9JREIiLCJyZXF1ZXN0IiwiaWQiLCJvbnN1Y2Nlc3MiLCJldmVudCIsInRhcmdldCIsInJlc3VsdCIsIm9uZXJyb3IiLCJza2lwIiwiZXhpc3RzIiwiY291bnQiLCJlIiwicmVtb3ZlUmVzb3VyY2UiLCJkZWxldGUiLCJwdXQiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJwdXRSZXF1ZXN0IiwicHJ1bmVEYiIsImtub3duSWRzIiwib3BlbkN1cnNvciIsImN1cnNvciIsImluY2x1ZGVzIiwia2V5IiwiY29udGludWUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJkYiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbG9zZUNvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7a0JBVWUsWUFBVztBQUN4QixNQUFJQSxlQUFKLEVBQXFCO0FBQ25CLFdBQU9BLGVBQVA7QUFDRDtBQUNELE1BQUlDLGVBQWUsS0FBbkI7QUFDQSxNQUFNQyxhQUFhQyxPQUFPQyxNQUFQLENBQWMsSUFBZCxDQUFuQjtBQUNBLE1BQUlDLE1BQU0sSUFBVjtBQUNBLE1BQU1DLE1BQU0sb0JBQVVDLElBQVYsQ0FBZUMsT0FBZixFQUF3QkMsVUFBeEIsQ0FBWjs7QUFFQSxNQUFNQyxRQUFRLFNBQVJBLEtBQVEsR0FBd0I7QUFBQSxRQUF2QkMsSUFBdUIsdUVBQWhCLFdBQWdCOztBQUNwQyxRQUFNQyxjQUFj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S0FBS2YsRUFBRU4sTUFBRixDQUFTQyxNQUFwQjtBQUNBb0IsU0FBR0MsaUJBQUgsQ0FBcUJqQyxVQUFyQixFQUFpQyxFQUFFa0MsU0FBUyxJQUFYLEVBQWpDO0FBQ0QsS0FIRDtBQUlBekMsUUFBSW9CLE9BQUosR0FBYyxhQUFLO0FBQ2pCekIscUJBQWUsSUFBZjtBQUNBLGtDQUFNLDhCQUE4QitDLEtBQUtDLFNBQUwsQ0FBZW5CLENBQWYsQ0FBcEM7QUFDQWIsY0FBUWYsVUFBUjtBQUNELEtBSkQ7QUFLRCxHQWRpQixDQUFsQjtBQWVBLFNBQU9GLGVBQVA7QUFDRCxDOztBQTdJRDs7QUFDQTs7Ozs7O0FBRUEsSUFBTVEsVUFBVSxnQkFBaEI7QUFDQSxJQUFNSyxhQUFhLFdBQW5CO0FBQ08sSUFBTU0sa0RBQXFCLG9CQUEzQjtBQUNQLElBQU1WLGFBQWEsQ0FBbkI7O0FBRUEsSUFBSVQsa0JBQWtCLElBQXRCOztBQXVJTyxJQUFNa0QsNENBQWtCLFNBQWxCQSxlQUFrQixHQUFNO0FBQ25DbEQsb0JBQWtCLElBQWxCO0FBQ0QsQ0FGTSIsImZpbGUiOiJpbmRleGVkREJBY2Nlc3MuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZywgZXJyb3IgfSBmcm9tIFwiLi9jYXBwQ2FjaGVMb2dnZXJcIjtcbmltcG9ydCBpbmRleGVkREIgZnJvbSBcIi4vaW5kZXhlZERCXCI7XG5cbmNvbnN0IERCX05BTUUgPSBcIlJFU09VUkNFX0NBQ0hFXCI7XG5jb25zdCBTVE9SRV9OQU1FID0gXCJSRVNPVVJDRVNcIjtcbmV4cG9ydCBjb25zdCBGQUlMRURfVE9fT1BFTl9JREIgPSBcIkZBSUxFRF9UT19PUEVOX0lEQlwiO1xuY29uc3QgREJfVkVSU0lPTiA9IDQ7XG5cbmxldCByZXNvbHZlZFByb21pc2UgPSBudWxsO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgIHJldHVybiByZXNvbHZlZFByb21pc2U7XG4gIH1cbiAgbGV0IGRiT3BlbkZhaWxlZCA9IGZhbHNlO1xuICBjb25zdCBpZGJXcmFwcGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgbGV0IF9kYiA9IG51bGw7XG4gIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pO1xuXG4gIGNvbnN0IHN0b3JlID0gKHR5cGUgPSBcInJlYWR3cml0ZVwiKSA9PiB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBfZGIudHJhbnNhY3Rpb24oW1NUT1JFX05BTUVdLCB0eXBlKTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gIH07XG5cbiAgaWRiV3JhcHBlci5nZXQgPSBpZCA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChkYk9wZW5GYWlsZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChGQUlMRURfVE9fT1BFTl9JREIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlKFwicmVhZG9ubHlcIikuZ2V0KGlkKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nKGByZXNvdXJjZSB3aXRoIGlkICR7aWR9IGlzIG5vdCBpbiB0aGUgY2FjaGVgKTtcbiAgICAgICAgICByZWplY3QobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBldmVudCA9PiB7XG4gICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gIGlkYldyYXBwZXIuc2tpcCA9ICgpID0+IFByb21pc2UucmVqZWN0KCk7XG5cbiAgaWRiV3JhcHBlci5leGlzdHMgPSBpZCA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChkYk9wZW5GYWlsZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChGQUlMRURfVE9fT1BFTl9JREIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlKFwicmVhZG9ubHlcIikuY291bnQoaWQpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBlID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gZS50YXJnZXQucmVzdWx0ID4gMDtcbiAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgIHJlc29sdmUoe30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZXZlbnQgPT4ge1xuICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICBpZGJXcmFwcGVyLnJlbW92ZVJlc291cmNlID0gaWQgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZGJPcGVuRmFpbGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoRkFJTEVEX1RPX09QRU5fSURCKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gc3RvcmUoKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBvYmplY3RTdG9yZS5kZWxldGUoaWQpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGxvZyhgcmVtb3ZlZCByZXNvdXJjZSAke2lkfWApO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgIGVycm9yKGBmYWlsZWQgdG8gcmVtb3ZlIHJlc291cmNlICR7aWR9LiBlcnJvcjogJHtlfWApO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gIGlkYldyYXBwZXIucHV0ID0gKGlkLCB7IGNvbnRlbnQsIGNvbnRlbnRUeXBlIH0pID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKGRiT3BlbkZhaWxlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KEZBSUxFRF9UT19PUEVOX0lEQik7XG4gICAgICB9XG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHN0b3JlKCk7XG4gICAgICBjb25zdCBwdXRSZXF1ZXN0ID0gb2JqZWN0U3RvcmUucHV0KHtcbiAgICAgICAgaWQsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgfSk7XG5cbiAgICAgIHB1dFJlcXVlc3Qub25zdWNjZXNzID0gcmVzb2x2ZTtcbiAgICAgIHB1dFJlcXVlc3Qub25lcnJvciA9IGUgPT4ge1xuICAgICAgICBlcnJvcihgZmFpbGVkIHRvIHNhdmUgaXRlbSB3aXRoIGlkICR7aWR9IGluIGNhY2hlIGR1ZSB0byBlcnJvciAke2V9YCk7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICBpZGJXcmFwcGVyLnBydW5lRGIgPSAoa25vd25JZHMgPSBbXSkgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZGJPcGVuRmFpbGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoRkFJTEVEX1RPX09QRU5fSURCKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gc3RvcmUoKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICBpZiAoIWtub3duSWRzLmluY2x1ZGVzKGN1cnNvci5rZXkpKSB7XG4gICAgICAgICAgICBpZGJXcmFwcGVyLnJlbW92ZVJlc291cmNlKGN1cnNvci5rZXkpO1xuICAgICAgICAgICAgbG9nKGBwcnVuZWQgJHtjdXJzb3Iua2V5fWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgZXJyb3IoYGZhaWxlZCB0byBnZXQgYWxsIGtleXMgd2hpbGUgcHJ1bmluZyBjYWNoZS4gZXJyb3JgKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICByZXNvbHZlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgX2RiID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgcmVzb2x2ZShpZGJXcmFwcGVyKTtcbiAgICB9O1xuICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBlID0+IHtcbiAgICAgIGNvbnN0IGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfTkFNRSwgeyBrZXlQYXRoOiBcImlkXCIgfSk7XG4gICAgfTtcbiAgICByZXEub25lcnJvciA9IGUgPT4ge1xuICAgICAgZGJPcGVuRmFpbGVkID0gdHJ1ZTtcbiAgICAgIGVycm9yKFwiZmFpbGVkIHRvIG9wZW4gaW5kZXhlZERCIFwiICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgICAgcmVzb2x2ZShpZGJXcmFwcGVyKTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZTtcbn1cblxuZXhwb3J0IGNvbnN0IGNsb3NlQ29ubmVjdGlvbiA9ICgpID0+IHtcbiAgcmVzb2x2ZWRQcm9taXNlID0gbnVsbDtcbn07XG4iXX0=\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isEdgeBrowser = !!(window.navigator && window.navigator.userAgent.indexOf(\"Edge\") > -1);\n\nvar getDataUrl = exports.getDataUrl = function getDataUrl(content) {\n  var contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text/javascript\";\n  var isBase64 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (isEdgeBrowser) {\n    //   edge doesn't properly support data URI, especially for Javascript :(\n    return URL.createObjectURL(new Blob([content], { type: contentType }));\n  }\n  content = content.replace(/#/g, \"%23\").replace(/(\\r\\n|\\n|\\r)/gm, \"%0A\").replace(/</g, \"%3C\").replace(/\\s\\s/g, \" \");\n  return \"data:\" + contentType + (isBase64 ? \";base64\" : \"\") + \",\" + content;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJpc0VkZ2VCcm93c2VyIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImdldERhdGFVcmwiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJpc0Jhc2U2NCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJ0eXBlIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxnQkFBZ0IsQ0FBQyxFQUFFQyxPQUFPQyxTQUFQLElBQW9CRCxPQUFPQyxTQUFQLENBQWlCQyxTQUFqQixDQUEyQkMsT0FBM0IsQ0FBbUMsTUFBbkMsSUFBNkMsQ0FBQyxDQUFwRSxDQUF2Qjs7QUFFTyxJQUFNQyxrQ0FBYSxTQUFiQSxVQUFhLENBQUNDLE9BQUQsRUFBZ0U7QUFBQSxNQUF0REMsV0FBc0QsdUVBQXhDLGlCQUF3QztBQUFBLE1BQXJCQyxRQUFxQix1RUFBVixLQUFVOztBQUN4RixNQUFJUixhQUFKLEVBQW1CO0FBQ25CO0FBQ0UsV0FBT1MsSUFBSUMsZUFBSixDQUFvQixJQUFJQyxJQUFKLENBQVMsQ0FBQ0wsT0FBRCxDQUFULEVBQW9CLEVBQUVNLE1BQU1MLFdBQVIsRUFBcEIsQ0FBcEIsQ0FBUDtBQUNEO0FBQ0RELFlBQVVBLFFBQVFPLE9BQVIsQ0FBZ0IsSUFBaEIsRUFBc0IsS0FBdEIsRUFBNkJBLE9BQTdCLENBQXFDLGdCQUFyQyxFQUF1RCxLQUF2RCxFQUE4REEsT0FBOUQsQ0FBc0UsSUFBdEUsRUFBNEUsS0FBNUUsRUFBbUZBLE9BQW5GLENBQTJGLE9BQTNGLEVBQW9HLEdBQXBHLENBQVY7QUFDQSxtQkFBZU4sV0FBZixJQUE2QkMsV0FBVyxTQUFYLEdBQXVCLEVBQXBELFVBQTBERixPQUExRDtBQUNELENBUE0iLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlzRWRnZUJyb3dzZXIgPSAhISh3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJFZGdlXCIpID4gLTEpO1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YVVybCA9IChjb250ZW50LCBjb250ZW50VHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCIsIGlzQmFzZTY0ID0gZmFsc2UpID0+IHtcbiAgaWYgKGlzRWRnZUJyb3dzZXIpIHtcbiAgLy8gICBlZGdlIGRvZXNuJ3QgcHJvcGVybHkgc3VwcG9ydCBkYXRhIFVSSSwgZXNwZWNpYWxseSBmb3IgSmF2YXNjcmlwdCA6KFxuICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtjb250ZW50XSwgeyB0eXBlOiBjb250ZW50VHlwZSB9KSk7XG4gIH1cbiAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIy9nLCBcIiUyM1wiKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIiUwQVwiKS5yZXBsYWNlKC88L2csIFwiJTNDXCIpLnJlcGxhY2UoL1xcc1xccy9nLCBcIiBcIik7XG4gIHJldHVybiBgZGF0YToke2NvbnRlbnRUeXBlfSR7aXNCYXNlNjQgPyBcIjtiYXNlNjRcIiA6IFwiXCJ9LCR7Y29udGVudH1gO1xufTtcbiJdfQ==\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.load = load;\nexports.getLoadedResources = getLoadedResources;\nexports.getResourceUri = getResourceUri;\nexports.revokeResourceUriForUrl = revokeResourceUriForUrl;\nexports.pruneDB = pruneDB;\n\nvar _cappCacheLogger = __webpack_require__(0);\n\nvar _indexedDBAccess = __webpack_require__(1);\n\nvar _indexedDBAccess2 = _interopRequireDefault(_indexedDBAccess);\n\nvar _tagPropertiesMap = __webpack_require__(8);\n\nvar _tagPropertiesMap2 = _interopRequireDefault(_tagPropertiesMap);\n\nvar _resourceLoader = __webpack_require__(4);\n\nvar _sortResources = __webpack_require__(11);\n\nvar _onLoadDoneHandling = __webpack_require__(12);\n\nvar _utils = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RESOURCES_LOAD_START = \"Resources load start\";\nvar DATA_SRC_ATTR = \"data-cappcache-src\";\n\nvar WAITING = \"waiting\";\nvar LOADED = \"loaded\";\n\n// We use this mock document when loading assets with \"cacheOnly\" property. this keeps code consistent (no \"if cacheOnly... else... ),\n// while avoiding performance hit of adding unnecessary elements to the DOM when we just want to pre-cache the elements\nvar MOCK_DOCUMENT = {\n  createElement: function createElement() {\n    return {\n      appendChild: Function.prototype,\n      setAttribute: Function.prototype\n    };\n  },\n  head: { appendChild: Function.prototype },\n  body: { appendChild: Function.prototype },\n  createTextNode: Function.prototype\n};\nvar loadedResources = [];\n\n/**\n * Loads a list of resources according to the manifest.\n * */\nfunction load(_ref) {\n  var _ref$resources = _ref.resources,\n      resources = _ref$resources === undefined ? [] : _ref$resources,\n      _ref$document = _ref.document,\n      document = _ref$document === undefined ? window.document : _ref$document,\n      _ref$forceLoadFromCac = _ref.forceLoadFromCache,\n      forceLoadFromCache = _ref$forceLoadFromCac === undefined ? false : _ref$forceLoadFromCac,\n      onLoadDone = _ref.onLoadDone,\n      _ref$recacheAfterVers = _ref.recacheAfterVersionChange,\n      recacheAfterVersionChange = _ref$recacheAfterVers === undefined ? false : _ref$recacheAfterVers;\n\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$syncCacheOnly = _ref2.syncCacheOnly,\n      syncCacheOnly = _ref2$syncCacheOnly === undefined ? false : _ref2$syncCacheOnly,\n      _ref2$wasManifestModi = _ref2.wasManifestModified,\n      wasManifestModified = _ref2$wasManifestModi === undefined ? false : _ref2$wasManifestModi,\n      _ref2$overrideDomCont = _ref2.overrideDomContentLoaded,\n      overrideDomContentLoaded = _ref2$overrideDomCont === undefined ? false : _ref2$overrideDomCont,\n      _ref2$forceRecaching = _ref2.forceRecaching,\n      forceRecaching = _ref2$forceRecaching === undefined ? false : _ref2$forceRecaching;\n\n  (0, _cappCacheLogger.perfMark)(RESOURCES_LOAD_START);\n  if (recacheAfterVersionChange === true && wasManifestModified === true) {\n    forceRecaching = true;\n  }\n  var elementAddedToBody = false;\n  return new Promise(function (resolve, reject) {\n    if (resources.length === 0) {\n      return resolve();\n    }\n    (0, _indexedDBAccess2.default)().then(function (db) {\n      (0, _sortResources.sortResources)(resources);\n      var lastErr = undefined;\n\n      var tagsReadyToBeAdded = [];\n      var parsedTagsCount = 0;\n      var allFromCache = true;\n      var resourcesResult = [];\n      resources.forEach(function (resourceManifestObj) {\n        var url = resourceManifestObj.url,\n            _resourceManifestObj$ = resourceManifestObj.type,\n            type = _resourceManifestObj$ === undefined ? \"js\" : _resourceManifestObj$,\n            _resourceManifestObj$2 = resourceManifestObj.target,\n            target = _resourceManifestObj$2 === undefined ? \"head\" : _resourceManifestObj$2,\n            _resourceManifestObj$3 = resourceManifestObj.attributes,\n            attributes = _resourceManifestObj$3 === undefined ? {} : _resourceManifestObj$3,\n            _resourceManifestObj$4 = resourceManifestObj.cacheOnly,\n            cacheOnly = _resourceManifestObj$4 === undefined ? false : _resourceManifestObj$4,\n            isBinary = resourceManifestObj.isBinary,\n            _resourceManifestObj$5 = resourceManifestObj.networkOnly,\n            networkOnly = _resourceManifestObj$5 === undefined ? false : _resourceManifestObj$5;\n\n        if (target === \"body\") elementAddedToBody = true;\n        (0, _cappCacheLogger.perfMark)(\"load start \" + url);\n        var userAttributes = attributes;\n        var staticAttributes = _tagPropertiesMap2.default[type];\n        if (staticAttributes === undefined) {\n          return (0, _cappCacheLogger.error)(\"Unsupported tag \" + type);\n        }\n        if (staticAttributes.defaultToBinary !== undefined) {\n          isBinary = staticAttributes.defaultToBinary;\n        } else {\n          isBinary = false;\n        }\n        var documentTarget = cacheOnly || syncCacheOnly || !staticAttributes.canAddToDom ? MOCK_DOCUMENT : document;\n        var tag = void 0;\n\n        (0, _resourceLoader.loadResource)({\n          indexedDBAccess: db,\n          url: url,\n          immediate: forceLoadFromCache,\n          isBinary: isBinary,\n          cacheOnly: cacheOnly || syncCacheOnly,\n          forceRecaching: forceRecaching,\n          networkOnly: networkOnly\n        }\n        /* resource already cached */\n        ).then(function (_ref3) {\n          var resource = _ref3.resource;\n\n          resourcesResult.push({ url: url, fromCache: true });\n          tag = documentTarget.createElement(staticAttributes.tagName);\n\n          var content = resource.content;\n\n          if (type === \"js\") {\n            var onLoadScript = \"\";\n            if (userAttributes[\"onload\"]) {\n              onLoadScript = \"/*--- capp-cache onload handler---*/\\n\" + userAttributes[\"onload\"];\n            }\n            content = \"//# sourceURL=\" + url + \"\\n\" + content + \"\\n\" + onLoadScript;\n          }\n          staticAttributes.setElementContentFunc({\n            tag: tag,\n            documentTarget: documentTarget,\n            content: content,\n            resourceManifestObj: resourceManifestObj,\n            wasManifestModified: wasManifestModified\n          });\n          tag.setAttribute(\"data-cappcache-src\", url);\n        }\n        /* resource is not in cache */\n        ).catch(function (e) {\n          if (e === null) {\n            //there is no error, the resource is simply not in cache\n            allFromCache = false;\n            resourcesResult.push({ url: url, fromCache: false });\n            var tagType = staticAttributes.tagName;\n            if (staticAttributes.tagNameWhenNotInline !== undefined) {\n              tagType = staticAttributes.tagNameWhenNotInline;\n              staticAttributes.attributes = staticAttributes.attributesWhenNotInline;\n            }\n            tag = documentTarget.createElement(tagType);\n            if (staticAttributes.alwaysCallSetContent) {\n              staticAttributes.setElementContentFunc({ tag: tag, documentTarget: documentTarget, resourceManifestObj: resourceManifestObj });\n            }\n            if (staticAttributes.contentFetchKey) {\n              tag.setAttribute(staticAttributes.contentFetchKey, url);\n            }\n            tag.async = !!userAttributes[\"async\"];\n          } else {\n            (0, _cappCacheLogger.error)(\"error trying to load resource \" + e);\n            return Promise.reject();\n          }\n        }\n        /* Common code for all cases, in cache and not in cache */\n        ).then(function () {\n          Object.keys(staticAttributes.attributes).forEach(function (attribute) {\n            tag.setAttribute(attribute, staticAttributes.attributes[attribute]);\n          });\n          Object.keys(userAttributes).forEach(function (attribute) {\n            if (attribute !== \"async\") {\n              tag.setAttribute(attribute, userAttributes[attribute]);\n            }\n          });\n          loadedResources.push({\n            url: url,\n            domSelector: documentTarget === MOCK_DOCUMENT ? null : staticAttributes.tagName + \"[\" + DATA_SRC_ATTR + \"=\\\"\" + url + \"\\\"]\"\n          });\n          if (!cacheOnly) {\n            var currPos = resourceManifestObj._index;\n            tagsReadyToBeAdded[currPos] = { state: WAITING, domTarget: documentTarget[target], tag: tag, url: url };\n            if (currPos === 0 || staticAttributes.allowLoadingOutOfOrder || userAttributes.async || currPos > 0 && tagsReadyToBeAdded[currPos - 1] !== undefined && tagsReadyToBeAdded[currPos - 1].state === LOADED) {\n              while (tagsReadyToBeAdded[currPos] !== undefined && tagsReadyToBeAdded[currPos].state === WAITING) {\n                var _tagsReadyToBeAdded$c = tagsReadyToBeAdded[currPos],\n                    domTarget = _tagsReadyToBeAdded$c.domTarget,\n                    _tag = _tagsReadyToBeAdded$c.tag,\n                    _url = _tagsReadyToBeAdded$c.url;\n\n                (0, _cappCacheLogger.perfMark)(_url);\n                domTarget.appendChild(_tag);\n                (0, _cappCacheLogger.log)(\"%c added [\" + _url + \"] to the \" + target, \"color: blue\");\n                (0, _cappCacheLogger.perfMarkEnd)(\"add to DOM \" + _url, _url);\n                tagsReadyToBeAdded[currPos].state = LOADED;\n                currPos++;\n              }\n            } else {\n              (0, _cappCacheLogger.log)(\"skipping resource \" + url + \" since the previous resource was not loaded yet\");\n            }\n          }\n        }).catch(function (err) {\n          lastErr = err;\n        }).then(function () {\n          ++parsedTagsCount;\n          if (parsedTagsCount === resources.length) {\n            if (lastErr !== undefined) {\n              (0, _cappCacheLogger.error)(\"Error while loading resources \" + lastErr);\n              reject(lastErr);\n            } else {\n              (0, _onLoadDoneHandling.appendOnLoadScript)({\n                document: document,\n                callback: function callback() {\n                  resolve({ resources: resourcesResult, allFromCache: allFromCache });\n                },\n                overrideDomContentLoaded: overrideDomContentLoaded,\n                onLoadDone: onLoadDone,\n                elementAddedToBody: elementAddedToBody\n              });\n              (0, _cappCacheLogger.perfMarkEnd)(\"RESOURCES LOAD\", RESOURCES_LOAD_START);\n            }\n          }\n        });\n      });\n    });\n  });\n}\nfunction getLoadedResources() {\n  return loadedResources.map(function (i) {\n    return { url: i.url, domSelector: i.domSelector };\n  });\n}\nvar resourceUriHistory = {};\n\nfunction getResourceUri(_ref4) {\n  var url = _ref4.url,\n      _ref4$isBase64Text = _ref4.isBase64Text,\n      isBase64Text = _ref4$isBase64Text === undefined ? false : _ref4$isBase64Text,\n      _ref4$isBinary = _ref4.isBinary,\n      isBinary = _ref4$isBinary === undefined ? true : _ref4$isBinary;\n\n  return new Promise(function (resolve, reject) {\n    if (isBinary && resourceUriHistory[url]) {\n      return resolve(resourceUriHistory[url]);\n    }\n    (0, _indexedDBAccess2.default)().then(function (db) {\n      return (0, _resourceLoader.loadResource)({ indexedDBAccess: db, url: url, immediate: true, isBinary: isBinary });\n    }).then(function (_ref5) {\n      var resource = _ref5.resource;\n      var content = resource.content,\n          contentType = resource.contentType;\n\n      if (isBinary) {\n        return URL.createObjectURL(content);\n      } else {\n        return (0, _utils.getDataUrl)(isBase64Text ? btoa(content) : content, contentType, isBase64Text);\n      }\n    }).then(function (dataUrl) {\n      if (isBinary) {\n        resourceUriHistory[url] = dataUrl;\n      }\n      resolve(dataUrl);\n    }).catch(function (e) {\n      (0, _cappCacheLogger.error)(\"failed to fetch resource \" + e);\n      reject(null);\n    });\n  });\n}\n\nfunction revokeResourceUriForUrl(url) {\n  var resourceUri = resourceUriHistory[url];\n  if (resourceUri) {\n    resourceUriHistory[url] = null;\n    URL.revokeObjectURL(url);\n  }\n}\n\n/**\n * Clears indexedDB from any files on this page which were not loaded in this session by calling the load function.\n * Call this function to remove old obsolete files from the cache.\n */\nfunction pruneDB() {\n  (0, _indexedDBAccess2.default)().then(function (db) {\n    db.pruneDb((0, _resourceLoader.getCachedFiles)());\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9yZXNvdXJjZU1hbmFnZXIuanMiXSwibmFtZXMiOlsibG9hZCIsImdldExvYWRlZFJlc291cmNlcyIsImdldFJlc291cmNlVXJpIiwicmV2b2tlUmVzb3VyY2VVcmlGb3JVcmwiLCJwcnVuZURCIiwiUkVTT1VSQ0VTX0xPQURfU1RBUlQiLCJEQVRBX1NSQ19BVFRSIiwiV0FJVElORyIsIkxPQURFRCIsIk1PQ0tfRE9DVU1FTlQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsInNldEF0dHJpYnV0ZSIsImhlYWQiLCJib2R5IiwiY3JlYXRlVGV4dE5vZGUiLCJsb2FkZWRSZXNvdXJjZXMiLCJyZXNvdXJjZXMiLCJkb2N1bWVudCIsIndpbmRvdyIsImZvcmNlTG9hZEZyb21DYWNoZSIsIm9uTG9hZERvbmUiLCJyZWNhY2hlQWZ0ZXJWZXJzaW9uQ2hhbmdlIiwic3luY0NhY2hlT25seSIsIndhc01hbmlmZXN0TW9kaWZpZWQiLCJvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQiLCJmb3JjZVJlY2FjaGluZyIsImVsZW1lbnRBZGRlZFRvQm9keSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibGVuZ3RoIiwidGhlbiIsImxhc3RFcnIiLCJ1bmRlZmluZWQiLCJ0YWdzUmVhZHlUb0JlQWRkZWQiLCJwYXJzZWRUYWdzQ291bnQiLCJhbGxGcm9tQ2FjaGUiLCJyZXNvdXJjZXNSZXN1bHQiLCJmb3JFYWNoIiwidXJsIiwicmVzb3VyY2VNYW5pZmVzdE9iaiIsInR5cGUiLCJ0YXJnZXQiLCJhdHRyaWJ1dGVzIiwiY2FjaGVPbmx5IiwiaXNCaW5hcnkiLCJuZXR3b3JrT25seSIsInVzZXJBdHRyaWJ1dGVzIiwic3RhdGljQXR0cmlidXRlcyIsImRlZmF1bHRUb0JpbmFyeSIsImRvY3VtZW50VGFyZ2V0IiwiY2FuQWRkVG9Eb20iLCJ0YWciLCJpbmRleGVkREJBY2Nlc3MiLCJkYiIsImltbWVkaWF0ZSIsInJlc291cmNlIiwicHVzaCIsImZyb21DYWNoZSIsInRhZ05hbWUiLCJjb250ZW50Iiwib25Mb2FkU2NyaXB0Iiwic2V0RWxlbWVudENvbnRlbnRGdW5jIiwiY2F0Y2giLCJlIiwidGFnVHlwZSIsInRhZ05hbWVXaGVuTm90SW5saW5lIiwiYXR0cmlidXRlc1doZW5Ob3RJbmxpbmUiLCJhbHdheXNDYWxsU2V0Q29udGVudCIsImNvbnRlbnRGZXRjaEtleSIsImFzeW5jIiwiT2JqZWN0Iiwia2V5cyIsImF0dHJpYnV0ZSIsImRvbVNlbGVjdG9yIiwiY3VyclBvcyIsIl9pbmRleCIsInN0YXRlIiwiZG9tVGFyZ2V0IiwiYWxsb3dMb2FkaW5nT3V0T2ZPcmRlciIsImVyciIsImNhbGxiYWNrIiwibWFwIiwiaSIsInJlc291cmNlVXJpSGlzdG9yeSIsImlzQmFzZTY0VGV4dCIsImNvbnRlbnRUeXBlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYnRvYSIsImRhdGFVcmwiLCJyZXNvdXJjZVVyaSIsInJldm9rZU9iamVjdFVSTCIsInBydW5lRGIiXSwibWFwcGluZ3MiOiI7Ozs7O1FBOEJnQkEsSSxHQUFBQSxJO1FBOEtBQyxrQixHQUFBQSxrQjtRQUtBQyxjLEdBQUFBLGM7UUE4QkFDLHVCLEdBQUFBLHVCO1FBWUFDLE8sR0FBQUEsTzs7QUEzUGhCOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQU1DLHVCQUF1QixzQkFBN0I7QUFDQSxJQUFNQyxnQkFBZ0Isb0JBQXRCOztBQUVBLElBQU1DLFVBQVUsU0FBaEI7QUFDQSxJQUFNQyxTQUFTLFFBQWY7O0FBRUE7QUFDQTtBQUNBLElBQU1DLGdCQUFnQjtBQUNwQkMsaUJBQWU7QUFBQSxXQUFPO0FBQ3BCQyxtQkFBYUMsU0FBU0MsU0FERjtBQUVwQkMsb0JBQWNGLFNBQVNDO0FBRkgsS0FBUDtBQUFBLEdBREs7QUFLcEJFLFFBQU0sRUFBRUosYUFBYUMsU0FBU0MsU0FBeEIsRUFMYztBQU1wQkcsUUFBTSxFQUFFTCxh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QUFULEdBQW1CO0FBQ3hCLG1DQUFrQjhCLElBQWxCLENBQXVCLGNBQU07QUFDM0J1QixPQUFHdUMsT0FBSCxDQUFXLHFDQUFYO0FBQ0QsR0FGRDtBQUdEIiwiZmlsZSI6InJlc291cmNlTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3IsIGxvZywgcGVyZk1hcmssIHBlcmZNYXJrRW5kIH0gZnJvbSBcIi4vY2FwcENhY2hlTG9nZ2VyXCI7XG5pbXBvcnQgaW5kZXhlZERCQWNjZXNzIGZyb20gXCIuL2luZGV4ZWREQkFjY2Vzc1wiO1xuaW1wb3J0IHRhZ1Byb3BlcnRpZXNNYXAgZnJvbSBcIi4vdGFnUHJvcGVydGllc01hcFwiO1xuaW1wb3J0IHsgbG9hZFJlc291cmNlLCBnZXRDYWNoZWRGaWxlcyB9IGZyb20gXCIuL3Jlc291cmNlTG9hZGVyXCI7XG5pbXBvcnQgeyBzb3J0UmVzb3VyY2VzIH0gZnJvbSBcIi4vc29ydFJlc291cmNlc1wiO1xuaW1wb3J0IHsgYXBwZW5kT25Mb2FkU2NyaXB0IH0gZnJvbSBcIi4vb25Mb2FkRG9uZUhhbmRsaW5nXCI7XG5pbXBvcnQgeyBnZXREYXRhVXJsIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgUkVTT1VSQ0VTX0xPQURfU1RBUlQgPSBcIlJlc291cmNlcyBsb2FkIHN0YXJ0XCI7XG5jb25zdCBEQVRBX1NSQ19BVFRSID0gXCJkYXRhLWNhcHBjYWNoZS1zcmNcIjtcblxuY29uc3QgV0FJVElORyA9IFwid2FpdGluZ1wiO1xuY29uc3QgTE9BREVEID0gXCJsb2FkZWRcIjtcblxuLy8gV2UgdXNlIHRoaXMgbW9jayBkb2N1bWVudCB3aGVuIGxvYWRpbmcgYXNzZXRzIHdpdGggXCJjYWNoZU9ubHlcIiBwcm9wZXJ0eS4gdGhpcyBrZWVwcyBjb2RlIGNvbnNpc3RlbnQgKG5vIFwiaWYgY2FjaGVPbmx5Li4uIGVsc2UuLi4gKSxcbi8vIHdoaWxlIGF2b2lkaW5nIHBlcmZvcm1hbmNlIGhpdCBvZiBhZGRpbmcgdW5uZWNlc3NhcnkgZWxlbWVudHMgdG8gdGhlIERPTSB3aGVuIHdlIGp1c3Qgd2FudCB0byBwcmUtY2FjaGUgdGhlIGVsZW1lbnRzXG5jb25zdCBNT0NLX0RPQ1VNRU5UID0ge1xuICBjcmVhdGVFbGVtZW50OiAoKSA9PiAoe1xuICAgIGFwcGVuZENoaWxkOiBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgc2V0QXR0cmlidXRlOiBGdW5jdGlvbi5wcm90b3R5cGUsXG4gIH0pLFxuICBoZWFkOiB7IGFwcGVuZENoaWxkOiBGdW5jdGlvbi5wcm90b3R5cGUgfSxcbiAgYm9keTogeyBhcHBlbmRDaGlsZDogRnVuY3Rpb24ucHJvdG90eXBlIH0sXG4gIGNyZWF0ZVRleHROb2RlOiBGdW5jdGlvbi5wcm90b3R5cGUsXG59O1xuY29uc3QgbG9hZGVkUmVzb3VyY2VzID0gW107XG5cbi8qKlxuICogTG9hZHMgYSBsaXN0IG9mIHJlc291cmNlcyBhY2NvcmRpbmcgdG8gdGhlIG1hbmlmZXN0LlxuICogKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKFxuICB7XG4gICAgcmVzb3VyY2VzID0gW10sXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG4gICAgZm9yY2VMb2FkRnJvbUNhY2hlID0gZmFsc2UsXG4gICAgb25Mb2FkRG9uZSxcbiAgICByZWNhY2hlQWZ0ZXJWZXJzaW9uQ2hhbmdlID0gZmFsc2UsXG4gIH0sXG4gIHsgc3luY0NhY2hlT25seSA9IGZhbHNlLCB3YXNNYW5pZmVzdE1vZGlmaWVkID0gZmFsc2UsIG92ZXJyaWRlRG9tQ29udGVudExvYWRlZCA9IGZhbHNlLCBmb3JjZVJlY2FjaGluZyA9IGZhbHNlIH0gPSB7fVxuKSB7XG4gIHBlcmZNYXJrKFJFU09VUkNFU19MT0FEX1NUQVJUKTtcbiAgaWYgKHJlY2FjaGVBZnRlclZlcnNpb25DaGFuZ2UgPT09IHRydWUgJiYgd2FzTWFuaWZlc3RNb2RpZmllZCA9PT0gdHJ1ZSkge1xuICAgIGZvcmNlUmVjYWNoaW5nID0gdHJ1ZTtcbiAgfVxuICBsZXQgZWxlbWVudEFkZGVkVG9Cb2R5ID0gZmFsc2U7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHJlc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgfVxuICAgIGluZGV4ZWREQkFjY2VzcygpLnRoZW4oZGIgPT4ge1xuICAgICAgc29ydFJlc291cmNlcyhyZXNvdXJjZXMpO1xuICAgICAgbGV0IGxhc3RFcnIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHRhZ3NSZWFkeVRvQmVBZGRlZCA9IFtdO1xuICAgICAgbGV0IHBhcnNlZFRhZ3NDb3VudCA9IDA7XG4gICAgICBsZXQgYWxsRnJvbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJlc291cmNlc1Jlc3VsdCA9IFtdO1xuICAgICAgcmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2VNYW5pZmVzdE9iaiA9PiB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHR5cGUgPSBcImpzXCIsXG4gICAgICAgICAgdGFyZ2V0ID0gXCJoZWFkXCIsXG4gICAgICAgICAgYXR0cmlidXRlcyA9IHt9LFxuICAgICAgICAgIGNhY2hlT25seSA9IGZhbHNlLFxuICAgICAgICAgIGlzQmluYXJ5LFxuICAgICAgICAgIG5ldHdvcmtPbmx5ID0gZmFsc2UsXG4gICAgICAgIH0gPSByZXNvdXJjZU1hbmlmZXN0T2JqO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBcImJvZHlcIikgZWxlbWVudEFkZGVkVG9Cb2R5ID0gdHJ1ZTtcbiAgICAgICAgcGVyZk1hcmsoYGxvYWQgc3RhcnQgJHt1cmx9YCk7XG4gICAgICAgIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgY29uc3Qgc3RhdGljQXR0cmlidXRlcyA9IHRhZ1Byb3BlcnRpZXNNYXBbdHlwZV07XG4gICAgICAgIGlmIChzdGF0aWNBdHRyaWJ1dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3IoYFVuc3VwcG9ydGVkIHRhZyAke3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRpY0F0dHJpYnV0ZXMuZGVmYXVsdFRvQmluYXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpc0JpbmFyeSA9IHN0YXRpY0F0dHJpYnV0ZXMuZGVmYXVsdFRvQmluYXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzQmluYXJ5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9jdW1lbnRUYXJnZXQgPSBjYWNoZU9ubHkgfHwgc3luY0NhY2hlT25seSB8fCAhc3RhdGljQXR0cmlidXRlcy5jYW5BZGRUb0RvbSA/IE1PQ0tfRE9DVU1FTlQgOiBkb2N1bWVudDtcbiAgICAgICAgbGV0IHRhZztcblxuICAgICAgICBsb2FkUmVzb3VyY2Uoe1xuICAgICAgICAgIGluZGV4ZWREQkFjY2VzczogZGIsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIGltbWVkaWF0ZTogZm9yY2VMb2FkRnJvbUNhY2hlLFxuICAgICAgICAgIGlzQmluYXJ5LFxuICAgICAgICAgIGNhY2hlT25seTogY2FjaGVPbmx5IHx8IHN5bmNDYWNoZU9ubHksXG4gICAgICAgICAgZm9yY2VSZWNhY2hpbmcsXG4gICAgICAgICAgbmV0d29ya09ubHksXG4gICAgICAgIH0pXG4gICAgICAgICAgLyogcmVzb3VyY2UgYWxyZWFkeSBjYWNoZWQgKi9cbiAgICAgICAgICAudGhlbigoeyByZXNvdXJjZSB9KSA9PiB7XG4gICAgICAgICAgICByZXNvdXJjZXNSZXN1bHQucHVzaCh7IHVybCwgZnJvbUNhY2hlOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGFnID0gZG9jdW1lbnRUYXJnZXQuY3JlYXRlRWxlbWVudChzdGF0aWNBdHRyaWJ1dGVzLnRhZ05hbWUpO1xuXG4gICAgICAgICAgICBsZXQgeyBjb250ZW50IH0gPSByZXNvdXJjZTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcImpzXCIpIHtcbiAgICAgICAgICAgICAgbGV0IG9uTG9hZFNjcmlwdCA9IFwiXCI7XG4gICAgICAgICAgICAgIGlmICh1c2VyQXR0cmlidXRlc1tcIm9ubG9hZFwiXSkge1xuICAgICAgICAgICAgICAgIG9uTG9hZFNjcmlwdCA9IGAvKi0tLSBjYXBwLWNhY2hlIG9ubG9hZCBoYW5kbGVyLS0tKi9cXG4ke3VzZXJBdHRyaWJ1dGVzW1wib25sb2FkXCJdfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGVudCA9IGAvLyMgc291cmNlVVJMPSR7dXJsfVxcbiR7Y29udGVudH1cXG4ke29uTG9hZFNjcmlwdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljQXR0cmlidXRlcy5zZXRFbGVtZW50Q29udGVudEZ1bmMoe1xuICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgIGRvY3VtZW50VGFyZ2V0LFxuICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICByZXNvdXJjZU1hbmlmZXN0T2JqLFxuICAgICAgICAgICAgICB3YXNNYW5pZmVzdE1vZGlmaWVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKFwiZGF0YS1jYXBwY2FjaGUtc3JjXCIsIHVybCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAvKiByZXNvdXJjZSBpcyBub3QgaW4gY2FjaGUgKi9cbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvL3RoZXJlIGlzIG5vIGVycm9yLCB0aGUgcmVzb3VyY2UgaXMgc2ltcGx5IG5vdCBpbiBjYWNoZVxuICAgICAgICAgICAgICBhbGxGcm9tQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmVzb3VyY2VzUmVzdWx0LnB1c2goeyB1cmwsIGZyb21DYWNoZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgIGxldCB0YWdUeXBlID0gc3RhdGljQXR0cmlidXRlcy50YWdOYW1lO1xuICAgICAgICAgICAgICBpZiAoc3RhdGljQXR0cmlidXRlcy50YWdOYW1lV2hlbk5vdElubGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGFnVHlwZSA9IHN0YXRpY0F0dHJpYnV0ZXMudGFnTmFtZVdoZW5Ob3RJbmxpbmU7XG4gICAgICAgICAgICAgICAgc3RhdGljQXR0cmlidXRlcy5hdHRyaWJ1dGVzID0gc3RhdGljQXR0cmlidXRlcy5hdHRyaWJ1dGVzV2hlbk5vdElubGluZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0YWcgPSBkb2N1bWVudFRhcmdldC5jcmVhdGVFbGVtZW50KHRhZ1R5cGUpO1xuICAgICAgICAgICAgICBpZiAoc3RhdGljQXR0cmlidXRlcy5hbHdheXNDYWxsU2V0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIHN0YXRpY0F0dHJpYnV0ZXMuc2V0RWxlbWVudENvbnRlbnRGdW5jKHsgdGFnLCBkb2N1bWVudFRhcmdldCwgcmVzb3VyY2VNYW5pZmVzdE9iaiB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3RhdGljQXR0cmlidXRlcy5jb250ZW50RmV0Y2hLZXkpIHtcbiAgICAgICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKHN0YXRpY0F0dHJpYnV0ZXMuY29udGVudEZldGNoS2V5LCB1cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRhZy5hc3luYyA9ICEhdXNlckF0dHJpYnV0ZXNbXCJhc3luY1wiXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVycm9yKGBlcnJvciB0cnlpbmcgdG8gbG9hZCByZXNvdXJjZSAke2V9YCk7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLyogQ29tbW9uIGNvZGUgZm9yIGFsbCBjYXNlcywgaW4gY2FjaGUgYW5kIG5vdCBpbiBjYWNoZSAqL1xuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0YXRpY0F0dHJpYnV0ZXMuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgc3RhdGljQXR0cmlidXRlcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh1c2VyQXR0cmlidXRlcykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlICE9PSBcImFzeW5jXCIpIHtcbiAgICAgICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdXNlckF0dHJpYnV0ZXNbYXR0cmlidXRlXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbG9hZGVkUmVzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIGRvbVNlbGVjdG9yOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50VGFyZ2V0ID09PSBNT0NLX0RPQ1VNRU5UID8gbnVsbCA6IGAke3N0YXRpY0F0dHJpYnV0ZXMudGFnTmFtZX1bJHtEQVRBX1NSQ19BVFRSfT1cIiR7dXJsfVwiXWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY2FjaGVPbmx5KSB7XG4gICAgICAgICAgICAgIGxldCBjdXJyUG9zID0gcmVzb3VyY2VNYW5pZmVzdE9iai5faW5kZXg7XG4gICAgICAgICAgICAgIHRhZ3NSZWFkeVRvQmVBZGRlZFtjdXJyUG9zXSA9IHsgc3RhdGU6IFdBSVRJTkcsIGRvbVRhcmdldDogZG9jdW1lbnRUYXJnZXRbdGFyZ2V0XSwgdGFnLCB1cmwgfTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGN1cnJQb3MgPT09IDAgfHxcbiAgICAgICAgICAgICAgICBzdGF0aWNBdHRyaWJ1dGVzLmFsbG93TG9hZGluZ091dE9mT3JkZXIgfHxcbiAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcy5hc3luYyB8fFxuICAgICAgICAgICAgICAgIChjdXJyUG9zID4gMCAmJlxuICAgICAgICAgICAgICAgICAgdGFnc1JlYWR5VG9CZUFkZGVkW2N1cnJQb3MgLSAxXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICB0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvcyAtIDFdLnN0YXRlID09PSBMT0FERUQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvc10gIT09IHVuZGVmaW5lZCAmJiB0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvc10uc3RhdGUgPT09IFdBSVRJTkcpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9tVGFyZ2V0LCB0YWcsIHVybCB9ID0gdGFnc1JlYWR5VG9CZUFkZGVkW2N1cnJQb3NdO1xuICAgICAgICAgICAgICAgICAgcGVyZk1hcmsodXJsKTtcbiAgICAgICAgICAgICAgICAgIGRvbVRhcmdldC5hcHBlbmRDaGlsZCh0YWcpO1xuICAgICAgICAgICAgICAgICAgbG9nKGAlYyBhZGRlZCBbJHt1cmx9XSB0byB0aGUgJHt0YXJnZXR9YCwgXCJjb2xvcjogYmx1ZVwiKTtcbiAgICAgICAgICAgICAgICAgIHBlcmZNYXJrRW5kKGBhZGQgdG8gRE9NICR7dXJsfWAsIHVybCk7XG4gICAgICAgICAgICAgICAgICB0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvc10uc3RhdGUgPSBMT0FERUQ7XG4gICAgICAgICAgICAgICAgICBjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZyhgc2tpcHBpbmcgcmVzb3VyY2UgJHt1cmx9IHNpbmNlIHRoZSBwcmV2aW91cyByZXNvdXJjZSB3YXMgbm90IGxvYWRlZCB5ZXRgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBsYXN0RXJyID0gZXJyO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgKytwYXJzZWRUYWdzQ291bnQ7XG4gICAgICAgICAgICBpZiAocGFyc2VkVGFnc0NvdW50ID09PSByZXNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0RXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihgRXJyb3Igd2hpbGUgbG9hZGluZyByZXNvdXJjZXMgJHtsYXN0RXJyfWApO1xuICAgICAgICAgICAgICAgIHJlamVjdChsYXN0RXJyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRPbkxvYWRTY3JpcHQoe1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgcmVzb3VyY2VzOiByZXNvdXJjZXNSZXN1bHQsIGFsbEZyb21DYWNoZSB9KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQsXG4gICAgICAgICAgICAgICAgICBvbkxvYWREb25lLFxuICAgICAgICAgICAgICAgICAgZWxlbWVudEFkZGVkVG9Cb2R5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBlcmZNYXJrRW5kKFwiUkVTT1VSQ0VTIExPQURcIiwgUkVTT1VSQ0VTX0xPQURfU1RBUlQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZGVkUmVzb3VyY2VzKCkge1xuICByZXR1cm4gbG9hZGVkUmVzb3VyY2VzLm1hcChpID0+ICh7IHVybDogaS51cmwsIGRvbVNlbGVjdG9yOiBpLmRvbVNlbGVjdG9yIH0pKTtcbn1cbmNvbnN0IHJlc291cmNlVXJpSGlzdG9yeSA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb3VyY2VVcmkoeyB1cmwsIGlzQmFzZTY0VGV4dCA9IGZhbHNlLCBpc0JpbmFyeSA9IHRydWUgfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChpc0JpbmFyeSAmJiByZXNvdXJjZVVyaUhpc3RvcnlbdXJsXSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUocmVzb3VyY2VVcmlIaXN0b3J5W3VybF0pO1xuICAgIH1cbiAgICBpbmRleGVkREJBY2Nlc3MoKVxuICAgICAgLnRoZW4oZGIgPT4ge1xuICAgICAgICByZXR1cm4gbG9hZFJlc291cmNlKHsgaW5kZXhlZERCQWNjZXNzOiBkYiwgdXJsLCBpbW1lZGlhdGU6IHRydWUsIGlzQmluYXJ5IH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCh7IHJlc291cmNlIH0pID0+IHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50LCBjb250ZW50VHlwZSB9ID0gcmVzb3VyY2U7XG4gICAgICAgIGlmIChpc0JpbmFyeSkge1xuICAgICAgICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBnZXREYXRhVXJsKGlzQmFzZTY0VGV4dCA/IGJ0b2EoY29udGVudCkgOiBjb250ZW50LCBjb250ZW50VHlwZSwgaXNCYXNlNjRUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKGRhdGFVcmwgPT4ge1xuICAgICAgICBpZiAoaXNCaW5hcnkpIHtcbiAgICAgICAgICByZXNvdXJjZVVyaUhpc3RvcnlbdXJsXSA9IGRhdGFVcmw7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShkYXRhVXJsKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGVycm9yKGBmYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2UgJHtlfWApO1xuICAgICAgICByZWplY3QobnVsbCk7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXZva2VSZXNvdXJjZVVyaUZvclVybCh1cmwpIHtcbiAgY29uc3QgcmVzb3VyY2VVcmkgPSByZXNvdXJjZVVyaUhpc3RvcnlbdXJsXTtcbiAgaWYgKHJlc291cmNlVXJpKSB7XG4gICAgcmVzb3VyY2VVcmlIaXN0b3J5W3VybF0gPSBudWxsO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFycyBpbmRleGVkREIgZnJvbSBhbnkgZmlsZXMgb24gdGhpcyBwYWdlIHdoaWNoIHdlcmUgbm90IGxvYWRlZCBpbiB0aGlzIHNlc3Npb24gYnkgY2FsbGluZyB0aGUgbG9hZCBmdW5jdGlvbi5cbiAqIENhbGwgdGhpcyBmdW5jdGlvbiB0byByZW1vdmUgb2xkIG9ic29sZXRlIGZpbGVzIGZyb20gdGhlIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJ1bmVEQigpIHtcbiAgaW5kZXhlZERCQWNjZXNzKCkudGhlbihkYiA9PiB7XG4gICAgZGIucHJ1bmVEYihnZXRDYWNoZWRGaWxlcygpKTtcbiAgfSk7XG59XG4iXX0=\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCachedFiles = exports.loadResource = exports.fetchAndSaveInCache = undefined;\n\nvar _cappCacheLogger = __webpack_require__(0);\n\nvar _id = __webpack_require__(5);\n\nvar _network = __webpack_require__(9);\n\nvar _indexedDBAccess = __webpack_require__(1);\n\nvar RESOURCE_FETCH_DELAY = 1000;\nvar cachedFilesInSession = {};\n\nvar fetchAndSaveInCache = exports.fetchAndSaveInCache = function fetchAndSaveInCache(_ref) {\n  var url = _ref.url,\n      indexedDBAccess = _ref.indexedDBAccess,\n      isBinary = _ref.isBinary;\n  return new Promise(function (resolve, reject) {\n    (0, _cappCacheLogger.log)(\"fetching resource \" + url + \" to cache \" + (isBinary ? \"as binary\" : \"\"));\n    (0, _network.fetchResource)(url, isBinary ? \"blob\" : undefined).then(function (result) {\n      (0, _cappCacheLogger.log)(\"successfully fetched resource \" + url + \" to cache\");\n      resolve(result);\n      indexedDBAccess.put((0, _id.id)(url), result);\n    }).catch(function (e) {\n      (0, _cappCacheLogger.error)(\"failed to fetch resource \" + url + \" from the web with error \" + e.status + \": \" + e.statusText);\n      reject(e);\n    });\n  });\n};\n\nvar loadResource = exports.loadResource = function loadResource(_ref2) {\n  var indexedDBAccess = _ref2.indexedDBAccess,\n      url = _ref2.url,\n      _ref2$immediate = _ref2.immediate,\n      immediate = _ref2$immediate === undefined ? false : _ref2$immediate,\n      _ref2$isBinary = _ref2.isBinary,\n      isBinary = _ref2$isBinary === undefined ? false : _ref2$isBinary,\n      _ref2$cacheOnly = _ref2.cacheOnly,\n      cacheOnly = _ref2$cacheOnly === undefined ? false : _ref2$cacheOnly,\n      _ref2$forceRecaching = _ref2.forceRecaching,\n      forceRecaching = _ref2$forceRecaching === undefined ? false : _ref2$forceRecaching,\n      _ref2$networkOnly = _ref2.networkOnly,\n      networkOnly = _ref2$networkOnly === undefined ? false : _ref2$networkOnly;\n\n  (0, _cappCacheLogger.perfMark)(\"loadResource \" + url + \" start\");\n  var fullUrl = (0, _id.id)(url);\n  var method = \"get\";\n  if (forceRecaching) {\n    method = \"skip\";\n  } else if (cacheOnly) {\n    method = \"exists\";\n  }\n  var promise = new Promise(function (resolve, reject) {\n    if (networkOnly) {\n      return reject(null);\n    }\n    indexedDBAccess[method](fullUrl).then(function (resource) {\n      (0, _cappCacheLogger.log)(\"resource \" + fullUrl + \" was in cache\");\n      resolve({ resource: resource, fromCache: true });\n      (0, _cappCacheLogger.perfMarkEnd)(\"loadResource \" + url + (cacheOnly ? \" (cache only)\" : \"\"), \"loadResource \" + url + \" start\");\n    }).catch(function (err) {\n      if (err && err !== _indexedDBAccess.FAILED_TO_OPEN_IDB) {\n        (0, _cappCacheLogger.error)((forceRecaching ? \"re-caching resource\" : \"failed to fetch resource from cache\") + \" \" + fullUrl + \".\" + (err ? \" error\" + err : \"\"));\n        return reject(err);\n      } else {\n        (0, _cappCacheLogger.log)(\"resource \" + fullUrl + \" was not in cache\");\n      }\n      if (immediate) {\n        fetchAndSaveInCache({ url: fullUrl, indexedDBAccess: indexedDBAccess, isBinary: isBinary }).then(function (resource) {\n          return resolve({ resource: resource, fromCache: false });\n        }).catch(function (err) {\n          return reject(err);\n        });\n      } else {\n        window.setTimeout(function () {\n          return fetchAndSaveInCache({ url: fullUrl, indexedDBAccess: indexedDBAccess, isBinary: isBinary }).catch(function (err) {\n            /*do nothing*/\n          });\n        }, RESOURCE_FETCH_DELAY);\n        reject(null);\n      }\n    });\n  });\n  cachedFilesInSession[fullUrl] = true;\n  return promise;\n};\n\nvar getCachedFiles = exports.getCachedFiles = function getCachedFiles() {\n  return Object.keys(cachedFilesInSession);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9yZXNvdXJjZUxvYWRlci5qcyJdLCJuYW1lcyI6WyJSRVNPVVJDRV9GRVRDSF9ERUxBWSIsImNhY2hlZEZpbGVzSW5TZXNzaW9uIiwiZmV0Y2hBbmRTYXZlSW5DYWNoZSIsInVybCIsImluZGV4ZWREQkFjY2VzcyIsImlzQmluYXJ5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1bmRlZmluZWQiLCJ0aGVuIiwicmVzdWx0IiwicHV0IiwiY2F0Y2giLCJlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImxvYWRSZXNvdXJjZSIsImltbWVkaWF0ZSIsImNhY2hlT25seSIsImZvcmNlUmVjYWNoaW5nIiwibmV0d29ya09ubHkiLCJmdWxsVXJsIiwibWV0aG9kIiwicHJvbWlzZSIsInJlc291cmNlIiwiZnJvbUNhY2hlIiwiZXJyIiwid2luZG93Iiwic2V0VGltZW91dCIsImdldENhY2hlZEZpbGVzIiwiT2JqZWN0Iiwia2V5cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLElBQUlBLHVCQUF1QixJQUEzQjtBQUNBLElBQUlDLHVCQUF1QixFQUEzQjs7QUFFTyxJQUFNQyxvREFBc0IsU0FBdEJBLG1CQUFzQjtBQUFBLE1BQUdDLEdBQUgsUUFBR0EsR0FBSDtBQUFBLE1BQVFDLGVBQVIsUUFBUUEsZUFBUjtBQUFBLE1BQXlCQyxRQUF6QixRQUF5QkEsUUFBekI7QUFBQSxTQUNqQyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQy9CLHFEQUF5QkwsR0FBekIsbUJBQXlDRSxXQUFXLFdBQVgsR0FBeUIsRUFBbEU7QUFDQSxnQ0FBY0YsR0FBZCxFQUFtQkUsV0FBVyxNQUFYLEdBQW9CSSxTQUF2QyxFQUNHQyxJQURILENBQ1Esa0JBQVU7QUFDZCxtRUFBcUNQLEdBQXJDO0FBQ0FJLGNBQVFJLE1BQVI7QUFDQVAsc0JBQWdCUSxHQUFoQixDQUFvQixZQUFHVCxHQUFILENB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dHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZywgZXJyb3IsIHBlcmZNYXJrLCBwZXJmTWFya0VuZCB9IGZyb20gXCIuL2NhcHBDYWNoZUxvZ2dlclwiO1xuaW1wb3J0IHsgaWQgfSBmcm9tIFwiLi9pZFwiO1xuaW1wb3J0IHsgZmV0Y2hSZXNvdXJjZSB9IGZyb20gXCIuL25ldHdvcmtcIjtcbmltcG9ydCB7IEZBSUxFRF9UT19PUEVOX0lEQiB9IGZyb20gXCIuL2luZGV4ZWREQkFjY2Vzc1wiO1xuXG5sZXQgUkVTT1VSQ0VfRkVUQ0hfREVMQVkgPSAxMDAwO1xubGV0IGNhY2hlZEZpbGVzSW5TZXNzaW9uID0ge307XG5cbmV4cG9ydCBjb25zdCBmZXRjaEFuZFNhdmVJbkNhY2hlID0gKHsgdXJsLCBpbmRleGVkREJBY2Nlc3MsIGlzQmluYXJ5IH0pID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsb2coYGZldGNoaW5nIHJlc291cmNlICR7dXJsfSB0byBjYWNoZSAke2lzQmluYXJ5ID8gXCJhcyBiaW5hcnlcIiA6IFwiXCJ9YCk7XG4gICAgZmV0Y2hSZXNvdXJjZSh1cmwsIGlzQmluYXJ5ID8gXCJibG9iXCIgOiB1bmRlZmluZWQpXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBsb2coYHN1Y2Nlc3NmdWxseSBmZXRjaGVkIHJlc291cmNlICR7dXJsfSB0byBjYWNoZWApO1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIGluZGV4ZWREQkFjY2Vzcy5wdXQoaWQodXJsKSwgcmVzdWx0KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGVycm9yKGBmYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2UgJHt1cmx9IGZyb20gdGhlIHdlYiB3aXRoIGVycm9yICR7ZS5zdGF0dXN9OiAke2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gIH0pO1xuXG5leHBvcnQgY29uc3QgbG9hZFJlc291cmNlID0gKHtcbiAgaW5kZXhlZERCQWNjZXNzLFxuICB1cmwsXG4gIGltbWVkaWF0ZSA9IGZhbHNlLFxuICBpc0JpbmFyeSA9IGZhbHNlLFxuICBjYWNoZU9ubHkgPSBmYWxzZSxcbiAgZm9yY2VSZWNhY2hpbmcgPSBmYWxzZSxcbiAgbmV0d29ya09ubHkgPSBmYWxzZSxcbn0pID0+IHtcbiAgcGVyZk1hcmsoYGxvYWRSZXNvdXJjZSAke3VybH0gc3RhcnRgKTtcbiAgY29uc3QgZnVsbFVybCA9IGlkKHVybCk7XG4gIGxldCBtZXRob2QgPSBcImdldFwiO1xuICBpZiAoZm9yY2VSZWNhY2hpbmcpIHtcbiAgICBtZXRob2QgPSBcInNraXBcIjtcbiAgfSBlbHNlIGlmIChjYWNoZU9ubHkpIHtcbiAgICBtZXRob2QgPSBcImV4aXN0c1wiO1xuICB9XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKG5ldHdvcmtPbmx5KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG51bGwpO1xuICAgIH1cbiAgICBpbmRleGVkREJBY2Nlc3NcbiAgICAgIFttZXRob2RdKGZ1bGxVcmwpXG4gICAgICAudGhlbihyZXNvdXJjZSA9PiB7XG4gICAgICAgIGxvZyhgcmVzb3VyY2UgJHtmdWxsVXJsfSB3YXMgaW4gY2FjaGVgKTtcbiAgICAgICAgcmVzb2x2ZSh7IHJlc291cmNlLCBmcm9tQ2FjaGU6IHRydWUgfSk7XG4gICAgICAgIHBlcmZNYXJrRW5kKGBsb2FkUmVzb3VyY2UgJHt1cmx9JHtjYWNoZU9ubHkgPyBcIiAoY2FjaGUgb25seSlcIiA6IFwiXCJ9YCwgYGxvYWRSZXNvdXJjZSAke3VybH0gc3RhcnRgKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGVyciAmJiBlcnIgIT09IEZBSUxFRF9UT19PUEVOX0lEQikge1xuICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgYCR7Zm9yY2VSZWNhY2hpbmcgPyBcInJlLWNhY2hpbmcgcmVzb3VyY2VcIiA6IFwiZmFpbGVkIHRvIGZldGNoIHJlc291cmNlIGZyb20gY2FjaGVcIn0gJHtmdWxsVXJsfS4ke2VyclxuICAgICAgICAgICAgICA/IFwiIGVycm9yXCIgKyBlcnJcbiAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2coYHJlc291cmNlICR7ZnVsbFVybH0gd2FzIG5vdCBpbiBjYWNoZWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICBmZXRjaEFuZFNhdmVJbkNhY2hlKHsgdXJsOiBmdWxsVXJsLCBpbmRleGVkREJBY2Nlc3MsIGlzQmluYXJ5IH0pXG4gICAgICAgICAgICAudGhlbihyZXNvdXJjZSA9PiByZXNvbHZlKHsgcmVzb3VyY2UsIGZyb21DYWNoZTogZmFsc2UgfSkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgIGZldGNoQW5kU2F2ZUluQ2FjaGUoeyB1cmw6IGZ1bGxVcmwsIGluZGV4ZWREQkFjY2VzcywgaXNCaW5hcnkgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAvKmRvIG5vdGhpbmcqL1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIFJFU09VUkNFX0ZFVENIX0RFTEFZXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWplY3QobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9KTtcbiAgY2FjaGVkRmlsZXNJblNlc3Npb25bZnVsbFVybF0gPSB0cnVlO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDYWNoZWRGaWxlcyA9ICgpID0+IE9iamVjdC5rZXlzKGNhY2hlZEZpbGVzSW5TZXNzaW9uKTtcbiJdfQ==\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar polyfillId = function polyfillId(url) {\n  var link = document.createElement(\"a\");\n  link.href = url;\n  return link.protocol + \"//\" + link.host + link.pathname + link.search;\n};\n\nvar id = exports.id = function id(url) {\n  if (window.URL) {\n    var _ref = new URL(url, window.location.href),\n        href = _ref.href;\n\n    return href;\n  } else {\n    return polyfillId(url);\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pZC5qcyJdLCJuYW1lcyI6WyJwb2x5ZmlsbElkIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJ1cmwiLCJwcm90b2NvbCIsImhvc3QiLCJwYXRobmFtZSIsInNlYXJjaCIsImlkIiwid2luZG93IiwiVVJMIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSxTQUFiQSxVQUFhLE1BQU87QUFDeEIsTUFBTUMsT0FBT0MsU0FBU0MsYUFBVCxDQUF1QixHQUF2QixDQUFiO0FBQ0FGLE9BQUtHLElBQUwsR0FBWUMsR0FBWjtBQUNBLFNBQU9KLEtBQUtLLFFBQUwsR0FBZ0IsSUFBaEIsR0FBdUJMLEtBQUtNLElBQTVCLEdBQW1DTixLQUFLTyxRQUF4QyxHQUFtRFAsS0FBS1EsTUFBL0Q7QUFDRCxDQUpEOztBQU1PLElBQU1DLGtCQUFLLFNBQUxBLEVBQUssTUFBTztBQUN2QixNQUFJQyxPQUFPQyxHQUFYLEVBQWdCO0FBQUEsZUFDRyxJQUFJQSxHQUFKLENBQVFQLEdBQVIsRUFBYU0sT0FBT0UsUUFBUCxDQUFnQlQsSUFBN0IsQ0FESDtBQUFBLFFBQ05BLElBRE0sUUFDTkEsSUFETTs7QUFFZCxXQUFPQSxJQUFQO0FBQ0QsR0FIRCxNQUdPO0FBQ0wsV0FBT0osV0FBV0ssR0FBWCxDQUFQO0FBQ0Q7QUFDRixDQVBNIiwiZmlsZSI6ImlkLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwb2x5ZmlsbElkID0gdXJsID0+IHtcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICBsaW5rLmhyZWYgPSB1cmw7XG4gIHJldHVybiBsaW5rLnByb3RvY29sICsgXCIvL1wiICsgbGluay5ob3N0ICsgbGluay5wYXRobmFtZSArIGxpbmsuc2VhcmNoO1xufTtcblxuZXhwb3J0IGNvbnN0IGlkID0gdXJsID0+IHtcbiAgaWYgKHdpbmRvdy5VUkwpIHtcbiAgICBjb25zdCB7IGhyZWYgfSA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgcmV0dXJuIGhyZWY7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBvbHlmaWxsSWQodXJsKTtcbiAgfVxufTtcbiJdfQ==\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _cappCacheLogger = __webpack_require__(0);\n\nvar _resourceManager = __webpack_require__(3);\n\nvar _eventBus = __webpack_require__(13);\n\nvar _manifestManager = __webpack_require__(14);\n\nvar _manifestManager2 = _interopRequireDefault(_manifestManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function init() {\n  if (window.location.search.indexOf(\"debug-cp\") > 0) {\n    (0, _cappCacheLogger.setLogLevel)(_cappCacheLogger.LOG_LEVELS.log);\n  }\n  var dataset = document.getElementsByTagName(\"html\")[0].dataset;\n  var overrideDomContentLoaded = dataset.ccOverrideDomcontentloaded === \"true\";\n  if (overrideDomContentLoaded) {\n    var listener = function listener(e) {\n      e.stopImmediatePropagation();\n      e.preventDefault();\n      e.stopPropagation();\n      document.removeEventListener(\"DOMContentLoaded\", listener, true);\n    };\n    document.addEventListener(\"DOMContentLoaded\", listener, true);\n  }\n  var manifestUrl = dataset.ccManifest;\n  if (manifestUrl !== undefined) {\n    _manifestManager2.default.fetchManifest(manifestUrl, { overrideDomContentLoaded: overrideDomContentLoaded }).then(function (_ref) {\n      var manifest = _ref.manifest,\n          wasModified = _ref.wasModified;\n\n      if (wasModified) {\n        (0, _resourceManager.load)(manifest, { syncCacheOnly: true, wasManifestModified: true }).then(function () {\n          (0, _eventBus.trigger)(\"manifestUpdated\");\n        }).catch(function (err) {\n          return (0, _cappCacheLogger.error)(\"failed to load manifest to cache after change \" + err);\n        });\n      }\n    }).catch(function (err) {\n      (0, _cappCacheLogger.error)(\"error while fetching manifest \" + err);\n    });\n  } else {\n    (0, _cappCacheLogger.error)(\"Unable to find attribute \\\"data-cc-manifest\\\" on the HTML tag, CappCache will not work\");\n  }\n  window.cappCache = {\n    version: \"0.1.33\", //this is a placeholder for the version field, it is replaced by Webpack in build time\n    loadResources: _resourceManager.load,\n    getResourceUri: _resourceManager.getResourceUri,\n    revokeResourceUriForUrl: _resourceManager.revokeResourceUriForUrl,\n    pruneDB: _resourceManager.pruneDB,\n    on: _eventBus.on,\n    getLoadedResources: _resourceManager.getLoadedResources,\n    setLogLevel: _cappCacheLogger.setLogLevel,\n    LOG_LEVELS: _cappCacheLogger.LOG_LEVELS\n  };\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImluZGV4T2YiLCJsb2ciLCJkYXRhc2V0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm92ZXJyaWRlRG9tQ29udGVudExvYWRlZCIsImNjT3ZlcnJpZGVEb21jb250ZW50bG9hZGVkIiwibGlzdGVuZXIiLCJlIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1hbmlmZXN0VXJsIiwiY2NNYW5pZmVzdCIsInVuZGVmaW5lZCIsImZldGNoTWFuaWZlc3QiLCJ0aGVuIiwibWFuaWZlc3QiLCJ3YXNNb2RpZmllZCIsInN5bmNDYWNoZU9ubHkiLCJ3YXNNYW5pZmVzdE1vZGlmaWVkIiwiY2F0Y2giLCJlcnIiLCJjYXBwQ2FjaGUiLCJsb2FkUmVzb3VyY2VzIiwiZ2V0UmVzb3VyY2VVcmkiLCJyZXZva2VSZXNvdXJjZVVyaUZvclVybCIsInBydW5lREIiLCJvbiIsImdldExvYWRlZFJlc291cmNlcyIsInNldExvZ0xldmVsIiwiTE9HX0xFVkVMUyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsQ0FBQyxTQUFTQSxJQUFULEdBQWdCO0FBQ2YsTUFBSUMsT0FBT0MsUUFBUCxDQUFnQkMsTUFBaEIsQ0FBdUJDLE9BQXZCLENBQStCLFVBQS9CLElBQTZDLENBQWpELEVBQW9EO0FBQ2xELHNDQUFZLDRCQUFXQyxHQUF2QjtBQUNEO0FBQ0QsTUFBTUMsVUFBVUMsU0FBU0Msb0JBQVQsQ0FBOEIsTUFBOUIsRUFBc0MsQ0FBdEMsRUFBeUNGLE9BQXpEO0FBQ0EsTUFBTUcsMkJBQTJCSCxRQUFRSSwwQkFBUixLQUF1QyxNQUF4RTtBQUNBLE1BQUlELHdCQUFKLEVBQThCO0FBQzVCLFFBQU1FLFdBQVcsU0FBWEEsUUFBVyxJQUFLO0FBQ3BCQyxRQUFFQyx3QkFBRjtBQUNBRCxRQUFFRSxjQUFGO0FBQ0FGLFFBQUVHLGVBQUY7QUFDQVIsZUFBU1MsbUJBQVQsQ0FBNkIsa0JBQTdCLEVBQWlETCxRQUFqRCxFQUEyRCxJQUEzRDtBQUNELEtBTEQ7QUFNQUosYUFBU1UsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDTixRQUE5QyxFQUF3RCxJQUF4RDtBQUNEO0FBQ0QsTUFBTU8sY0FBY1osUUFBUWEsVUFBNUI7QUFDQSxNQUFJRCxnQkFBZ0JFLFNBQXBCLEVBQStCO0FBQzdCLDhCQUNHQyxhQURILENBQ2lCSCxXQURqQixFQUM4QixFQUFFVCwwQkFBMEJBLHdCQUE1QixFQUQ5QixFQUVHYSxJQUZILENBRVEsZ0JBQStCO0FBQUEsVUFBNUJDLFFBQTRCLFFBQTVCQSxRQUE0QjtBQUFBLFVBQWxCQyxXQUFrQixRQUFsQkEsV0FBa0I7O0FBQ25DLFVBQUlBLFdBQUosRUFBaUI7QUFDZixtQ0FBS0QsUUFBTCxFQUFlLEVBQUVFLGVBQWUsSUFBakIsRUFBdUJDLHFCQUFxQixJQUE1QyxFQUFmLEVBQ0dKLElBREgsQ0FDUSxZQUFNO0FBQ1YsaUNBQVEsaUJBQVI7QUFDRCxTQUhILEVBSUdLLEtBSkgsQ0FJUztBQUFBLGlCQUFPLCtFQUF1REMsR0FBdkQsQ0FBUDtBQUFBLFNBSlQ7QUFLRDtBQUNGLEtBVkgsRUFXR0QsS0FYSCxDQVdTLGVBQU87QUFDWixxRUFBdUNDLEdBQXZDO0FBQ0QsS0FiSDtBQWNELEdBZkQsTUFlTztBQUNMO0FBQ0Q7QUFDRDNCLFNBQU80QixTQUFQLEdBQW1CO0FBQ2pCLDJCQURpQixDQUNPO0FBQ3hCQyx3Q0FGaUI7QUFHakJDLG1EQUhpQjtBQUlqQkMscUVBSmlCO0FBS2pCQyxxQ0FMaUI7QUFNakJDLG9CQU5pQjtBQU9qQkMsMkRBUGlCO0FBUWpCQyw2Q0FSaUI7QUFTakJDO0FBVGlCLEdBQW5CO0FBV0QsQ0E3Q0QiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExPR19MRVZFTFMsIHNldExvZ0xldmVsLCBlcnJvciB9IGZyb20gXCIuL3NyYy9jYXBwQ2FjaGVMb2dnZXJcIjtcbmltcG9ydCB7IGxvYWQsIHBydW5lREIsIGdldFJlc291cmNlVXJpLCByZXZva2VSZXNvdXJjZVVyaUZvclVybCwgZ2V0TG9hZGVkUmVzb3VyY2VzIH0gZnJvbSBcIi4vc3JjL3Jlc291cmNlTWFuYWdlclwiO1xuaW1wb3J0IHsgb24sIHRyaWdnZXIgfSBmcm9tIFwiLi9zcmMvZXZlbnRCdXNcIjtcbmltcG9ydCBtYW5pZmVzdE1hbmFnZXIgZnJvbSBcIi4vc3JjL21hbmlmZXN0TWFuYWdlclwiO1xuXG4oZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5kZXhPZihcImRlYnVnLWNwXCIpID4gMCkge1xuICAgIHNldExvZ0xldmVsKExPR19MRVZFTFMubG9nKTtcbiAgfVxuICBjb25zdCBkYXRhc2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJodG1sXCIpWzBdLmRhdGFzZXQ7XG4gIGNvbnN0IG92ZXJyaWRlRG9tQ29udGVudExvYWRlZCA9IGRhdGFzZXQuY2NPdmVycmlkZURvbWNvbnRlbnRsb2FkZWQgPT09IFwidHJ1ZVwiO1xuICBpZiAob3ZlcnJpZGVEb21Db250ZW50TG9hZGVkKSB7XG4gICAgY29uc3QgbGlzdGVuZXIgPSBlID0+IHtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbGlzdGVuZXIsIHRydWUpO1xuICB9XG4gIGNvbnN0IG1hbmlmZXN0VXJsID0gZGF0YXNldC5jY01hbmlmZXN0O1xuICBpZiAobWFuaWZlc3RVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgIG1hbmlmZXN0TWFuYWdlclxuICAgICAgLmZldGNoTWFuaWZlc3QobWFuaWZlc3RVcmwsIHsgb3ZlcnJpZGVEb21Db250ZW50TG9hZGVkOiBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgfSlcbiAgICAgIC50aGVuKCh7IG1hbmlmZXN0LCB3YXNNb2RpZmllZCB9KSA9PiB7XG4gICAgICAgIGlmICh3YXNNb2RpZmllZCkge1xuICAgICAgICAgIGxvYWQobWFuaWZlc3QsIHsgc3luY0NhY2hlT25seTogdHJ1ZSwgd2FzTWFuaWZlc3RNb2RpZmllZDogdHJ1ZSB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0cmlnZ2VyKFwibWFuaWZlc3RVcGRhdGVkXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gZXJyb3IoYGZhaWxlZCB0byBsb2FkIG1hbmlmZXN0IHRvIGNhY2hlIGFmdGVyIGNoYW5nZSAke2Vycn1gKSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgZXJyb3IoYGVycm9yIHdoaWxlIGZldGNoaW5nIG1hbmlmZXN0ICR7ZXJyfWApO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZXJyb3IoYFVuYWJsZSB0byBmaW5kIGF0dHJpYnV0ZSBcImRhdGEtY2MtbWFuaWZlc3RcIiBvbiB0aGUgSFRNTCB0YWcsIENhcHBDYWNoZSB3aWxsIG5vdCB3b3JrYCk7XG4gIH1cbiAgd2luZG93LmNhcHBDYWNoZSA9IHtcbiAgICAvKnZlcnNpb24tcGxhY2Vob2xkZXIqLyAvL3RoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIHZlcnNpb24gZmllbGQsIGl0IGlzIHJlcGxhY2VkIGJ5IFdlYnBhY2sgaW4gYnVpbGQgdGltZVxuICAgIGxvYWRSZXNvdXJjZXM6IGxvYWQsXG4gICAgZ2V0UmVzb3VyY2VVcmksXG4gICAgcmV2b2tlUmVzb3VyY2VVcmlGb3JVcmwsXG4gICAgcHJ1bmVEQixcbiAgICBvbixcbiAgICBnZXRMb2FkZWRSZXNvdXJjZXMsXG4gICAgc2V0TG9nTGV2ZWwsXG4gICAgTE9HX0xFVkVMUyxcbiAgfTtcbn0pKCk7XG4iXX0=\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = window.indexedDB || {\n  open: function open() {\n    var req = {};\n    setTimeout(function () {\n      return req.onerror(\"No indexedDB on window. This is a known Edge/IE bug, see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/9968399 \");\n    });\n    return req;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pbmRleGVkREIuanMiXSwibmFtZXMiOlsid2luZG93IiwiaW5kZXhlZERCIiwib3BlbiIsInJlcSIsInNldFRpbWVvdXQiLCJvbmVycm9yIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFBZUEsT0FBT0MsU0FBUCxJQUFvQjtBQUNqQ0MsUUFBTSxnQkFBTTtBQUNWLFFBQU1DLE1BQU0sRUFBWjtBQUNBQyxlQUFXO0FBQUEsYUFDVEQsSUFBSUUsT0FBSixDQUNFLHdJQURGLENBRFM7QUFBQSxLQUFYO0FBS0EsV0FBT0YsR0FBUDtBQUNEO0FBVGdDLEMiLCJmaWxlIjoiaW5kZXhlZERCLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB3aW5kb3cuaW5kZXhlZERCIHx8IHtcbiAgb3BlbjogKCkgPT4ge1xuICAgIGNvbnN0IHJlcSA9IHt9O1xuICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgIHJlcS5vbmVycm9yKFxuICAgICAgICBcIk5vIGluZGV4ZWREQiBvbiB3aW5kb3cuIFRoaXMgaXMgYSBrbm93biBFZGdlL0lFIGJ1Zywgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzk5NjgzOTkgXCJcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiByZXE7XG4gIH0sXG59O1xuIl19\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(2);\n\nexports.default = {\n  js: {\n    tagName: \"script\",\n    contentFetchKey: \"src\",\n    attributes: {\n      type: \"text/javascript\"\n    },\n    setElementContentFunc: function setElementContentFunc(_ref) {\n      var tag = _ref.tag,\n          documentTarget = _ref.documentTarget,\n          content = _ref.content,\n          wasManifestModified = _ref.wasManifestModified;\n\n      if (wasManifestModified) {\n        tag.setAttribute(\"src\", (0, _utils.getDataUrl)(content)); //if some of the files have changed, adding some script as inline scripts and some with src=\"\" doesn't maintain the order of loading\n      } else {\n        tag.appendChild(documentTarget.createTextNode(content));\n      }\n    },\n\n    canAddToDom: true\n  },\n  css: {\n    tagName: \"style\",\n    contentFetchKey: \"href\",\n    attributes: {\n      type: \"text/css\"\n    },\n    tagNameWhenNotInline: \"link\",\n    attributesWhenNotInline: {\n      rel: \"stylesheet\"\n    },\n    setElementContentFunc: function setElementContentFunc(_ref2) {\n      var tag = _ref2.tag,\n          content = _ref2.content;\n\n      tag.innerHTML = content;\n    },\n\n    canAddToDom: true\n  },\n  blob: {\n    canAddToDom: false,\n    attributes: {}\n  },\n  link: {\n    tagName: \"link\",\n    contentFetchKey: \"href\",\n    canAddToDom: true,\n    setElementContentFunc: function setElementContentFunc(_ref3) {\n      var tag = _ref3.tag,\n          content = _ref3.content;\n\n      tag.href = URL.createObjectURL(content);\n    },\n\n    attributes: {},\n    defaultToBinary: true,\n    allowLoadingOutOfOrder: true\n  },\n  fontface: {\n    tagName: \"style\",\n    attributes: {\n      type: \"text/css\"\n    },\n    allowLoadingOutOfOrder: true,\n    defaultToBinary: true,\n    setElementContentFunc: function setElementContentFunc(_ref4) {\n      var tag = _ref4.tag,\n          content = _ref4.content,\n          resourceManifestObj = _ref4.resourceManifestObj;\n      var fontAttributes = resourceManifestObj.fontAttributes,\n          _resourceManifestObj$ = resourceManifestObj.localFontFamily,\n          localFontFamily = _resourceManifestObj$ === undefined ? null : _resourceManifestObj$,\n          originalUrl = resourceManifestObj.url,\n          format = resourceManifestObj.format,\n          _resourceManifestObj$2 = resourceManifestObj.fallbackUrls,\n          fallbackUrls = _resourceManifestObj$2 === undefined ? null : _resourceManifestObj$2;\n\n      var attributesString = \"\";\n      Object.keys(fontAttributes).forEach(function (attribute) {\n        attributesString += \"\\n  \" + attribute + \": \" + fontAttributes[attribute] + \";\";\n      });\n      var srcString = \"src: \";\n      if (localFontFamily) {\n        srcString = localFontFamily.reduce(function (str, url) {\n          return str + \"local('\" + url + \"'), \";\n        }, srcString);\n      }\n      var actualUrl = void 0;\n      if (content !== undefined) {\n        actualUrl = URL.createObjectURL(content);\n      } else {\n        actualUrl = originalUrl;\n      }\n      if (srcString) {\n        srcString += \"url(\" + actualUrl + \") format('\" + format + \"')\";\n      }\n      if (fallbackUrls) {\n        srcString = fallbackUrls.reduce(function (str, opts) {\n          var url = opts.url,\n              format = opts.format;\n\n          format = format || \"woff2\";\n          return \"\\n  \" + str + \" url(\" + url + \") format('\" + format + \"'), \";\n        }, srcString + \", \");\n        srcString = srcString.substring(0, srcString.length - 2); //remove last comma\n      }\n      tag.innerHTML = \"@font-face {\" + (\"\" + attributesString) + (srcString + \";\") + \"\\n}\";\n    },\n\n    canAddToDom: true,\n    alwaysCallSetContent: true\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90YWdQcm9wZXJ0aWVzTWFwLmpzIl0sIm5hbWVzIjpbImpzIiwidGFnTmFtZSIsImNvbnRlbnRGZXRjaEtleSIsImF0dHJpYnV0ZXMiLCJ0eXBlIiwic2V0RWxlbWVudENvbnRlbnRGdW5jIiwidGFnIiwiZG9jdW1lbnRUYXJnZXQiLCJjb250ZW50Iiwid2FzTWFuaWZlc3RNb2RpZmllZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJjYW5BZGRUb0RvbSIsImNzcyIsInRhZ05hbWVXaGVuTm90SW5saW5lIiwiYXR0cmlidXRlc1doZW5Ob3RJbmxpbmUiLCJyZWwiLCJpbm5lckhUTUwiLCJibG9iIiwibGluayIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkZWZhdWx0VG9CaW5hcnkiLCJhbGxvd0xvYWRpbmdPdXRPZk9yZGVyIiwiZm9udGZhY2UiLCJyZXNvdXJjZU1hbmlmZXN0T2JqIiwiZm9udEF0dHJpYnV0ZXMiLCJsb2NhbEZvbnRGYW1pbHkiLCJvcmlnaW5hbFVybCIsInVybCIsImZvcm1hdCIsImZhbGxiYWNrVXJscyIsImF0dHJpYnV0ZXNTdHJpbmciLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImF0dHJpYnV0ZSIsInNyY1N0cmluZyIsInJlZHVjZSIsInN0ciIsImFjdHVhbFVybCIsInVuZGVmaW5lZCIsIm9wdHMiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJhbHdheXNDYWxsU2V0Q29udGVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O2tCQUVlO0FBQ2JBLE1BQUk7QUFDRkMsYUFBUyxRQURQO0FBRUZDLHFCQUFpQixLQUZmO0FBR0ZDLGdCQUFZO0FBQ1ZDLFlBQU07QUFESSxLQUhWO0FBTUZDLHlCQU5FLHVDQU0yRTtBQUFBLFVBQXJEQyxHQUFxRCxRQUFyREEsR0FBcUQ7QUFBQSxVQUFoREMsY0FBZ0QsUUFBaERBLGNBQWdEO0FBQUEsVUFBaENDLE9BQWdDLFFBQWhDQSxP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QUFDRDtBQUNELFVBQUlDLFlBQUosRUFBa0I7QUFDaEJNLG9CQUFZTixhQUFhTyxNQUFiLENBQW9CLFVBQUNDLEdBQUQsRUFBTUcsSUFBTixFQUFlO0FBQUEsY0FDdkNiLEdBRHVDLEdBQ3ZCYSxJQUR1QixDQUN2Q2IsR0FEdUM7QUFBQSxjQUNsQ0MsTUFEa0MsR0FDdkJZLElBRHVCLENBQ2xDWixNQURrQzs7QUFFN0NBLG1CQUFTQSxVQUFVLE9BQW5CO0FBQ0EsMEJBQWNTLEdBQWQsYUFBeUJWLEdBQXpCLGtCQUF5Q0MsTUFBekM7QUFDRCxTQUpXLEVBSU5PLFNBSk0sUUFBWjtBQUtBQSxvQkFBWUEsVUFBVU0sU0FBVixDQUFvQixDQUFwQixFQUF1Qk4sVUFBVU8sTUFBVixHQUFtQixDQUExQyxDQUFaLENBTmdCLENBTTBDO0FBQzNEO0FBQ0R4QyxVQUFJWSxTQUFKLEdBQWdCLHVCQUFvQmdCLGdCQUFwQixLQUE0Q0ssU0FBNUMsZUFBaEI7QUFDRCxLQXpDTzs7QUEwQ1IxQixpQkFBYSxJQTFDTDtBQTJDUmtDLDBCQUFzQjtBQTNDZDtBQTlDRyxDIiwiZmlsZSI6InRhZ1Byb3BlcnRpZXNNYXAuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERhdGFVcmwgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGpzOiB7XG4gICAgdGFnTmFtZTogXCJzY3JpcHRcIixcbiAgICBjb250ZW50RmV0Y2hLZXk6IFwic3JjXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIixcbiAgICB9LFxuICAgIHNldEVsZW1lbnRDb250ZW50RnVuYyh7IHRhZywgZG9jdW1lbnRUYXJnZXQsIGNvbnRlbnQsIHdhc01hbmlmZXN0TW9kaWZpZWQgfSkge1xuICAgICAgaWYgKHdhc01hbmlmZXN0TW9kaWZpZWQpIHtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZShcInNyY1wiLCBnZXREYXRhVXJsKGNvbnRlbnQpKTsgLy9pZiBzb21lIG9mIHRoZSBmaWxlcyBoYXZlIGNoYW5nZWQsIGFkZGluZyBzb21lIHNjcmlwdCBhcyBpbmxpbmUgc2NyaXB0cyBhbmQgc29tZSB3aXRoIHNyYz1cIlwiIGRvZXNuJ3QgbWFpbnRhaW4gdGhlIG9yZGVyIG9mIGxvYWRpbmdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudFRhcmdldC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5BZGRUb0RvbTogdHJ1ZSxcbiAgfSxcbiAgY3NzOiB7XG4gICAgdGFnTmFtZTogXCJzdHlsZVwiLFxuICAgIGNvbnRlbnRGZXRjaEtleTogXCJocmVmXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdHlwZTogXCJ0ZXh0L2Nzc1wiLFxuICAgIH0sXG4gICAgdGFnTmFtZVdoZW5Ob3RJbmxpbmU6IFwibGlua1wiLFxuICAgIGF0dHJpYnV0ZXNXaGVuTm90SW5saW5lOiB7XG4gICAgICByZWw6IFwic3R5bGVzaGVldFwiLFxuICAgIH0sXG4gICAgc2V0RWxlbWVudENvbnRlbnRGdW5jKHsgdGFnLCBjb250ZW50IH0pIHtcbiAgICAgIHRhZy5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIH0sXG4gICAgY2FuQWRkVG9Eb206IHRydWUsXG4gIH0sXG4gIGJsb2I6IHtcbiAgICBjYW5BZGRUb0RvbTogZmFsc2UsXG4gICAgYXR0cmlidXRlczoge30sXG4gIH0sXG4gIGxpbms6IHtcbiAgICB0YWdOYW1lOiBcImxpbmtcIixcbiAgICBjb250ZW50RmV0Y2hLZXk6IFwiaHJlZlwiLFxuICAgIGNhbkFkZFRvRG9tOiB0cnVlLFxuICAgIHNldEVsZW1lbnRDb250ZW50RnVuYyh7IHRhZywgY29udGVudCB9KSB7XG4gICAgICB0YWcuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoY29udGVudCk7XG4gICAgfSxcbiAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICBkZWZhdWx0VG9CaW5hcnk6IHRydWUsXG4gICAgYWxsb3dMb2FkaW5nT3V0T2ZPcmRlcjogdHJ1ZSxcbiAgfSxcbiAgZm9udGZhY2U6IHtcbiAgICB0YWdOYW1lOiBcInN0eWxlXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdHlwZTogXCJ0ZXh0L2Nzc1wiLFxuICAgIH0sXG4gICAgYWxsb3dMb2FkaW5nT3V0T2ZPcmRlcjogdHJ1ZSxcbiAgICBkZWZhdWx0VG9CaW5hcnk6IHRydWUsXG4gICAgc2V0RWxlbWVudENvbnRlbnRGdW5jKHsgdGFnLCBjb250ZW50LCByZXNvdXJjZU1hbmlmZXN0T2JqIH0pIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9udEF0dHJpYnV0ZXMsXG4gICAgICAgIGxvY2FsRm9udEZhbWlseSA9IG51bGwsXG4gICAgICAgIHVybDogb3JpZ2luYWxVcmwsXG4gICAgICAgIGZvcm1hdCxcbiAgICAgICAgZmFsbGJhY2tVcmxzID0gbnVsbCxcbiAgICAgIH0gPSByZXNvdXJjZU1hbmlmZXN0T2JqO1xuICAgICAgbGV0IGF0dHJpYnV0ZXNTdHJpbmcgPSBcIlwiO1xuICAgICAgT2JqZWN0LmtleXMoZm9udEF0dHJpYnV0ZXMpLmZvckVhY2goYXR0cmlidXRlID0+IHtcbiAgICAgICAgYXR0cmlidXRlc1N0cmluZyArPSBgXFxuICAke2F0dHJpYnV0ZX06ICR7Zm9udEF0dHJpYnV0ZXNbYXR0cmlidXRlXX07YDtcbiAgICAgIH0pO1xuICAgICAgbGV0IHNyY1N0cmluZyA9IFwic3JjOiBcIjtcbiAgICAgIGlmIChsb2NhbEZvbnRGYW1pbHkpIHtcbiAgICAgICAgc3JjU3RyaW5nID0gbG9jYWxGb250RmFtaWx5LnJlZHVjZSgoc3RyLCB1cmwpID0+IGAke3N0cn1sb2NhbCgnJHt1cmx9JyksIGAsIHNyY1N0cmluZyk7XG4gICAgICB9XG4gICAgICBsZXQgYWN0dWFsVXJsO1xuICAgICAgaWYgKGNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhY3R1YWxVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsVXJsID0gb3JpZ2luYWxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoc3JjU3RyaW5nKSB7XG4gICAgICAgIHNyY1N0cmluZyArPSBgdXJsKCR7YWN0dWFsVXJsfSkgZm9ybWF0KCcke2Zvcm1hdH0nKWA7XG4gICAgICB9XG4gICAgICBpZiAoZmFsbGJhY2tVcmxzKSB7XG4gICAgICAgIHNyY1N0cmluZyA9IGZhbGxiYWNrVXJscy5yZWR1Y2UoKHN0ciwgb3B0cykgPT4ge1xuICAgICAgICAgIGxldCB7IHVybCwgZm9ybWF0IH0gPSBvcHRzO1xuICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCBcIndvZmYyXCI7XG4gICAgICAgICAgcmV0dXJuIGBcXG4gICR7c3RyfSB1cmwoJHt1cmx9KSBmb3JtYXQoJyR7Zm9ybWF0fScpLCBgO1xuICAgICAgICB9LCBgJHtzcmNTdHJpbmd9LCBgKTtcbiAgICAgICAgc3JjU3RyaW5nID0gc3JjU3RyaW5nLnN1YnN0cmluZygwLCBzcmNTdHJpbmcubGVuZ3RoIC0gMik7IC8vcmVtb3ZlIGxhc3QgY29tbWFcbiAgICAgIH1cbiAgICAgIHRhZy5pbm5lckhUTUwgPSBcIkBmb250LWZhY2Uge1wiICsgYCR7YXR0cmlidXRlc1N0cmluZ31gICsgYCR7c3JjU3RyaW5nfTtgICsgYFxcbn1gO1xuICAgIH0sXG4gICAgY2FuQWRkVG9Eb206IHRydWUsXG4gICAgYWx3YXlzQ2FsbFNldENvbnRlbnQ6IHRydWUsXG4gIH0sXG59O1xuIl19\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fetchResource = undefined;\n\nvar _responseHandlers = __webpack_require__(10);\n\nvar NO_CONTENT_TYPE = \"\";\n\nvar fetchResource = exports.fetchResource = function fetchResource(url) {\n  var responseType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.responseType = responseType;\n    xhr.addEventListener(\"load\", function () {\n      if (xhr.status === 200) {\n        var response = xhr.response;\n\n        var returnValue = {\n          content: response,\n          contentType: xhr.getResponseHeader(\"content-type\") || NO_CONTENT_TYPE\n        };\n        resolve((0, _responseHandlers.handleResponse)(returnValue));\n      } else {\n        reject(xhr);\n      }\n    }, false);\n    // Send XHR\n    xhr.send();\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9uZXR3b3JrLmpzIl0sIm5hbWVzIjpbIk5PX0NPTlRFTlRfVFlQRSIsImZldGNoUmVzb3VyY2UiLCJ1cmwiLCJyZXNwb25zZVR5cGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGF0dXMiLCJyZXNwb25zZSIsInJldHVyblZhbHVlIiwiY29udGVudCIsImNvbnRlbnRUeXBlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsa0JBQWtCLEVBQXhCOztBQUVPLElBQU1DLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBQ0MsR0FBRCxFQUFnQztBQUFBLE1BQTFCQyxZQUEwQix1RUFBWCxNQUFXOztBQUMzRCxTQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdEMsUUFBTUMsTUFBTSxJQUFJQyxjQUFKLEVBQVo7QUFDQUQsUUFBSUUsSUFBSixDQUFTLEtBQVQsRUFBZ0JQLEdBQWhCLEVBQXFCLElBQXJCO0FBQ0FLLFFBQUlKLFlBQUosR0FBbUJBLFlBQW5CO0FBQ0FJLFFBQUlHLGdCQUFKLENBQ0UsTUFERixFQUVFLFlBQVc7QUFDVCxVQUFJSCxJQUFJSSxNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFBQSxZQUNkQyxRQURjLEdBQ0RMLEdBREMsQ0FDZEssUUFEYzs7QUFFdEIsWUFBTUMsY0FBYztBQUNsQkMsbUJBQVNGLFFBRFM7QUFFbEJHLHVCQUFhUixJQUFJUyxpQkFBSixDQUFzQixjQUF0QixLQUF5Q2hCO0FBRnBDLFNBQXBCO0FBSUFLLGdCQUFRLHNDQUFlUSxXQUFmLENBQVI7QUFDRCxPQVBELE1BT087QUFDTFAsZUFBT0MsR0FBUDtBQUNEO0FBQ0YsS0FiSCxFQWNFLEtBZEY7QUFnQkE7QUFDQUEsUUFBSVUsSUFBSjtBQUNELEdBdEJNLENBQVA7QUF1QkQsQ0F4Qk0iLCJmaWxlIjoibmV0d29yay5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFuZGxlUmVzcG9uc2UgfSBmcm9tIFwiLi9yZXNwb25zZUhhbmRsZXJzXCI7XG5cbmNvbnN0IE5PX0NPTlRFTlRfVFlQRSA9IFwiXCI7XG5cbmV4cG9ydCBjb25zdCBmZXRjaFJlc291cmNlID0gKHVybCwgcmVzcG9uc2VUeXBlID0gXCJ0ZXh0XCIpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImxvYWRcIixcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgY29uc3QgeyByZXNwb25zZSB9ID0geGhyO1xuICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0ge1xuICAgICAgICAgICAgY29udGVudDogcmVzcG9uc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogeGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpIHx8IE5PX0NPTlRFTlRfVFlQRSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlc29sdmUoaGFuZGxlUmVzcG9uc2UocmV0dXJuVmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoeGhyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICAvLyBTZW5kIFhIUlxuICAgIHhoci5zZW5kKCk7XG4gIH0pO1xufTtcbiJdfQ==\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleResponse = handleResponse;\nfunction handleResponse(response) {\n  var content = response.content,\n      contentType = response.contentType;\n\n\n  if (/image\\/svg\\+xml/.test(contentType)) {\n    content = content.replace(/#/g, \"%23\");\n  }\n  return { content: content, contentType: contentType };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9yZXNwb25zZUhhbmRsZXJzLmpzIl0sIm5hbWVzIjpbImhhbmRsZVJlc3BvbnNlIiwicmVzcG9uc2UiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJ0ZXN0IiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFBZ0JBLGMsR0FBQUEsYztBQUFULFNBQVNBLGNBQVQsQ0FBd0JDLFFBQXhCLEVBQWtDO0FBQUEsTUFDakNDLE9BRGlDLEdBQ1JELFFBRFEsQ0FDakNDLE9BRGlDO0FBQUEsTUFDeEJDLFdBRHdCLEdBQ1JGLFFBRFEsQ0FDeEJFLFdBRHdCOzs7QUFHdkMsTUFBSSxrQkFBa0JDLElBQWxCLENBQXVCRCxXQUF2QixDQUFKLEVBQXlDO0FBQ3ZDRCxjQUFVQSxRQUFRRyxPQUFSLENBQWdCLElBQWhCLEVBQXNCLEtBQXRCLENBQVY7QUFDRDtBQUNELFNBQU8sRUFBRUgsZ0JBQUYsRUFBV0Msd0JBQVgsRUFBUDtBQUNEIiwiZmlsZSI6InJlc3BvbnNlSGFuZGxlcnMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSkge1xuICBsZXQgeyBjb250ZW50LCBjb250ZW50VHlwZSB9ID0gcmVzcG9uc2U7XG5cbiAgaWYgKC9pbWFnZVxcL3N2Z1xcK3htbC8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8jL2csIFwiJTIzXCIpO1xuICB9XG4gIHJldHVybiB7IGNvbnRlbnQsIGNvbnRlbnRUeXBlIH07XG59XG4iXX0=\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sortResources = sortResources;\nfunction sortResources(resources) {\n  resources.forEach(function (r, index) {\n    return r._index = index;\n  });\n  resources.sort(function (r1, r2) {\n    if (r1.type === \"fontface\" && r2.type !== \"fontface\") {\n      return -1;\n    }\n    if (r2.type === \"fontface\" && r1.type !== \"fontface\") {\n      return 1;\n    }\n    if (r1.cacheOnly && !r2.cacheOnly) {\n      return 1;\n    }\n    if (r2.cacheOnly && !r1.cacheOnly) {\n      return -1;\n    }\n    return r1._index - r2._index;\n  });\n  resources.forEach(function (r, index) {\n    return r._index = index;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zb3J0UmVzb3VyY2VzLmpzIl0sIm5hbWVzIjpbInNvcnRSZXNvdXJjZXMiLCJyZXNvdXJjZXMiLCJmb3JFYWNoIiwiciIsImluZGV4IiwiX2luZGV4Iiwic29ydCIsInIxIiwicjIiLCJ0eXBlIiwiY2FjaGVPbmx5Il0sIm1hcHBpbmdzIjoiOzs7OztRQUFnQkEsYSxHQUFBQSxhO0FBQVQsU0FBU0EsYUFBVCxDQUF1QkMsU0FBdkIsRUFBa0M7QUFDdkNBLFlBQVVDLE9BQVYsQ0FBa0IsVUFBQ0MsQ0FBRCxFQUFJQyxLQUFKO0FBQUEsV0FBZUQsRUFBRUUsTUFBRixHQUFXRCxLQUExQjtBQUFBLEdBQWxCO0FBQ0FILFlBQVVLLElBQVYsQ0FBZSxVQUFDQyxFQUFELEVBQUtDLEVBQUwsRUFBWTtBQUN6QixRQUFJRCxHQUFHRSxJQUFILEtBQVksVUFBWixJQUEwQkQsR0FBR0MsSUFBSCxLQUFZLFVBQTFDLEVBQXNEO0FBQ3BELGFBQU8sQ0FBQyxDQUFSO0FBQ0Q7QUFDRCxRQUFJRCxHQUFHQyxJQUFILEtBQVksVUFBWixJQUEwQkYsR0FBR0UsSUFBSCxLQUFZLFVBQTFDLEVBQXNEO0FBQ3BELGFBQU8sQ0FBUDtBQUNEO0FBQ0QsUUFBSUYsR0FBR0csU0FBSCxJQUFnQixDQUFDRixHQUFHRSxTQUF4QixFQUFtQztBQUNqQyxhQUFPLENBQVA7QUFDRDtBQUNELFFBQUlGLEdBQUdFLFNBQUgsSUFBZ0IsQ0FBQ0gsR0FBR0csU0FBeEIsRUFBbUM7QUFDakMsYUFBTyxDQUFDLENBQVI7QUFDRDtBQUNELFdBQU9ILEdBQUdGLE1BQUgsR0FBWUcsR0FBR0gsTUFBdEI7QUFDRCxHQWREO0FBZUFKLFlBQVVDLE9BQVYsQ0FBa0IsVUFBQ0MsQ0FBRCxFQUFJQyxLQUFKO0FBQUEsV0FBZUQsRUFBRUUsTUFBRixHQUFXRCxLQUExQjtBQUFBLEdBQWxCO0FBQ0QiLCJmaWxlIjoic29ydFJlc291cmNlcy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHNvcnRSZXNvdXJjZXMocmVzb3VyY2VzKSB7XG4gIHJlc291cmNlcy5mb3JFYWNoKChyLCBpbmRleCkgPT4gKHIuX2luZGV4ID0gaW5kZXgpKTtcbiAgcmVzb3VyY2VzLnNvcnQoKHIxLCByMikgPT4ge1xuICAgIGlmIChyMS50eXBlID09PSBcImZvbnRmYWNlXCIgJiYgcjIudHlwZSAhPT0gXCJmb250ZmFjZVwiKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChyMi50eXBlID09PSBcImZvbnRmYWNlXCIgJiYgcjEudHlwZSAhPT0gXCJmb250ZmFjZVwiKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHIxLmNhY2hlT25seSAmJiAhcjIuY2FjaGVPbmx5KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHIyLmNhY2hlT25seSAmJiAhcjEuY2FjaGVPbmx5KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiByMS5faW5kZXggLSByMi5faW5kZXg7XG4gIH0pO1xuICByZXNvdXJjZXMuZm9yRWFjaCgociwgaW5kZXgpID0+IChyLl9pbmRleCA9IGluZGV4KSk7XG59XG4iXX0=\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.appendOnLoadScript = appendOnLoadScript;\n\nvar _cappCacheLogger = __webpack_require__(0);\n\nvar _utils = __webpack_require__(2);\n\nvar RESOURCES_LOAD_START = \"Resources load start\";\n\nfunction appendOnLoadScript(_ref) {\n  var documentTarget = _ref.document,\n      callback = _ref.callback,\n      overrideDomContentLoaded = _ref.overrideDomContentLoaded,\n      _ref$onLoadDone = _ref.onLoadDone,\n      onLoadDone = _ref$onLoadDone === undefined ? Function.prototype : _ref$onLoadDone,\n      elementAddedToBody = _ref.elementAddedToBody;\n\n  var ID = \"__cappcache-\" + (\"\" + Math.random()).slice(2, 10);\n  var onLoadTypeOf = typeof onLoadDone === \"undefined\" ? \"undefined\" : _typeof(onLoadDone);\n  var onLoadText = \"\";\n  if (onLoadTypeOf === \"string\") {\n    onLoadText = onLoadDone;\n  } else if (onLoadTypeOf === \"function\") {\n    var _prevCallback = callback;\n    callback = function callback() {\n      onLoadDone();\n      _prevCallback();\n    };\n  }\n  window.cappCache[ID] = callback;\n  var ID_PERF = ID + \"__perf\";\n  window.cappCache[ID_PERF] = (0, _cappCacheLogger.isDetailedLog)() ? function () {\n    (0, _cappCacheLogger.perfMarkEnd)(\"RESOURCES LOAD\", RESOURCES_LOAD_START);\n    (0, _cappCacheLogger.log)(\"Done loading resources\");\n  } : Function.prototype;\n  var contentUrl = (0, _utils.getDataUrl)(\"window.cappCache[\\\"\" + ID + \"\\\"](); \\n\\t\\t      window.cappCache[\\\"\" + ID_PERF + \"\\\"](); \\n\\t\\t      delete window.cappCache[\\\"\" + ID + \"\\\"]; \\n\\t\\t      delete window.cappCache[\\\"\" + ID_PERF + \"\\\"]; \\n\\t\\t      \" + (overrideDomContentLoaded ? \"document.dispatchEvent(new Event('DOMContentLoaded', {bubbles: true}));\" : \"\") + \"\\n\\t\\t      \" + onLoadText + \";\\n\\t\\t      document.querySelector(\\\"#\" + ID + \"\\\").remove();\");\n  var script = documentTarget.createElement(\"script\");\n  script.id = ID;\n  script.async = false;\n  script.src = contentUrl;\n  documentTarget[elementAddedToBody ? \"body\" : \"head\"].appendChild(script);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9vbkxvYWREb25lSGFuZGxpbmcuanMiXSwibmFtZXMiOlsiYXBwZW5kT25Mb2FkU2NyaXB0IiwiUkVTT1VSQ0VTX0xPQURfU1RBUlQiLCJkb2N1bWVudFRhcmdldCIsImRvY3VtZW50IiwiY2FsbGJhY2siLCJvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQiLCJvbkxvYWREb25lIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJlbGVtZW50QWRkZWRUb0JvZHkiLCJJRCIsIk1hdGgiLCJyYW5kb20iLCJzbGljZSIsIm9uTG9hZFR5cGVPZiIsIm9uTG9hZFRleHQiLCJfcHJldkNhbGxiYWNrIiwid2luZG93IiwiY2FwcENhY2hlIiwiSURfUEVSRiIsImNvbnRlbnRVcmwiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJhc3luYyIsInNyYyIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztRQUtnQkEsa0IsR0FBQUEsa0I7O0FBTGhCOztBQUNBOztBQUVBLElBQU1DLHVCQUF1QixzQkFBN0I7O0FBRU8sU0FBU0Qsa0JBQVQsT0FNSjtBQUFBLE1BTFNFLGNBS1QsUUFMREMsUUFLQztBQUFBLE1BSkRDLFFBSUMsUUFKREEsUUFJQztBQUFBLE1BSERDLHdCQUdDLFFBSERBLHdCQUdDO0FBQUEsNkJBRkRDLFVBRUM7QUFBQSxNQUZEQSxVQUVDLG1DQUZZQyxTQUFTQyxTQUVyQjtBQUFBLE1BRERDLGtCQUNDLFFBRERBLGtCQUNDOztBQUNELE1BQU1DLHNCQUFvQixDQUFDLEtBQUtDLEtBQUtDLE1BQUwsRUFBTixFQUFxQkMsS0FBckIsQ0FBMkIsQ0FBM0IsRUFBOEIsRUFBOUIsQ0FBMUI7QUFDQSxNQUFNQyxzQkFBc0JSLFVBQXRCLHlDQUFzQkEsVUFBdEIsQ0FBTjtBQUNBLE1BQUlTLGFBQWEsRUFBakI7QUFDQSxNQUFJRCxpQkFBaUIsUUFBckIsRUFBK0I7QUFDN0JDLGlCQUFhVCxVQUFiO0FBQ0QsR0FGRCxNQUVPLElBQUlRLGlCQUFpQixVQUFyQixFQUFpQztBQUN0QyxRQUFNRSxnQkFBZ0JaLFFBQXRCO0FBQ0FBLGVBQVcsb0JBQU07QUFDZkU7QUFDQVU7QUFDRCxLQUhEO0FBSUQ7QUFDREMsU0FBT0MsU0FBUCxDQUFpQlIsRUFBakIsSUFBdUJOLFFBQXZCO0FBQ0EsTUFBTWUsVUFBVVQsS0FBSyxRQUFyQjtBQUNBTyxTQUFPQyxTQUFQLENBQWlCQyxPQUFqQixJQUE0Qix3Q0FDeEIsWUFBTTtBQUNKLHNDQUFZLGdCQUFaLEVBQThCbEIsb0JBQTlCO0FBQ0EsOEJBQUksd0JBQUo7QUFDRCxHQUp1QixHQUt4Qk0sU0FBU0MsU0FMYjtBQU1BLE1BQU1ZLGFBQWEsK0NBQWdDVixFQUFoQyw4Q0FDT1MsT0FEUCxxREFFY1QsRUFGZCxtREFHY1MsT0FIZCwwQkFJWGQsMkJBQTJCLHlFQUEzQixHQUF1RyxFQUo1RixxQkFLWFUsVUFMVywrQ0FNY0wsRUFOZCxtQkFBbkI7QUFPQSxNQUFNVyxTQUFTbkIsZUFBZW9CLGFBQWYsQ0FBNkIsUUFBN0IsQ0FBZjtBQUNBRCxTQUFPRSxFQUFQLEdBQVliLEVBQVo7QUFDQVcsU0FBT0csS0FBUCxHQUFlLEtBQWY7QUFDQUgsU0FBT0ksR0FBUCxHQUFhTCxVQUFiO0FBQ0FsQixpQkFBZU8scUJBQXFCLE1BQXJCLEdBQThCLE1BQTdDLEVBQXFEaUIsV0FBckQsQ0FBaUVMLE1BQWpFO0FBQ0QiLCJmaWxlIjoib25Mb2FkRG9uZUhhbmRsaW5nLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZXJmTWFya0VuZCwgaXNEZXRhaWxlZExvZywgbG9nIH0gZnJvbSBcIi4vY2FwcENhY2hlTG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXREYXRhVXJsIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgUkVTT1VSQ0VTX0xPQURfU1RBUlQgPSBcIlJlc291cmNlcyBsb2FkIHN0YXJ0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRPbkxvYWRTY3JpcHQoe1xuICBkb2N1bWVudDogZG9jdW1lbnRUYXJnZXQsXG4gIGNhbGxiYWNrLFxuICBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQsXG4gIG9uTG9hZERvbmUgPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gIGVsZW1lbnRBZGRlZFRvQm9keSxcbn0pIHtcbiAgY29uc3QgSUQgPSBgX19jYXBwY2FjaGUtJHsoXCJcIiArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDIsIDEwKX1gO1xuICBjb25zdCBvbkxvYWRUeXBlT2YgPSB0eXBlb2Ygb25Mb2FkRG9uZTtcbiAgbGV0IG9uTG9hZFRleHQgPSBcIlwiO1xuICBpZiAob25Mb2FkVHlwZU9mID09PSBcInN0cmluZ1wiKSB7XG4gICAgb25Mb2FkVGV4dCA9IG9uTG9hZERvbmU7XG4gIH0gZWxzZSBpZiAob25Mb2FkVHlwZU9mID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCBfcHJldkNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBvbkxvYWREb25lKCk7XG4gICAgICBfcHJldkNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfVxuICB3aW5kb3cuY2FwcENhY2hlW0lEXSA9IGNhbGxiYWNrO1xuICBjb25zdCBJRF9QRVJGID0gSUQgKyBcIl9fcGVyZlwiO1xuICB3aW5kb3cuY2FwcENhY2hlW0lEX1BFUkZdID0gaXNEZXRhaWxlZExvZygpXG4gICAgPyAoKSA9PiB7XG4gICAgICAgIHBlcmZNYXJrRW5kKFwiUkVTT1VSQ0VTIExPQURcIiwgUkVTT1VSQ0VTX0xPQURfU1RBUlQpO1xuICAgICAgICBsb2coXCJEb25lIGxvYWRpbmcgcmVzb3VyY2VzXCIpO1xuICAgICAgfVxuICAgIDogRnVuY3Rpb24ucHJvdG90eXBlO1xuICBjb25zdCBjb250ZW50VXJsID0gZ2V0RGF0YVVybChgd2luZG93LmNhcHBDYWNoZVtcIiR7SUR9XCJdKCk7IFxuXHRcdCAgICAgIHdpbmRvdy5jYXBwQ2FjaGVbXCIke0lEX1BFUkZ9XCJdKCk7IFxuXHRcdCAgICAgIGRlbGV0ZSB3aW5kb3cuY2FwcENhY2hlW1wiJHtJRH1cIl07IFxuXHRcdCAgICAgIGRlbGV0ZSB3aW5kb3cuY2FwcENhY2hlW1wiJHtJRF9QRVJGfVwiXTsgXG5cdFx0ICAgICAgJHtvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgPyBcImRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdET01Db250ZW50TG9hZGVkJywge2J1YmJsZXM6IHRydWV9KSk7XCIgOiBcIlwifVxuXHRcdCAgICAgICR7b25Mb2FkVGV4dH07XG5cdFx0ICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiMke0lEfVwiKS5yZW1vdmUoKTtgKTtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnRUYXJnZXQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgc2NyaXB0LmlkID0gSUQ7XG4gIHNjcmlwdC5hc3luYyA9IGZhbHNlO1xuICBzY3JpcHQuc3JjID0gY29udGVudFVybDtcbiAgZG9jdW1lbnRUYXJnZXRbZWxlbWVudEFkZGVkVG9Cb2R5ID8gXCJib2R5XCIgOiBcImhlYWRcIl0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cbiJdfQ==\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar events = {};\n\nvar on = exports.on = function on(eventName, handler) {\n  if (events[eventName] === undefined) {\n    events[eventName] = [];\n  }\n  events[eventName].push(handler);\n};\n\nvar trigger = exports.trigger = function trigger(eventName) {\n  if (events[eventName] !== undefined) {\n    events[eventName].forEach(function (handler) {\n      return handler();\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ldmVudEJ1cy5qcyJdLCJuYW1lcyI6WyJldmVudHMiLCJvbiIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJ1bmRlZmluZWQiLCJwdXNoIiwidHJpZ2dlciIsImZvckVhY2giXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsU0FBUyxFQUFmOztBQUVPLElBQU1DLGtCQUFLLFNBQUxBLEVBQUssQ0FBQ0MsU0FBRCxFQUFZQyxPQUFaLEVBQXdCO0FBQ3hDLE1BQUlILE9BQU9FLFNBQVAsTUFBc0JFLFNBQTFCLEVBQXFDO0FBQ25DSixXQUFPRSxTQUFQLElBQW9CLEVBQXBCO0FBQ0Q7QUFDREYsU0FBT0UsU0FBUCxFQUFrQkcsSUFBbEIsQ0FBdUJGLE9BQXZCO0FBQ0QsQ0FMTTs7QUFPQSxJQUFNRyw0QkFBVSxTQUFWQSxPQUFVLFlBQWE7QUFDbEMsTUFBSU4sT0FBT0UsU0FBUCxNQUFzQkUsU0FBMUIsRUFBcUM7QUFDbkNKLFdBQU9FLFNBQVAsRUFBa0JLLE9BQWxCLENBQTBCO0FBQUEsYUFBV0osU0FBWDtBQUFBLEtBQTFCO0FBQ0Q7QUFDRixDQUpNIiwiZmlsZSI6ImV2ZW50QnVzLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBldmVudHMgPSB7fTtcblxuZXhwb3J0IGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgaGFuZGxlcikgPT4ge1xuICBpZiAoZXZlbnRzW2V2ZW50TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50c1tldmVudE5hbWVdID0gW107XG4gIH1cbiAgZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmlnZ2VyID0gZXZlbnROYW1lID0+IHtcbiAgaWYgKGV2ZW50c1tldmVudE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHNbZXZlbnROYW1lXS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcigpKTtcbiAgfVxufTtcbiJdfQ==\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cappCacheLogger = __webpack_require__(0);\n\nvar _resourceLoader = __webpack_require__(4);\n\nvar _resourceManager = __webpack_require__(3);\n\nvar _id = __webpack_require__(5);\n\nvar _indexedDBAccess = __webpack_require__(1);\n\nvar _indexedDBAccess2 = _interopRequireDefault(_indexedDBAccess);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  fetchManifest: function fetchManifest(manifestUrl, _ref) {\n    var _ref$overrideDomConte = _ref.overrideDomContentLoaded,\n        overrideDomContentLoaded = _ref$overrideDomConte === undefined ? false : _ref$overrideDomConte;\n\n    var fullManifestUrl = (0, _id.id)(manifestUrl);\n    return new Promise(function (resolve, reject) {\n      (0, _indexedDBAccess2.default)().then(function (db) {\n        (0, _resourceLoader.loadResource)({ indexedDBAccess: db, url: fullManifestUrl, immediate: true }).then(function (_ref2) {\n          var fromCache = _ref2.fromCache,\n              resource = _ref2.resource;\n\n          var manifestContent = resource.content;\n          var manifest = JSON.parse(manifestContent);\n          (0, _resourceManager.load)(manifest, { overrideDomContentLoaded: overrideDomContentLoaded });\n          var wasModified = false;\n          if (fromCache) {\n            (0, _resourceLoader.fetchAndSaveInCache)({ url: fullManifestUrl, indexedDBAccess: db }).then(function (newManifestContent) {\n              var newManifest = JSON.parse(newManifestContent.content);\n              if (newManifest.version !== manifest.version) {\n                (0, _cappCacheLogger.log)(\"new app cache version has changed from \\\"\" + manifest.version + \"\\\" to \\\"\" + newManifest.version + \"\\\"\");\n                wasModified = true;\n              }\n              resolve({ manifest: newManifest, wasModified: wasModified });\n            });\n          } else {\n            //from network\n            resolve({ manifest: manifest, wasModified: wasModified });\n          }\n        }).catch(function (err) {\n          (0, _cappCacheLogger.error)(\"failed to fetch manifest \" + err);\n          reject(err);\n        });\n      });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tYW5pZmVzdE1hbmFnZXIuanMiXSwibmFtZXMiOlsiZmV0Y2hNYW5pZmVzdCIsIm1hbmlmZXN0VXJsIiwib3ZlcnJpZGVEb21Db250ZW50TG9hZGVkIiwiZnVsbE1hbmlmZXN0VXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aGVuIiwiaW5kZXhlZERCQWNjZXNzIiwiZGIiLCJ1cmwiLCJpbW1lZGlhdGUiLCJmcm9tQ2FjaGUiLCJyZXNvdXJjZSIsIm1hbmlmZXN0Q29udGVudCIsImNvbnRlbnQiLCJtYW5pZmVzdCIsIkpTT04iLCJwYXJzZSIsIndhc01vZGlmaWVkIiwibmV3TWFuaWZlc3QiLCJuZXdNYW5pZmVzdENvbnRlbnQiLCJ2ZXJzaW9uIiwiY2F0Y2giLCJlcnIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7a0JBRWU7QUFDYkEsZUFEYSx5QkFDQ0MsV0FERCxRQUNvRDtBQUFBLHFDQUFwQ0Msd0JBQW9DO0FBQUEsUUFBcENBLHdCQUFvQyx5Q0FBVCxLQUFTOztBQUMvRCxRQUFNQyxrQkFBa0IsWUFBR0YsV0FBSCxDQUF4QjtBQUNBLFdBQU8sSUFBSUcsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUN0Qyx1Q0FBa0JDLElBQWxCLENBQXVCLGNBQU07QUFDM0IsMENBQWEsRUFBRUMsaUJBQWlCQyxFQUFuQixFQUF1QkMsS0FBS1AsZUFBNUIsRUFBNkNRLFdBQVcsSUFBeEQsRUFBYixFQUNHSixJQURILENBQ1EsaUJBQTZCO0FBQUEsY0FBMUJLLFNBQTBCLFNBQTFCQSxTQUEwQjtBQUFBLGNBQWZDLFFBQWUsU0FBZkEsUUFBZTs7QUFDakMsY0FBTUMsa0JBQWtCRCxTQUFTRSxPQUFqQztBQUNBLGNBQU1DLFdBQVdDLEtBQUtDLEtBQUwsQ0FBV0osZUFBWCxDQUFqQjtBQUNBLHFDQUFLRSxRQUFMLEVBQWUsRUFBRWQsa0RBQUYsRUFBZjtBQUNBLGNBQUlpQixjQUFjLEtBQWxCO0FBQ0EsY0FBSVAsU0FBSixFQUFlO0FBQ2IscURBQW9CLEVBQUVGLEtBQUtQLGVBQVAsRUFBd0JLLGlCQUFpQkMsRUFBekMsRUFBcEIsRUFBbUVGLElBQW5FLENBQXdFLDhCQUFzQjtBQUM1RixrQkFBTWEsY0FBY0gsS0FBS0MsS0FBTCxDQUFXRyxtQkFBbUJOLE9BQTlCLENBQXBCO0FBQ0Esa0JBQUlLLFlBQVlFLE9BQVosS0FBd0JOLFNBQVNNLE9BQXJDLEVBQThDO0FBQzVDLHdGQUErQ04sU0FBU00sT0FBeEQsZ0JBQXdFRixZQUFZRSxPQUFwRjtBQUNBSCw4QkFBYyxJQUFkO0FBQ0Q7QUFDRGQsc0JBQVEsRUFBRVcsVUFBVUksV0FBWixFQUF5QkQsd0JBQXpCLEVBQVI7QUFDRCxhQVBEO0FBUUQsV0FURCxNQVNPO0FBQ0w7QUFDQWQsb0JBQVEsRUFBRVcsVUFBVUEsUUFBWixFQUFzQkcsd0JBQXRCLEVBQVI7QUFDRDtBQUNGLFNBbkJILEVBb0JHSSxLQXBCSCxDQW9CUyxlQUFPO0FBQ1osb0VBQWtDQyxHQUFsQztBQUNBbEIsaUJBQU9rQixHQUFQO0FBQ0QsU0F2Qkg7QUF3QkQsT0F6QkQ7QUEwQkQsS0EzQk0sQ0FBUDtBQTRCRDtBQS9CWSxDIiwiZmlsZSI6Im1hbmlmZXN0TWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nLCBlcnJvciB9IGZyb20gXCIuL2NhcHBDYWNoZUxvZ2dlclwiO1xuaW1wb3J0IHsgbG9hZFJlc291cmNlLCBmZXRjaEFuZFNhdmVJbkNhY2hlIH0gZnJvbSBcIi4vcmVzb3VyY2VMb2FkZXJcIjtcbmltcG9ydCB7IGxvYWQgfSBmcm9tIFwiLi9yZXNvdXJjZU1hbmFnZXJcIjtcbmltcG9ydCB7IGlkIH0gZnJvbSBcIi4vaWRcIjtcbmltcG9ydCBpbmRleGVkREJBY2Nlc3MgZnJvbSBcIi4vaW5kZXhlZERCQWNjZXNzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZmV0Y2hNYW5pZmVzdChtYW5pZmVzdFVybCwgeyBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgPSBmYWxzZSB9KSB7XG4gICAgY29uc3QgZnVsbE1hbmlmZXN0VXJsID0gaWQobWFuaWZlc3RVcmwpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpbmRleGVkREJBY2Nlc3MoKS50aGVuKGRiID0+IHtcbiAgICAgICAgbG9hZFJlc291cmNlKHsgaW5kZXhlZERCQWNjZXNzOiBkYiwgdXJsOiBmdWxsTWFuaWZlc3RVcmwsIGltbWVkaWF0ZTogdHJ1ZSB9KVxuICAgICAgICAgIC50aGVuKCh7IGZyb21DYWNoZSwgcmVzb3VyY2UgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFuaWZlc3RDb250ZW50ID0gcmVzb3VyY2UuY29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShtYW5pZmVzdENvbnRlbnQpO1xuICAgICAgICAgICAgbG9hZChtYW5pZmVzdCwgeyBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgfSk7XG4gICAgICAgICAgICBsZXQgd2FzTW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChmcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgZmV0Y2hBbmRTYXZlSW5DYWNoZSh7IHVybDogZnVsbE1hbmlmZXN0VXJsLCBpbmRleGVkREJBY2Nlc3M6IGRiIH0pLnRoZW4obmV3TWFuaWZlc3RDb250ZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNYW5pZmVzdCA9IEpTT04ucGFyc2UobmV3TWFuaWZlc3RDb250ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdNYW5pZmVzdC52ZXJzaW9uICE9PSBtYW5pZmVzdC52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICBsb2coYG5ldyBhcHAgY2FjaGUgdmVyc2lvbiBoYXMgY2hhbmdlZCBmcm9tIFwiJHttYW5pZmVzdC52ZXJzaW9ufVwiIHRvIFwiJHtuZXdNYW5pZmVzdC52ZXJzaW9ufVwiYCk7XG4gICAgICAgICAgICAgICAgICB3YXNNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBtYW5pZmVzdDogbmV3TWFuaWZlc3QsIHdhc01vZGlmaWVkIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vZnJvbSBuZXR3b3JrXG4gICAgICAgICAgICAgIHJlc29sdmUoeyBtYW5pZmVzdDogbWFuaWZlc3QsIHdhc01vZGlmaWVkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBlcnJvcihgZmFpbGVkIHRvIGZldGNoIG1hbmlmZXN0ICR7ZXJyfWApO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbn07XG4iXX0=\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// capp-cache.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4936777ad4b64ca278cd","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.log = log;\nexports.warn = warn;\nexports.error = error;\nexports.perfMark = perfMark;\nexports.perfMarkEnd = perfMarkEnd;\nexports.logSince = logSince;\nexports.isDetailedLog = isDetailedLog;\nvar LOG_LEVELS = exports.LOG_LEVELS = {\n  log: 1,\n  warn: 2,\n  error: 3\n};\n\nvar _logLevelIndex = LOG_LEVELS.warn;\nvar perfAvailable = void 0;\n\nvar logCommand = function logCommand(levelName, levelIndex, args) {\n  if (levelIndex >= _logLevelIndex) {\n    console[levelName].apply(console, args);\n  }\n};\n\nfunction log() {\n  logCommand(\"log\", 1, arguments);\n}\nfunction warn() {\n  logCommand(\"warn\", 2, arguments);\n}\nfunction error() {\n  logCommand(\"error\", 3, arguments);\n}\n\nvar checkIfPerformanceAvailable = function checkIfPerformanceAvailable() {\n  perfAvailable = !!(LOG_LEVELS.log && window.performance && window.performance.measure);\n};\ncheckIfPerformanceAvailable();\n\nfunction perfMeasure(name, marker1, marker2) {\n  isDetailedLog() && window.performance.measure(name, marker1, marker2);\n}\n\nfunction perfMark(marker) {\n  isDetailedLog() && window.performance.mark(marker);\n}\n\nfunction perfMarkEnd(name, marker1, marker2) {\n  if (isDetailedLog()) {\n    var markerEnd = marker2 || marker1 + \" - end\";\n    perfMark(markerEnd);\n    perfMeasure(name, marker1, markerEnd);\n  }\n}\n\nvar setLogLevel = exports.setLogLevel = function setLogLevel(logLevel) {\n  _logLevelIndex = logLevel;\n  checkIfPerformanceAvailable();\n};\n\nvar timers = {};\nfunction logSince(timer, message) {\n  if (timers[timer] === undefined) {\n    timers[timer] = performance && performance.now();\n  }\n  log(\"timing: (\" + (performance.now() - timers[timer]) + \") \" + message);\n}\n\nfunction isDetailedLog() {\n  return _logLevelIndex === LOG_LEVELS.log;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jYXBwQ2FjaGVMb2dnZXIuanMiXSwibmFtZXMiOlsibG9nIiwid2FybiIsImVycm9yIiwicGVyZk1hcmsiLCJwZXJmTWFya0VuZCIsImxvZ1NpbmNlIiwiaXNEZXRhaWxlZExvZyIsIkxPR19MRVZFTFMiLCJfbG9nTGV2ZWxJbmRleCIsInBlcmZBdmFpbGFibGUiLCJsb2dDb21tYW5kIiwibGV2ZWxOYW1lIiwibGV2ZWxJbmRleCIsImFyZ3MiLCJjb25zb2xlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjaGVja0lmUGVyZm9ybWFuY2VBdmFpbGFibGUiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsIm1lYXN1cmUiLCJwZXJmTWVhc3VyZSIsIm5hbWUiLCJtYXJrZXIxIiwibWFya2VyMiIsIm1hcmtlciIsIm1hcmsiLCJtYXJrZXJFbmQiLCJzZXRMb2dMZXZlbCIsImxvZ0xldmVsIiwidGltZXJzIiwidGltZXIiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwibm93Il0sIm1hcHBpbmdzIjoiOzs7OztRQWVnQkEsRyxHQUFBQSxHO1FBR0FDLEksR0FBQUEsSTtRQUdBQyxLLEdBQUFBLEs7UUFhQUMsUSxHQUFBQSxRO1FBSUFDLFcsR0FBQUEsVztRQWNBQyxRLEdBQUFBLFE7UUFPQUMsYSxHQUFBQSxhO0FBM0RULElBQU1DLGtDQUFhO0FBQ3hCUCxPQUFLLENBRG1CO0FBRXhCQyxRQUFNLENBRmtCO0FBR3hCQyxTQUFPO0FBSGlCLENBQW5COztBQU1QLElBQUlNLGlCQUFpQkQsV0FBV04sSUFBaEM7QUFDQSxJQUFJUSxzQkFBSjs7QUFFQSxJQUFNQyxhQUFhLFNBQWJBLFVBQWEsQ0FBQ0MsU0FBRCxFQUFZQyxVQUFaLEVBQXdCQyxJQUF4QixFQUFpQztBQUNsRCxNQUFJRCxjQUFjSixjQUFsQixFQUFrQztBQUNoQ00sWUFBUUgsU0FBUixFQUFtQkksS0FBbkIsQ0FBeUJELE9BQXpCLEVBQWtDRCxJQUFsQztBQUNEO0FBQ0YsQ0FKRDs7QUFNTyxTQUFTYixHQUFULEdBQWU7QUFDcEJVLGFBQVcsS0FBWCxFQUFrQixDQUFsQixFQUFxQk0sU0FBckI7QUFDRDtBQUNNLFNBQVNmLElBQVQsR0FBZ0I7QUFDckJTLGFBQVcsTUFBWCxFQUFtQixDQUFuQixFQUFzQk0sU0FBdEI7QUFDRDtBQUNNLFNBQVNkLEtBQVQsR0FBaUI7QUFDdEJRLGFBQVcsT0FBWCxFQUFvQixDQUFwQixFQUF1Qk0sU0FBdkI7QUFDRDs7QUFFRCxJQUFNQyw4QkFBOEIsU0FBOUJBLDJCQUE4QixHQUFNO0FBQ3hDUixrQkFBZ0IsQ0FBQyxFQUFFRixXQUFXUCxHQUFYLElBQWtCa0IsT0FBT0MsV0FBekIsSUFBd0NELE9BQU9DLFdBQVAsQ0FBbUJDLE9BQTdELENBQWpCO0FBQ0QsQ0FGRDtBQUdBSDs7QUFFQSxTQUFTSSxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsT0FBM0IsRUFBb0NDLE9BQXBDLEVBQTZDO0FBQzNDbEIscUJBQW1CWSxPQUFPQyxXQUFQLENBQW1CQyxPQUFuQixDQUEyQkUsSUFBM0IsRUFBaUNDLE9BQWpDLEVBQTBDQyxPQUExQyxDQUFuQjtBQUNEOztBQUVNLFNBQVNyQixRQUFULENBQWtCc0IsTUFBbEIsRUFBMEI7QUFDL0JuQixxQkFBbUJZLE9BQU9DLFdBQVAsQ0FBbUJPLElBQW5CLENBQXdCRCxNQUF4QixDQUFuQjtBQUNEOztBQUVNLFNBQVNyQixXQUFULENBQXFCa0IsSUFBckIsRUFBMkJDLE9BQTNCLEVBQW9DQyxPQUFwQyxFQUE2QztBQUNsRCxNQUFJbEIsZUFBSixFQUFxQjtBQUNuQixRQUFNcUIsWUFBWUgsV0FBV0QsVUFBVSxRQUF2QztBQUNBcEIsYUFBU3dCLFNBQVQ7QUFDQU4sZ0JBQVlDLElBQVosRUFBa0JDLE9BQWxCLEVBQTJCSSxTQUEzQjtBQUNEO0FBQ0Y7O0FBRU0sSUFBTUMsb0NBQWMsU0FBZEEsV0FBYyxXQUFZO0FBQ3JDcEIsbUJBQWlCcUIsUUFBakI7QUFDQVo7QUFDRCxDQUhNOztBQUtQLElBQU1hLFNBQVMsRUFBZjtBQUNPLFNBQVN6QixRQUFULENBQWtCMEIsS0FBbEIsRUFBeUJDLE9BQXpCLEVBQWtDO0FBQ3ZDLE1BQUlGLE9BQU9DLEtBQVAsTUFBa0JFLFNBQXRCLEVBQWlDO0FBQy9CSCxXQUFPQyxLQUFQLElBQWdCWixlQUFlQSxZQUFZZSxHQUFaLEVBQS9CO0FBQ0Q7QUFDRGxDLHFCQUFnQm1CLFlBQVllLEdBQVosS0FBb0JKLE9BQU9DLEtBQVAsQ0FBcEMsV0FBc0RDLE9BQXREO0FBQ0Q7O0FBRU0sU0FBUzFCLGFBQVQsR0FBeUI7QUFDOUIsU0FBT0UsbUJBQW1CRCxXQUFXUCxHQUFyQztBQUNEIiwiZmlsZSI6ImNhcHBDYWNoZUxvZ2dlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IExPR19MRVZFTFMgPSB7XG4gIGxvZzogMSxcbiAgd2FybjogMixcbiAgZXJyb3I6IDMsXG59O1xuXG5sZXQgX2xvZ0xldmVsSW5kZXggPSBMT0dfTEVWRUxTLndhcm47XG5sZXQgcGVyZkF2YWlsYWJsZTtcblxuY29uc3QgbG9nQ29tbWFuZCA9IChsZXZlbE5hbWUsIGxldmVsSW5kZXgsIGFyZ3MpID0+IHtcbiAgaWYgKGxldmVsSW5kZXggPj0gX2xvZ0xldmVsSW5kZXgpIHtcbiAgICBjb25zb2xlW2xldmVsTmFtZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2coKSB7XG4gIGxvZ0NvbW1hbmQoXCJsb2dcIiwgMSwgYXJndW1lbnRzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKCkge1xuICBsb2dDb21tYW5kKFwid2FyblwiLCAyLCBhcmd1bWVudHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKCkge1xuICBsb2dDb21tYW5kKFwiZXJyb3JcIiwgMywgYXJndW1lbnRzKTtcbn1cblxuY29uc3QgY2hlY2tJZlBlcmZvcm1hbmNlQXZhaWxhYmxlID0gKCkgPT4ge1xuICBwZXJmQXZhaWxhYmxlID0gISEoTE9HX0xFVkVMUy5sb2cgJiYgd2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5tZWFzdXJlKTtcbn07XG5jaGVja0lmUGVyZm9ybWFuY2VBdmFpbGFibGUoKTtcblxuZnVuY3Rpb24gcGVyZk1lYXN1cmUobmFtZSwgbWFya2VyMSwgbWFya2VyMikge1xuICBpc0RldGFpbGVkTG9nKCkgJiYgd2luZG93LnBlcmZvcm1hbmNlLm1lYXN1cmUobmFtZSwgbWFya2VyMSwgbWFya2VyMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJmTWFyayhtYXJrZXIpIHtcbiAgaXNEZXRhaWxlZExvZygpICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKG1hcmtlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJmTWFya0VuZChuYW1lLCBtYXJrZXIxLCBtYXJrZXIyKSB7XG4gIGlmIChpc0RldGFpbGVkTG9nKCkpIHtcbiAgICBjb25zdCBtYXJrZXJFbmQgPSBtYXJrZXIyIHx8IG1hcmtlcjEgKyBcIiAtIGVuZFwiO1xuICAgIHBlcmZNYXJrKG1hcmtlckVuZCk7XG4gICAgcGVyZk1lYXN1cmUobmFtZSwgbWFya2VyMSwgbWFya2VyRW5kKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSBsb2dMZXZlbCA9PiB7XG4gIF9sb2dMZXZlbEluZGV4ID0gbG9nTGV2ZWw7XG4gIGNoZWNrSWZQZXJmb3JtYW5jZUF2YWlsYWJsZSgpO1xufTtcblxuY29uc3QgdGltZXJzID0ge307XG5leHBvcnQgZnVuY3Rpb24gbG9nU2luY2UodGltZXIsIG1lc3NhZ2UpIHtcbiAgaWYgKHRpbWVyc1t0aW1lcl0gPT09IHVuZGVmaW5lZCkge1xuICAgIHRpbWVyc1t0aW1lcl0gPSBwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuICBsb2coYHRpbWluZzogKCR7cGVyZm9ybWFuY2Uubm93KCkgLSB0aW1lcnNbdGltZXJdfSkgJHttZXNzYWdlfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZXRhaWxlZExvZygpIHtcbiAgcmV0dXJuIF9sb2dMZXZlbEluZGV4ID09PSBMT0dfTEVWRUxTLmxvZztcbn1cbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cappCacheLogger.js\n// module id = 0\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.closeConnection = exports.FAILED_TO_OPEN_IDB = undefined;\n\nexports.default = function () {\n  if (resolvedPromise) {\n    return resolvedPromise;\n  }\n  var dbOpenFailed = false;\n  var idbWrapper = Object.create(null);\n  var _db = null;\n  var req = _indexedDB2.default.open(DB_NAME, DB_VERSION);\n\n  var store = function store() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"readwrite\";\n\n    var transaction = _db.transaction([STORE_NAME], type);\n    return transaction.objectStore(STORE_NAME);\n  };\n\n  idbWrapper.get = function (id) {\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var request = store(\"readonly\").get(id);\n      request.onsuccess = function (event) {\n        if (event.target.result) {\n          resolve(event.target.result);\n        } else {\n          (0, _cappCacheLogger.log)(\"resource with id \" + id + \" is not in the cache\");\n          reject(null);\n        }\n      };\n      request.onerror = function (event) {\n        reject(event);\n      };\n    });\n  };\n\n  idbWrapper.skip = function () {\n    return Promise.reject();\n  };\n\n  idbWrapper.exists = function (id) {\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var request = store(\"readonly\").count(id);\n      request.onsuccess = function (e) {\n        var exists = e.target.result > 0;\n        if (exists) {\n          resolve({});\n        } else {\n          reject();\n        }\n      };\n      request.onerror = function (event) {\n        reject(event);\n      };\n    });\n  };\n\n  idbWrapper.removeResource = function (id) {\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var objectStore = store();\n      var request = objectStore.delete(id);\n      request.onsuccess = function () {\n        (0, _cappCacheLogger.log)(\"removed resource \" + id);\n        resolve();\n      };\n      request.onerror = function (e) {\n        (0, _cappCacheLogger.error)(\"failed to remove resource \" + id + \". error: \" + e);\n        reject(e);\n      };\n    });\n  };\n\n  idbWrapper.put = function (id, _ref) {\n    var content = _ref.content,\n        contentType = _ref.contentType;\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var objectStore = store();\n      var putRequest = objectStore.put({\n        id: id,\n        content: content,\n        contentType: contentType\n      });\n\n      putRequest.onsuccess = resolve;\n      putRequest.onerror = function (e) {\n        (0, _cappCacheLogger.error)(\"failed to save item with id \" + id + \" in cache due to error \" + e);\n        reject();\n      };\n    });\n  };\n\n  idbWrapper.pruneDb = function () {\n    var knownIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return new Promise(function (resolve, reject) {\n      if (dbOpenFailed) {\n        return reject(FAILED_TO_OPEN_IDB);\n      }\n      var objectStore = store();\n      var request = objectStore.openCursor();\n      request.onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n          if (!knownIds.includes(cursor.key)) {\n            idbWrapper.removeResource(cursor.key);\n            (0, _cappCacheLogger.log)(\"pruned \" + cursor.key);\n          }\n          cursor.continue();\n        } else {\n          resolve();\n        }\n      };\n      request.onerror = function (e) {\n        (0, _cappCacheLogger.error)(\"failed to get all keys while pruning cache. error\");\n        reject(e);\n      };\n    });\n  };\n\n  resolvedPromise = new Promise(function (resolve, reject) {\n    req.onsuccess = function (e) {\n      _db = e.target.result;\n      resolve(idbWrapper);\n    };\n    req.onupgradeneeded = function (e) {\n      var db = e.target.result;\n      db.createObjectStore(STORE_NAME, { keyPath: \"id\" });\n    };\n    req.onerror = function (e) {\n      dbOpenFailed = true;\n      (0, _cappCacheLogger.error)(\"failed to open indexedDB \" + JSON.stringify(e));\n      resolve(idbWrapper);\n    };\n  });\n  return resolvedPromise;\n};\n\nvar _cappCacheLogger = require(\"./cappCacheLogger\");\n\nvar _indexedDB = require(\"./indexedDB\");\n\nvar _indexedDB2 = _interopRequireDefault(_indexedDB);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DB_NAME = \"RESOURCE_CACHE\";\nvar STORE_NAME = \"RESOURCES\";\nvar FAILED_TO_OPEN_IDB = exports.FAILED_TO_OPEN_IDB = \"FAILED_TO_OPEN_IDB\";\nvar DB_VERSION = 4;\n\nvar resolvedPromise = null;\n\nvar closeConnection = exports.closeConnection = function closeConnection() {\n  resolvedPromise = null;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pbmRleGVkREJBY2Nlc3MuanMiXSwibmFtZXMiOlsicmVzb2x2ZWRQcm9taXNlIiwiZGJPcGVuRmFpbGVkIiwiaWRiV3JhcHBlciIsIk9iamVjdCIsImNyZWF0ZSIsIl9kYiIsInJlcSIsIm9wZW4iLCJEQl9OQU1FIiwiREJfVkVSU0lPTiIsInN0b3JlIiwidHlwZSIsInRyYW5zYWN0aW9uIiwiU1RPUkVfTkFNRSIsIm9iamVjdFN0b3JlIiwiZ2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJGQUlMRURfVE9fT1BFTl9JREIiLCJyZXF1ZXN0IiwiaWQiLCJvbnN1Y2Nlc3MiLCJldmVudCIsInRhcmdldCIsInJlc3VsdCIsIm9uZXJyb3IiLCJza2lwIiwiZXhpc3RzIiwiY291bnQiLCJlIiwicmVtb3ZlUmVzb3VyY2UiLCJkZWxldGUiLCJwdXQiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJwdXRSZXF1ZXN0IiwicHJ1bmVEYiIsImtub3duSWRzIiwib3BlbkN1cnNvciIsImN1cnNvciIsImluY2x1ZGVzIiwia2V5IiwiY29udGludWUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJkYiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbG9zZUNvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7a0JBVWUsWUFBVztBQUN4QixNQUFJQSxlQUFKLEVBQXFCO0FBQ25CLFdBQU9BLGVBQVA7QUFDRDtBQUNELE1BQUlDLGVBQWUsS0FBbkI7QUFDQSxNQUFNQyxhQUFhQyxPQUFPQyxNQUFQLENBQWMsSUFBZCxDQUFuQjtBQUNBLE1BQUlDLE1BQU0sSUFBVjtBQUNBLE1BQU1DLE1BQU0sb0JBQVVDLElBQVYsQ0FBZUMsT0FBZixFQUF3QkMsVUFBeEIsQ0FBWjs7QUFFQSxNQUFNQyxRQUFRLFNBQVJBLEtBQVEsR0FBd0I7QUFBQSxRQUF2QkMsSUFBdUIsdUVBQWhCLFdBQWdCOztBQUNwQyxRQUFNQyxjQUFj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S0FBS2YsRUFBRU4sTUFBRixDQUFTQyxNQUFwQjtBQUNBb0IsU0FBR0MsaUJBQUgsQ0FBcUJqQyxVQUFyQixFQUFpQyxFQUFFa0MsU0FBUyxJQUFYLEVBQWpDO0FBQ0QsS0FIRDtBQUlBekMsUUFBSW9CLE9BQUosR0FBYyxhQUFLO0FBQ2pCekIscUJBQWUsSUFBZjtBQUNBLGtDQUFNLDhCQUE4QitDLEtBQUtDLFNBQUwsQ0FBZW5CLENBQWYsQ0FBcEM7QUFDQWIsY0FBUWYsVUFBUjtBQUNELEtBSkQ7QUFLRCxHQWRpQixDQUFsQjtBQWVBLFNBQU9GLGVBQVA7QUFDRCxDOztBQTdJRDs7QUFDQTs7Ozs7O0FBRUEsSUFBTVEsVUFBVSxnQkFBaEI7QUFDQSxJQUFNSyxhQUFhLFdBQW5CO0FBQ08sSUFBTU0sa0RBQXFCLG9CQUEzQjtBQUNQLElBQU1WLGFBQWEsQ0FBbkI7O0FBRUEsSUFBSVQsa0JBQWtCLElBQXRCOztBQXVJTyxJQUFNa0QsNENBQWtCLFNBQWxCQSxlQUFrQixHQUFNO0FBQ25DbEQsb0JBQWtCLElBQWxCO0FBQ0QsQ0FGTSIsImZpbGUiOiJpbmRleGVkREJBY2Nlc3MuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZywgZXJyb3IgfSBmcm9tIFwiLi9jYXBwQ2FjaGVMb2dnZXJcIjtcbmltcG9ydCBpbmRleGVkREIgZnJvbSBcIi4vaW5kZXhlZERCXCI7XG5cbmNvbnN0IERCX05BTUUgPSBcIlJFU09VUkNFX0NBQ0hFXCI7XG5jb25zdCBTVE9SRV9OQU1FID0gXCJSRVNPVVJDRVNcIjtcbmV4cG9ydCBjb25zdCBGQUlMRURfVE9fT1BFTl9JREIgPSBcIkZBSUxFRF9UT19PUEVOX0lEQlwiO1xuY29uc3QgREJfVkVSU0lPTiA9IDQ7XG5cbmxldCByZXNvbHZlZFByb21pc2UgPSBudWxsO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgIHJldHVybiByZXNvbHZlZFByb21pc2U7XG4gIH1cbiAgbGV0IGRiT3BlbkZhaWxlZCA9IGZhbHNlO1xuICBjb25zdCBpZGJXcmFwcGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgbGV0IF9kYiA9IG51bGw7XG4gIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pO1xuXG4gIGNvbnN0IHN0b3JlID0gKHR5cGUgPSBcInJlYWR3cml0ZVwiKSA9PiB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBfZGIudHJhbnNhY3Rpb24oW1NUT1JFX05BTUVdLCB0eXBlKTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gIH07XG5cbiAgaWRiV3JhcHBlci5nZXQgPSBpZCA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChkYk9wZW5GYWlsZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChGQUlMRURfVE9fT1BFTl9JREIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlKFwicmVhZG9ubHlcIikuZ2V0KGlkKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nKGByZXNvdXJjZSB3aXRoIGlkICR7aWR9IGlzIG5vdCBpbiB0aGUgY2FjaGVgKTtcbiAgICAgICAgICByZWplY3QobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBldmVudCA9PiB7XG4gICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gIGlkYldyYXBwZXIuc2tpcCA9ICgpID0+IFByb21pc2UucmVqZWN0KCk7XG5cbiAgaWRiV3JhcHBlci5leGlzdHMgPSBpZCA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChkYk9wZW5GYWlsZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChGQUlMRURfVE9fT1BFTl9JREIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlKFwicmVhZG9ubHlcIikuY291bnQoaWQpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBlID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gZS50YXJnZXQucmVzdWx0ID4gMDtcbiAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgIHJlc29sdmUoe30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZXZlbnQgPT4ge1xuICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICBpZGJXcmFwcGVyLnJlbW92ZVJlc291cmNlID0gaWQgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZGJPcGVuRmFpbGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoRkFJTEVEX1RPX09QRU5fSURCKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gc3RvcmUoKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBvYmplY3RTdG9yZS5kZWxldGUoaWQpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGxvZyhgcmVtb3ZlZCByZXNvdXJjZSAke2lkfWApO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgIGVycm9yKGBmYWlsZWQgdG8gcmVtb3ZlIHJlc291cmNlICR7aWR9LiBlcnJvcjogJHtlfWApO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gIGlkYldyYXBwZXIucHV0ID0gKGlkLCB7IGNvbnRlbnQsIGNvbnRlbnRUeXBlIH0pID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKGRiT3BlbkZhaWxlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KEZBSUxFRF9UT19PUEVOX0lEQik7XG4gICAgICB9XG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHN0b3JlKCk7XG4gICAgICBjb25zdCBwdXRSZXF1ZXN0ID0gb2JqZWN0U3RvcmUucHV0KHtcbiAgICAgICAgaWQsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgfSk7XG5cbiAgICAgIHB1dFJlcXVlc3Qub25zdWNjZXNzID0gcmVzb2x2ZTtcbiAgICAgIHB1dFJlcXVlc3Qub25lcnJvciA9IGUgPT4ge1xuICAgICAgICBlcnJvcihgZmFpbGVkIHRvIHNhdmUgaXRlbSB3aXRoIGlkICR7aWR9IGluIGNhY2hlIGR1ZSB0byBlcnJvciAke2V9YCk7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICBpZGJXcmFwcGVyLnBydW5lRGIgPSAoa25vd25JZHMgPSBbXSkgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZGJPcGVuRmFpbGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoRkFJTEVEX1RPX09QRU5fSURCKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gc3RvcmUoKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICBpZiAoIWtub3duSWRzLmluY2x1ZGVzKGN1cnNvci5rZXkpKSB7XG4gICAgICAgICAgICBpZGJXcmFwcGVyLnJlbW92ZVJlc291cmNlKGN1cnNvci5rZXkpO1xuICAgICAgICAgICAgbG9nKGBwcnVuZWQgJHtjdXJzb3Iua2V5fWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgZXJyb3IoYGZhaWxlZCB0byBnZXQgYWxsIGtleXMgd2hpbGUgcHJ1bmluZyBjYWNoZS4gZXJyb3JgKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICByZXNvbHZlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgX2RiID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgcmVzb2x2ZShpZGJXcmFwcGVyKTtcbiAgICB9O1xuICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBlID0+IHtcbiAgICAgIGNvbnN0IGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfTkFNRSwgeyBrZXlQYXRoOiBcImlkXCIgfSk7XG4gICAgfTtcbiAgICByZXEub25lcnJvciA9IGUgPT4ge1xuICAgICAgZGJPcGVuRmFpbGVkID0gdHJ1ZTtcbiAgICAgIGVycm9yKFwiZmFpbGVkIHRvIG9wZW4gaW5kZXhlZERCIFwiICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgICAgcmVzb2x2ZShpZGJXcmFwcGVyKTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZTtcbn1cblxuZXhwb3J0IGNvbnN0IGNsb3NlQ29ubmVjdGlvbiA9ICgpID0+IHtcbiAgcmVzb2x2ZWRQcm9taXNlID0gbnVsbDtcbn07XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/indexedDBAccess.js\n// module id = 1\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isEdgeBrowser = !!(window.navigator && window.navigator.userAgent.indexOf(\"Edge\") > -1);\n\nvar getDataUrl = exports.getDataUrl = function getDataUrl(content) {\n  var contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text/javascript\";\n  var isBase64 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (isEdgeBrowser) {\n    //   edge doesn't properly support data URI, especially for Javascript :(\n    return URL.createObjectURL(new Blob([content], { type: contentType }));\n  }\n  content = content.replace(/#/g, \"%23\").replace(/(\\r\\n|\\n|\\r)/gm, \"%0A\").replace(/</g, \"%3C\").replace(/\\s\\s/g, \" \");\n  return \"data:\" + contentType + (isBase64 ? \";base64\" : \"\") + \",\" + content;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJpc0VkZ2VCcm93c2VyIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImdldERhdGFVcmwiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJpc0Jhc2U2NCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJ0eXBlIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxnQkFBZ0IsQ0FBQyxFQUFFQyxPQUFPQyxTQUFQLElBQW9CRCxPQUFPQyxTQUFQLENBQWlCQyxTQUFqQixDQUEyQkMsT0FBM0IsQ0FBbUMsTUFBbkMsSUFBNkMsQ0FBQyxDQUFwRSxDQUF2Qjs7QUFFTyxJQUFNQyxrQ0FBYSxTQUFiQSxVQUFhLENBQUNDLE9BQUQsRUFBZ0U7QUFBQSxNQUF0REMsV0FBc0QsdUVBQXhDLGlCQUF3QztBQUFBLE1BQXJCQyxRQUFxQix1RUFBVixLQUFVOztBQUN4RixNQUFJUixhQUFKLEVBQW1CO0FBQ25CO0FBQ0UsV0FBT1MsSUFBSUMsZUFBSixDQUFvQixJQUFJQyxJQUFKLENBQVMsQ0FBQ0wsT0FBRCxDQUFULEVBQW9CLEVBQUVNLE1BQU1MLFdBQVIsRUFBcEIsQ0FBcEIsQ0FBUDtBQUNEO0FBQ0RELFlBQVVBLFFBQVFPLE9BQVIsQ0FBZ0IsSUFBaEIsRUFBc0IsS0FBdEIsRUFBNkJBLE9BQTdCLENBQXFDLGdCQUFyQyxFQUF1RCxLQUF2RCxFQUE4REEsT0FBOUQsQ0FBc0UsSUFBdEUsRUFBNEUsS0FBNUUsRUFBbUZBLE9BQW5GLENBQTJGLE9BQTNGLEVBQW9HLEdBQXBHLENBQVY7QUFDQSxtQkFBZU4sV0FBZixJQUE2QkMsV0FBVyxTQUFYLEdBQXVCLEVBQXBELFVBQTBERixPQUExRDtBQUNELENBUE0iLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlzRWRnZUJyb3dzZXIgPSAhISh3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJFZGdlXCIpID4gLTEpO1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YVVybCA9IChjb250ZW50LCBjb250ZW50VHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCIsIGlzQmFzZTY0ID0gZmFsc2UpID0+IHtcbiAgaWYgKGlzRWRnZUJyb3dzZXIpIHtcbiAgLy8gICBlZGdlIGRvZXNuJ3QgcHJvcGVybHkgc3VwcG9ydCBkYXRhIFVSSSwgZXNwZWNpYWxseSBmb3IgSmF2YXNjcmlwdCA6KFxuICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtjb250ZW50XSwgeyB0eXBlOiBjb250ZW50VHlwZSB9KSk7XG4gIH1cbiAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIy9nLCBcIiUyM1wiKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIiUwQVwiKS5yZXBsYWNlKC88L2csIFwiJTNDXCIpLnJlcGxhY2UoL1xcc1xccy9nLCBcIiBcIik7XG4gIHJldHVybiBgZGF0YToke2NvbnRlbnRUeXBlfSR7aXNCYXNlNjQgPyBcIjtiYXNlNjRcIiA6IFwiXCJ9LCR7Y29udGVudH1gO1xufTtcbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 2\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.load = load;\nexports.getLoadedResources = getLoadedResources;\nexports.getResourceUri = getResourceUri;\nexports.revokeResourceUriForUrl = revokeResourceUriForUrl;\nexports.pruneDB = pruneDB;\n\nvar _cappCacheLogger = require(\"./cappCacheLogger\");\n\nvar _indexedDBAccess = require(\"./indexedDBAccess\");\n\nvar _indexedDBAccess2 = _interopRequireDefault(_indexedDBAccess);\n\nvar _tagPropertiesMap = require(\"./tagPropertiesMap\");\n\nvar _tagPropertiesMap2 = _interopRequireDefault(_tagPropertiesMap);\n\nvar _resourceLoader = require(\"./resourceLoader\");\n\nvar _sortResources = require(\"./sortResources\");\n\nvar _onLoadDoneHandling = require(\"./onLoadDoneHandling\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RESOURCES_LOAD_START = \"Resources load start\";\nvar DATA_SRC_ATTR = \"data-cappcache-src\";\n\nvar WAITING = \"waiting\";\nvar LOADED = \"loaded\";\n\n// We use this mock document when loading assets with \"cacheOnly\" property. this keeps code consistent (no \"if cacheOnly... else... ),\n// while avoiding performance hit of adding unnecessary elements to the DOM when we just want to pre-cache the elements\nvar MOCK_DOCUMENT = {\n  createElement: function createElement() {\n    return {\n      appendChild: Function.prototype,\n      setAttribute: Function.prototype\n    };\n  },\n  head: { appendChild: Function.prototype },\n  body: { appendChild: Function.prototype },\n  createTextNode: Function.prototype\n};\nvar loadedResources = [];\n\n/**\n * Loads a list of resources according to the manifest.\n * */\nfunction load(_ref) {\n  var _ref$resources = _ref.resources,\n      resources = _ref$resources === undefined ? [] : _ref$resources,\n      _ref$document = _ref.document,\n      document = _ref$document === undefined ? window.document : _ref$document,\n      _ref$forceLoadFromCac = _ref.forceLoadFromCache,\n      forceLoadFromCache = _ref$forceLoadFromCac === undefined ? false : _ref$forceLoadFromCac,\n      onLoadDone = _ref.onLoadDone,\n      _ref$recacheAfterVers = _ref.recacheAfterVersionChange,\n      recacheAfterVersionChange = _ref$recacheAfterVers === undefined ? false : _ref$recacheAfterVers;\n\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$syncCacheOnly = _ref2.syncCacheOnly,\n      syncCacheOnly = _ref2$syncCacheOnly === undefined ? false : _ref2$syncCacheOnly,\n      _ref2$wasManifestModi = _ref2.wasManifestModified,\n      wasManifestModified = _ref2$wasManifestModi === undefined ? false : _ref2$wasManifestModi,\n      _ref2$overrideDomCont = _ref2.overrideDomContentLoaded,\n      overrideDomContentLoaded = _ref2$overrideDomCont === undefined ? false : _ref2$overrideDomCont,\n      _ref2$forceRecaching = _ref2.forceRecaching,\n      forceRecaching = _ref2$forceRecaching === undefined ? false : _ref2$forceRecaching;\n\n  (0, _cappCacheLogger.perfMark)(RESOURCES_LOAD_START);\n  if (recacheAfterVersionChange === true && wasManifestModified === true) {\n    forceRecaching = true;\n  }\n  var elementAddedToBody = false;\n  return new Promise(function (resolve, reject) {\n    if (resources.length === 0) {\n      return resolve();\n    }\n    (0, _indexedDBAccess2.default)().then(function (db) {\n      (0, _sortResources.sortResources)(resources);\n      var lastErr = undefined;\n\n      var tagsReadyToBeAdded = [];\n      var parsedTagsCount = 0;\n      var allFromCache = true;\n      var resourcesResult = [];\n      resources.forEach(function (resourceManifestObj) {\n        var url = resourceManifestObj.url,\n            _resourceManifestObj$ = resourceManifestObj.type,\n            type = _resourceManifestObj$ === undefined ? \"js\" : _resourceManifestObj$,\n            _resourceManifestObj$2 = resourceManifestObj.target,\n            target = _resourceManifestObj$2 === undefined ? \"head\" : _resourceManifestObj$2,\n            _resourceManifestObj$3 = resourceManifestObj.attributes,\n            attributes = _resourceManifestObj$3 === undefined ? {} : _resourceManifestObj$3,\n            _resourceManifestObj$4 = resourceManifestObj.cacheOnly,\n            cacheOnly = _resourceManifestObj$4 === undefined ? false : _resourceManifestObj$4,\n            isBinary = resourceManifestObj.isBinary,\n            _resourceManifestObj$5 = resourceManifestObj.networkOnly,\n            networkOnly = _resourceManifestObj$5 === undefined ? false : _resourceManifestObj$5;\n\n        if (target === \"body\") elementAddedToBody = true;\n        (0, _cappCacheLogger.perfMark)(\"load start \" + url);\n        var userAttributes = attributes;\n        var staticAttributes = _tagPropertiesMap2.default[type];\n        if (staticAttributes === undefined) {\n          return (0, _cappCacheLogger.error)(\"Unsupported tag \" + type);\n        }\n        if (staticAttributes.defaultToBinary !== undefined) {\n          isBinary = staticAttributes.defaultToBinary;\n        } else {\n          isBinary = false;\n        }\n        var documentTarget = cacheOnly || syncCacheOnly || !staticAttributes.canAddToDom ? MOCK_DOCUMENT : document;\n        var tag = void 0;\n\n        (0, _resourceLoader.loadResource)({\n          indexedDBAccess: db,\n          url: url,\n          immediate: forceLoadFromCache,\n          isBinary: isBinary,\n          cacheOnly: cacheOnly || syncCacheOnly,\n          forceRecaching: forceRecaching,\n          networkOnly: networkOnly\n        }\n        /* resource already cached */\n        ).then(function (_ref3) {\n          var resource = _ref3.resource;\n\n          resourcesResult.push({ url: url, fromCache: true });\n          tag = documentTarget.createElement(staticAttributes.tagName);\n\n          var content = resource.content;\n\n          if (type === \"js\") {\n            var onLoadScript = \"\";\n            if (userAttributes[\"onload\"]) {\n              onLoadScript = \"/*--- capp-cache onload handler---*/\\n\" + userAttributes[\"onload\"];\n            }\n            content = \"//# sourceURL=\" + url + \"\\n\" + content + \"\\n\" + onLoadScript;\n          }\n          staticAttributes.setElementContentFunc({\n            tag: tag,\n            documentTarget: documentTarget,\n            content: content,\n            resourceManifestObj: resourceManifestObj,\n            wasManifestModified: wasManifestModified\n          });\n          tag.setAttribute(\"data-cappcache-src\", url);\n        }\n        /* resource is not in cache */\n        ).catch(function (e) {\n          if (e === null) {\n            //there is no error, the resource is simply not in cache\n            allFromCache = false;\n            resourcesResult.push({ url: url, fromCache: false });\n            var tagType = staticAttributes.tagName;\n            if (staticAttributes.tagNameWhenNotInline !== undefined) {\n              tagType = staticAttributes.tagNameWhenNotInline;\n              staticAttributes.attributes = staticAttributes.attributesWhenNotInline;\n            }\n            tag = documentTarget.createElement(tagType);\n            if (staticAttributes.alwaysCallSetContent) {\n              staticAttributes.setElementContentFunc({ tag: tag, documentTarget: documentTarget, resourceManifestObj: resourceManifestObj });\n            }\n            if (staticAttributes.contentFetchKey) {\n              tag.setAttribute(staticAttributes.contentFetchKey, url);\n            }\n            tag.async = !!userAttributes[\"async\"];\n          } else {\n            (0, _cappCacheLogger.error)(\"error trying to load resource \" + e);\n            return Promise.reject();\n          }\n        }\n        /* Common code for all cases, in cache and not in cache */\n        ).then(function () {\n          Object.keys(staticAttributes.attributes).forEach(function (attribute) {\n            tag.setAttribute(attribute, staticAttributes.attributes[attribute]);\n          });\n          Object.keys(userAttributes).forEach(function (attribute) {\n            if (attribute !== \"async\") {\n              tag.setAttribute(attribute, userAttributes[attribute]);\n            }\n          });\n          loadedResources.push({\n            url: url,\n            domSelector: documentTarget === MOCK_DOCUMENT ? null : staticAttributes.tagName + \"[\" + DATA_SRC_ATTR + \"=\\\"\" + url + \"\\\"]\"\n          });\n          if (!cacheOnly) {\n            var currPos = resourceManifestObj._index;\n            tagsReadyToBeAdded[currPos] = { state: WAITING, domTarget: documentTarget[target], tag: tag, url: url };\n            if (currPos === 0 || staticAttributes.allowLoadingOutOfOrder || userAttributes.async || currPos > 0 && tagsReadyToBeAdded[currPos - 1] !== undefined && tagsReadyToBeAdded[currPos - 1].state === LOADED) {\n              while (tagsReadyToBeAdded[currPos] !== undefined && tagsReadyToBeAdded[currPos].state === WAITING) {\n                var _tagsReadyToBeAdded$c = tagsReadyToBeAdded[currPos],\n                    domTarget = _tagsReadyToBeAdded$c.domTarget,\n                    _tag = _tagsReadyToBeAdded$c.tag,\n                    _url = _tagsReadyToBeAdded$c.url;\n\n                (0, _cappCacheLogger.perfMark)(_url);\n                domTarget.appendChild(_tag);\n                (0, _cappCacheLogger.log)(\"%c added [\" + _url + \"] to the \" + target, \"color: blue\");\n                (0, _cappCacheLogger.perfMarkEnd)(\"add to DOM \" + _url, _url);\n                tagsReadyToBeAdded[currPos].state = LOADED;\n                currPos++;\n              }\n            } else {\n              (0, _cappCacheLogger.log)(\"skipping resource \" + url + \" since the previous resource was not loaded yet\");\n            }\n          }\n        }).catch(function (err) {\n          lastErr = err;\n        }).then(function () {\n          ++parsedTagsCount;\n          if (parsedTagsCount === resources.length) {\n            if (lastErr !== undefined) {\n              (0, _cappCacheLogger.error)(\"Error while loading resources \" + lastErr);\n              reject(lastErr);\n            } else {\n              (0, _onLoadDoneHandling.appendOnLoadScript)({\n                document: document,\n                callback: function callback() {\n                  resolve({ resources: resourcesResult, allFromCache: allFromCache });\n                },\n                overrideDomContentLoaded: overrideDomContentLoaded,\n                onLoadDone: onLoadDone,\n                elementAddedToBody: elementAddedToBody\n              });\n              (0, _cappCacheLogger.perfMarkEnd)(\"RESOURCES LOAD\", RESOURCES_LOAD_START);\n            }\n          }\n        });\n      });\n    });\n  });\n}\nfunction getLoadedResources() {\n  return loadedResources.map(function (i) {\n    return { url: i.url, domSelector: i.domSelector };\n  });\n}\nvar resourceUriHistory = {};\n\nfunction getResourceUri(_ref4) {\n  var url = _ref4.url,\n      _ref4$isBase64Text = _ref4.isBase64Text,\n      isBase64Text = _ref4$isBase64Text === undefined ? false : _ref4$isBase64Text,\n      _ref4$isBinary = _ref4.isBinary,\n      isBinary = _ref4$isBinary === undefined ? true : _ref4$isBinary;\n\n  return new Promise(function (resolve, reject) {\n    if (isBinary && resourceUriHistory[url]) {\n      return resolve(resourceUriHistory[url]);\n    }\n    (0, _indexedDBAccess2.default)().then(function (db) {\n      return (0, _resourceLoader.loadResource)({ indexedDBAccess: db, url: url, immediate: true, isBinary: isBinary });\n    }).then(function (_ref5) {\n      var resource = _ref5.resource;\n      var content = resource.content,\n          contentType = resource.contentType;\n\n      if (isBinary) {\n        return URL.createObjectURL(content);\n      } else {\n        return (0, _utils.getDataUrl)(isBase64Text ? btoa(content) : content, contentType, isBase64Text);\n      }\n    }).then(function (dataUrl) {\n      if (isBinary) {\n        resourceUriHistory[url] = dataUrl;\n      }\n      resolve(dataUrl);\n    }).catch(function (e) {\n      (0, _cappCacheLogger.error)(\"failed to fetch resource \" + e);\n      reject(null);\n    });\n  });\n}\n\nfunction revokeResourceUriForUrl(url) {\n  var resourceUri = resourceUriHistory[url];\n  if (resourceUri) {\n    resourceUriHistory[url] = null;\n    URL.revokeObjectURL(url);\n  }\n}\n\n/**\n * Clears indexedDB from any files on this page which were not loaded in this session by calling the load function.\n * Call this function to remove old obsolete files from the cache.\n */\nfunction pruneDB() {\n  (0, _indexedDBAccess2.default)().then(function (db) {\n    db.pruneDb((0, _resourceLoader.getCachedFiles)());\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9yZXNvdXJjZU1hbmFnZXIuanMiXSwibmFtZXMiOlsibG9hZCIsImdldExvYWRlZFJlc291cmNlcyIsImdldFJlc291cmNlVXJpIiwicmV2b2tlUmVzb3VyY2VVcmlGb3JVcmwiLCJwcnVuZURCIiwiUkVTT1VSQ0VTX0xPQURfU1RBUlQiLCJEQVRBX1NSQ19BVFRSIiwiV0FJVElORyIsIkxPQURFRCIsIk1PQ0tfRE9DVU1FTlQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsInNldEF0dHJpYnV0ZSIsImhlYWQiLCJib2R5IiwiY3JlYXRlVGV4dE5vZGUiLCJsb2FkZWRSZXNvdXJjZXMiLCJyZXNvdXJjZXMiLCJkb2N1bWVudCIsIndpbmRvdyIsImZvcmNlTG9hZEZyb21DYWNoZSIsIm9uTG9hZERvbmUiLCJyZWNhY2hlQWZ0ZXJWZXJzaW9uQ2hhbmdlIiwic3luY0NhY2hlT25seSIsIndhc01hbmlmZXN0TW9kaWZpZWQiLCJvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQiLCJmb3JjZVJlY2FjaGluZyIsImVsZW1lbnRBZGRlZFRvQm9keSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibGVuZ3RoIiwidGhlbiIsImxhc3RFcnIiLCJ1bmRlZmluZWQiLCJ0YWdzUmVhZHlUb0JlQWRkZWQiLCJwYXJzZWRUYWdzQ291bnQiLCJhbGxGcm9tQ2FjaGUiLCJyZXNvdXJjZXNSZXN1bHQiLCJmb3JFYWNoIiwidXJsIiwicmVzb3VyY2VNYW5pZmVzdE9iaiIsInR5cGUiLCJ0YXJnZXQiLCJhdHRyaWJ1dGVzIiwiY2FjaGVPbmx5IiwiaXNCaW5hcnkiLCJuZXR3b3JrT25seSIsInVzZXJBdHRyaWJ1dGVzIiwic3RhdGljQXR0cmlidXRlcyIsImRlZmF1bHRUb0JpbmFyeSIsImRvY3VtZW50VGFyZ2V0IiwiY2FuQWRkVG9Eb20iLCJ0YWciLCJpbmRleGVkREJBY2Nlc3MiLCJkYiIsImltbWVkaWF0ZSIsInJlc291cmNlIiwicHVzaCIsImZyb21DYWNoZSIsInRhZ05hbWUiLCJjb250ZW50Iiwib25Mb2FkU2NyaXB0Iiwic2V0RWxlbWVudENvbnRlbnRGdW5jIiwiY2F0Y2giLCJlIiwidGFnVHlwZSIsInRhZ05hbWVXaGVuTm90SW5saW5lIiwiYXR0cmlidXRlc1doZW5Ob3RJbmxpbmUiLCJhbHdheXNDYWxsU2V0Q29udGVudCIsImNvbnRlbnRGZXRjaEtleSIsImFzeW5jIiwiT2JqZWN0Iiwia2V5cyIsImF0dHJpYnV0ZSIsImRvbVNlbGVjdG9yIiwiY3VyclBvcyIsIl9pbmRleCIsInN0YXRlIiwiZG9tVGFyZ2V0IiwiYWxsb3dMb2FkaW5nT3V0T2ZPcmRlciIsImVyciIsImNhbGxiYWNrIiwibWFwIiwiaSIsInJlc291cmNlVXJpSGlzdG9yeSIsImlzQmFzZTY0VGV4dCIsImNvbnRlbnRUeXBlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYnRvYSIsImRhdGFVcmwiLCJyZXNvdXJjZVVyaSIsInJldm9rZU9iamVjdFVSTCIsInBydW5lRGIiXSwibWFwcGluZ3MiOiI7Ozs7O1FBOEJnQkEsSSxHQUFBQSxJO1FBOEtBQyxrQixHQUFBQSxrQjtRQUtBQyxjLEdBQUFBLGM7UUE4QkFDLHVCLEdBQUFBLHVCO1FBWUFDLE8sR0FBQUEsTzs7QUEzUGhCOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQU1DLHVCQUF1QixzQkFBN0I7QUFDQSxJQUFNQyxnQkFBZ0Isb0JBQXRCOztBQUVBLElBQU1DLFVBQVUsU0FBaEI7QUFDQSxJQUFNQyxTQUFTLFFBQWY7O0FBRUE7QUFDQTtBQUNBLElBQU1DLGdCQUFnQjtBQUNwQkMsaUJBQWU7QUFBQSxXQUFPO0FBQ3BCQyxtQkFBYUMsU0FBU0MsU0FERjtBQUVwQkMsb0JBQWNGLFNBQVNDO0FBRkgsS0FBUDtBQUFBLEdBREs7QUFLcEJFLFFBQU0sRUFBRUosYUFBYUMsU0FBU0MsU0FBeEIsRUFMYztBQU1wQkcsUUFBTSxFQUFFTCxh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QUFULEdBQW1CO0FBQ3hCLG1DQUFrQjhCLElBQWxCLENBQXVCLGNBQU07QUFDM0J1QixPQUFHdUMsT0FBSCxDQUFXLHFDQUFYO0FBQ0QsR0FGRDtBQUdEIiwiZmlsZSI6InJlc291cmNlTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3IsIGxvZywgcGVyZk1hcmssIHBlcmZNYXJrRW5kIH0gZnJvbSBcIi4vY2FwcENhY2hlTG9nZ2VyXCI7XG5pbXBvcnQgaW5kZXhlZERCQWNjZXNzIGZyb20gXCIuL2luZGV4ZWREQkFjY2Vzc1wiO1xuaW1wb3J0IHRhZ1Byb3BlcnRpZXNNYXAgZnJvbSBcIi4vdGFnUHJvcGVydGllc01hcFwiO1xuaW1wb3J0IHsgbG9hZFJlc291cmNlLCBnZXRDYWNoZWRGaWxlcyB9IGZyb20gXCIuL3Jlc291cmNlTG9hZGVyXCI7XG5pbXBvcnQgeyBzb3J0UmVzb3VyY2VzIH0gZnJvbSBcIi4vc29ydFJlc291cmNlc1wiO1xuaW1wb3J0IHsgYXBwZW5kT25Mb2FkU2NyaXB0IH0gZnJvbSBcIi4vb25Mb2FkRG9uZUhhbmRsaW5nXCI7XG5pbXBvcnQgeyBnZXREYXRhVXJsIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgUkVTT1VSQ0VTX0xPQURfU1RBUlQgPSBcIlJlc291cmNlcyBsb2FkIHN0YXJ0XCI7XG5jb25zdCBEQVRBX1NSQ19BVFRSID0gXCJkYXRhLWNhcHBjYWNoZS1zcmNcIjtcblxuY29uc3QgV0FJVElORyA9IFwid2FpdGluZ1wiO1xuY29uc3QgTE9BREVEID0gXCJsb2FkZWRcIjtcblxuLy8gV2UgdXNlIHRoaXMgbW9jayBkb2N1bWVudCB3aGVuIGxvYWRpbmcgYXNzZXRzIHdpdGggXCJjYWNoZU9ubHlcIiBwcm9wZXJ0eS4gdGhpcyBrZWVwcyBjb2RlIGNvbnNpc3RlbnQgKG5vIFwiaWYgY2FjaGVPbmx5Li4uIGVsc2UuLi4gKSxcbi8vIHdoaWxlIGF2b2lkaW5nIHBlcmZvcm1hbmNlIGhpdCBvZiBhZGRpbmcgdW5uZWNlc3NhcnkgZWxlbWVudHMgdG8gdGhlIERPTSB3aGVuIHdlIGp1c3Qgd2FudCB0byBwcmUtY2FjaGUgdGhlIGVsZW1lbnRzXG5jb25zdCBNT0NLX0RPQ1VNRU5UID0ge1xuICBjcmVhdGVFbGVtZW50OiAoKSA9PiAoe1xuICAgIGFwcGVuZENoaWxkOiBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgc2V0QXR0cmlidXRlOiBGdW5jdGlvbi5wcm90b3R5cGUsXG4gIH0pLFxuICBoZWFkOiB7IGFwcGVuZENoaWxkOiBGdW5jdGlvbi5wcm90b3R5cGUgfSxcbiAgYm9keTogeyBhcHBlbmRDaGlsZDogRnVuY3Rpb24ucHJvdG90eXBlIH0sXG4gIGNyZWF0ZVRleHROb2RlOiBGdW5jdGlvbi5wcm90b3R5cGUsXG59O1xuY29uc3QgbG9hZGVkUmVzb3VyY2VzID0gW107XG5cbi8qKlxuICogTG9hZHMgYSBsaXN0IG9mIHJlc291cmNlcyBhY2NvcmRpbmcgdG8gdGhlIG1hbmlmZXN0LlxuICogKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKFxuICB7XG4gICAgcmVzb3VyY2VzID0gW10sXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG4gICAgZm9yY2VMb2FkRnJvbUNhY2hlID0gZmFsc2UsXG4gICAgb25Mb2FkRG9uZSxcbiAgICByZWNhY2hlQWZ0ZXJWZXJzaW9uQ2hhbmdlID0gZmFsc2UsXG4gIH0sXG4gIHsgc3luY0NhY2hlT25seSA9IGZhbHNlLCB3YXNNYW5pZmVzdE1vZGlmaWVkID0gZmFsc2UsIG92ZXJyaWRlRG9tQ29udGVudExvYWRlZCA9IGZhbHNlLCBmb3JjZVJlY2FjaGluZyA9IGZhbHNlIH0gPSB7fVxuKSB7XG4gIHBlcmZNYXJrKFJFU09VUkNFU19MT0FEX1NUQVJUKTtcbiAgaWYgKHJlY2FjaGVBZnRlclZlcnNpb25DaGFuZ2UgPT09IHRydWUgJiYgd2FzTWFuaWZlc3RNb2RpZmllZCA9PT0gdHJ1ZSkge1xuICAgIGZvcmNlUmVjYWNoaW5nID0gdHJ1ZTtcbiAgfVxuICBsZXQgZWxlbWVudEFkZGVkVG9Cb2R5ID0gZmFsc2U7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHJlc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgfVxuICAgIGluZGV4ZWREQkFjY2VzcygpLnRoZW4oZGIgPT4ge1xuICAgICAgc29ydFJlc291cmNlcyhyZXNvdXJjZXMpO1xuICAgICAgbGV0IGxhc3RFcnIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHRhZ3NSZWFkeVRvQmVBZGRlZCA9IFtdO1xuICAgICAgbGV0IHBhcnNlZFRhZ3NDb3VudCA9IDA7XG4gICAgICBsZXQgYWxsRnJvbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJlc291cmNlc1Jlc3VsdCA9IFtdO1xuICAgICAgcmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2VNYW5pZmVzdE9iaiA9PiB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHR5cGUgPSBcImpzXCIsXG4gICAgICAgICAgdGFyZ2V0ID0gXCJoZWFkXCIsXG4gICAgICAgICAgYXR0cmlidXRlcyA9IHt9LFxuICAgICAgICAgIGNhY2hlT25seSA9IGZhbHNlLFxuICAgICAgICAgIGlzQmluYXJ5LFxuICAgICAgICAgIG5ldHdvcmtPbmx5ID0gZmFsc2UsXG4gICAgICAgIH0gPSByZXNvdXJjZU1hbmlmZXN0T2JqO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBcImJvZHlcIikgZWxlbWVudEFkZGVkVG9Cb2R5ID0gdHJ1ZTtcbiAgICAgICAgcGVyZk1hcmsoYGxvYWQgc3RhcnQgJHt1cmx9YCk7XG4gICAgICAgIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgY29uc3Qgc3RhdGljQXR0cmlidXRlcyA9IHRhZ1Byb3BlcnRpZXNNYXBbdHlwZV07XG4gICAgICAgIGlmIChzdGF0aWNBdHRyaWJ1dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3IoYFVuc3VwcG9ydGVkIHRhZyAke3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRpY0F0dHJpYnV0ZXMuZGVmYXVsdFRvQmluYXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpc0JpbmFyeSA9IHN0YXRpY0F0dHJpYnV0ZXMuZGVmYXVsdFRvQmluYXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzQmluYXJ5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9jdW1lbnRUYXJnZXQgPSBjYWNoZU9ubHkgfHwgc3luY0NhY2hlT25seSB8fCAhc3RhdGljQXR0cmlidXRlcy5jYW5BZGRUb0RvbSA/IE1PQ0tfRE9DVU1FTlQgOiBkb2N1bWVudDtcbiAgICAgICAgbGV0IHRhZztcblxuICAgICAgICBsb2FkUmVzb3VyY2Uoe1xuICAgICAgICAgIGluZGV4ZWREQkFjY2VzczogZGIsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIGltbWVkaWF0ZTogZm9yY2VMb2FkRnJvbUNhY2hlLFxuICAgICAgICAgIGlzQmluYXJ5LFxuICAgICAgICAgIGNhY2hlT25seTogY2FjaGVPbmx5IHx8IHN5bmNDYWNoZU9ubHksXG4gICAgICAgICAgZm9yY2VSZWNhY2hpbmcsXG4gICAgICAgICAgbmV0d29ya09ubHksXG4gICAgICAgIH0pXG4gICAgICAgICAgLyogcmVzb3VyY2UgYWxyZWFkeSBjYWNoZWQgKi9cbiAgICAgICAgICAudGhlbigoeyByZXNvdXJjZSB9KSA9PiB7XG4gICAgICAgICAgICByZXNvdXJjZXNSZXN1bHQucHVzaCh7IHVybCwgZnJvbUNhY2hlOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGFnID0gZG9jdW1lbnRUYXJnZXQuY3JlYXRlRWxlbWVudChzdGF0aWNBdHRyaWJ1dGVzLnRhZ05hbWUpO1xuXG4gICAgICAgICAgICBsZXQgeyBjb250ZW50IH0gPSByZXNvdXJjZTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcImpzXCIpIHtcbiAgICAgICAgICAgICAgbGV0IG9uTG9hZFNjcmlwdCA9IFwiXCI7XG4gICAgICAgICAgICAgIGlmICh1c2VyQXR0cmlidXRlc1tcIm9ubG9hZFwiXSkge1xuICAgICAgICAgICAgICAgIG9uTG9hZFNjcmlwdCA9IGAvKi0tLSBjYXBwLWNhY2hlIG9ubG9hZCBoYW5kbGVyLS0tKi9cXG4ke3VzZXJBdHRyaWJ1dGVzW1wib25sb2FkXCJdfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGVudCA9IGAvLyMgc291cmNlVVJMPSR7dXJsfVxcbiR7Y29udGVudH1cXG4ke29uTG9hZFNjcmlwdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljQXR0cmlidXRlcy5zZXRFbGVtZW50Q29udGVudEZ1bmMoe1xuICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgIGRvY3VtZW50VGFyZ2V0LFxuICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICByZXNvdXJjZU1hbmlmZXN0T2JqLFxuICAgICAgICAgICAgICB3YXNNYW5pZmVzdE1vZGlmaWVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKFwiZGF0YS1jYXBwY2FjaGUtc3JjXCIsIHVybCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAvKiByZXNvdXJjZSBpcyBub3QgaW4gY2FjaGUgKi9cbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvL3RoZXJlIGlzIG5vIGVycm9yLCB0aGUgcmVzb3VyY2UgaXMgc2ltcGx5IG5vdCBpbiBjYWNoZVxuICAgICAgICAgICAgICBhbGxGcm9tQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmVzb3VyY2VzUmVzdWx0LnB1c2goeyB1cmwsIGZyb21DYWNoZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgIGxldCB0YWdUeXBlID0gc3RhdGljQXR0cmlidXRlcy50YWdOYW1lO1xuICAgICAgICAgICAgICBpZiAoc3RhdGljQXR0cmlidXRlcy50YWdOYW1lV2hlbk5vdElubGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGFnVHlwZSA9IHN0YXRpY0F0dHJpYnV0ZXMudGFnTmFtZVdoZW5Ob3RJbmxpbmU7XG4gICAgICAgICAgICAgICAgc3RhdGljQXR0cmlidXRlcy5hdHRyaWJ1dGVzID0gc3RhdGljQXR0cmlidXRlcy5hdHRyaWJ1dGVzV2hlbk5vdElubGluZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0YWcgPSBkb2N1bWVudFRhcmdldC5jcmVhdGVFbGVtZW50KHRhZ1R5cGUpO1xuICAgICAgICAgICAgICBpZiAoc3RhdGljQXR0cmlidXRlcy5hbHdheXNDYWxsU2V0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIHN0YXRpY0F0dHJpYnV0ZXMuc2V0RWxlbWVudENvbnRlbnRGdW5jKHsgdGFnLCBkb2N1bWVudFRhcmdldCwgcmVzb3VyY2VNYW5pZmVzdE9iaiB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3RhdGljQXR0cmlidXRlcy5jb250ZW50RmV0Y2hLZXkpIHtcbiAgICAgICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKHN0YXRpY0F0dHJpYnV0ZXMuY29udGVudEZldGNoS2V5LCB1cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRhZy5hc3luYyA9ICEhdXNlckF0dHJpYnV0ZXNbXCJhc3luY1wiXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVycm9yKGBlcnJvciB0cnlpbmcgdG8gbG9hZCByZXNvdXJjZSAke2V9YCk7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLyogQ29tbW9uIGNvZGUgZm9yIGFsbCBjYXNlcywgaW4gY2FjaGUgYW5kIG5vdCBpbiBjYWNoZSAqL1xuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0YXRpY0F0dHJpYnV0ZXMuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgc3RhdGljQXR0cmlidXRlcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh1c2VyQXR0cmlidXRlcykuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlICE9PSBcImFzeW5jXCIpIHtcbiAgICAgICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdXNlckF0dHJpYnV0ZXNbYXR0cmlidXRlXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbG9hZGVkUmVzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIGRvbVNlbGVjdG9yOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50VGFyZ2V0ID09PSBNT0NLX0RPQ1VNRU5UID8gbnVsbCA6IGAke3N0YXRpY0F0dHJpYnV0ZXMudGFnTmFtZX1bJHtEQVRBX1NSQ19BVFRSfT1cIiR7dXJsfVwiXWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY2FjaGVPbmx5KSB7XG4gICAgICAgICAgICAgIGxldCBjdXJyUG9zID0gcmVzb3VyY2VNYW5pZmVzdE9iai5faW5kZXg7XG4gICAgICAgICAgICAgIHRhZ3NSZWFkeVRvQmVBZGRlZFtjdXJyUG9zXSA9IHsgc3RhdGU6IFdBSVRJTkcsIGRvbVRhcmdldDogZG9jdW1lbnRUYXJnZXRbdGFyZ2V0XSwgdGFnLCB1cmwgfTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGN1cnJQb3MgPT09IDAgfHxcbiAgICAgICAgICAgICAgICBzdGF0aWNBdHRyaWJ1dGVzLmFsbG93TG9hZGluZ091dE9mT3JkZXIgfHxcbiAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcy5hc3luYyB8fFxuICAgICAgICAgICAgICAgIChjdXJyUG9zID4gMCAmJlxuICAgICAgICAgICAgICAgICAgdGFnc1JlYWR5VG9CZUFkZGVkW2N1cnJQb3MgLSAxXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICB0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvcyAtIDFdLnN0YXRlID09PSBMT0FERUQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvc10gIT09IHVuZGVmaW5lZCAmJiB0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvc10uc3RhdGUgPT09IFdBSVRJTkcpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9tVGFyZ2V0LCB0YWcsIHVybCB9ID0gdGFnc1JlYWR5VG9CZUFkZGVkW2N1cnJQb3NdO1xuICAgICAgICAgICAgICAgICAgcGVyZk1hcmsodXJsKTtcbiAgICAgICAgICAgICAgICAgIGRvbVRhcmdldC5hcHBlbmRDaGlsZCh0YWcpO1xuICAgICAgICAgICAgICAgICAgbG9nKGAlYyBhZGRlZCBbJHt1cmx9XSB0byB0aGUgJHt0YXJnZXR9YCwgXCJjb2xvcjogYmx1ZVwiKTtcbiAgICAgICAgICAgICAgICAgIHBlcmZNYXJrRW5kKGBhZGQgdG8gRE9NICR7dXJsfWAsIHVybCk7XG4gICAgICAgICAgICAgICAgICB0YWdzUmVhZHlUb0JlQWRkZWRbY3VyclBvc10uc3RhdGUgPSBMT0FERUQ7XG4gICAgICAgICAgICAgICAgICBjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZyhgc2tpcHBpbmcgcmVzb3VyY2UgJHt1cmx9IHNpbmNlIHRoZSBwcmV2aW91cyByZXNvdXJjZSB3YXMgbm90IGxvYWRlZCB5ZXRgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBsYXN0RXJyID0gZXJyO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgKytwYXJzZWRUYWdzQ291bnQ7XG4gICAgICAgICAgICBpZiAocGFyc2VkVGFnc0NvdW50ID09PSByZXNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0RXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihgRXJyb3Igd2hpbGUgbG9hZGluZyByZXNvdXJjZXMgJHtsYXN0RXJyfWApO1xuICAgICAgICAgICAgICAgIHJlamVjdChsYXN0RXJyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRPbkxvYWRTY3JpcHQoe1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgcmVzb3VyY2VzOiByZXNvdXJjZXNSZXN1bHQsIGFsbEZyb21DYWNoZSB9KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQsXG4gICAgICAgICAgICAgICAgICBvbkxvYWREb25lLFxuICAgICAgICAgICAgICAgICAgZWxlbWVudEFkZGVkVG9Cb2R5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBlcmZNYXJrRW5kKFwiUkVTT1VSQ0VTIExPQURcIiwgUkVTT1VSQ0VTX0xPQURfU1RBUlQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZGVkUmVzb3VyY2VzKCkge1xuICByZXR1cm4gbG9hZGVkUmVzb3VyY2VzLm1hcChpID0+ICh7IHVybDogaS51cmwsIGRvbVNlbGVjdG9yOiBpLmRvbVNlbGVjdG9yIH0pKTtcbn1cbmNvbnN0IHJlc291cmNlVXJpSGlzdG9yeSA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb3VyY2VVcmkoeyB1cmwsIGlzQmFzZTY0VGV4dCA9IGZhbHNlLCBpc0JpbmFyeSA9IHRydWUgfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChpc0JpbmFyeSAmJiByZXNvdXJjZVVyaUhpc3RvcnlbdXJsXSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUocmVzb3VyY2VVcmlIaXN0b3J5W3VybF0pO1xuICAgIH1cbiAgICBpbmRleGVkREJBY2Nlc3MoKVxuICAgICAgLnRoZW4oZGIgPT4ge1xuICAgICAgICByZXR1cm4gbG9hZFJlc291cmNlKHsgaW5kZXhlZERCQWNjZXNzOiBkYiwgdXJsLCBpbW1lZGlhdGU6IHRydWUsIGlzQmluYXJ5IH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCh7IHJlc291cmNlIH0pID0+IHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50LCBjb250ZW50VHlwZSB9ID0gcmVzb3VyY2U7XG4gICAgICAgIGlmIChpc0JpbmFyeSkge1xuICAgICAgICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBnZXREYXRhVXJsKGlzQmFzZTY0VGV4dCA/IGJ0b2EoY29udGVudCkgOiBjb250ZW50LCBjb250ZW50VHlwZSwgaXNCYXNlNjRUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKGRhdGFVcmwgPT4ge1xuICAgICAgICBpZiAoaXNCaW5hcnkpIHtcbiAgICAgICAgICByZXNvdXJjZVVyaUhpc3RvcnlbdXJsXSA9IGRhdGFVcmw7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShkYXRhVXJsKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGVycm9yKGBmYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2UgJHtlfWApO1xuICAgICAgICByZWplY3QobnVsbCk7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXZva2VSZXNvdXJjZVVyaUZvclVybCh1cmwpIHtcbiAgY29uc3QgcmVzb3VyY2VVcmkgPSByZXNvdXJjZVVyaUhpc3RvcnlbdXJsXTtcbiAgaWYgKHJlc291cmNlVXJpKSB7XG4gICAgcmVzb3VyY2VVcmlIaXN0b3J5W3VybF0gPSBudWxsO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFycyBpbmRleGVkREIgZnJvbSBhbnkgZmlsZXMgb24gdGhpcyBwYWdlIHdoaWNoIHdlcmUgbm90IGxvYWRlZCBpbiB0aGlzIHNlc3Npb24gYnkgY2FsbGluZyB0aGUgbG9hZCBmdW5jdGlvbi5cbiAqIENhbGwgdGhpcyBmdW5jdGlvbiB0byByZW1vdmUgb2xkIG9ic29sZXRlIGZpbGVzIGZyb20gdGhlIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJ1bmVEQigpIHtcbiAgaW5kZXhlZERCQWNjZXNzKCkudGhlbihkYiA9PiB7XG4gICAgZGIucHJ1bmVEYihnZXRDYWNoZWRGaWxlcygpKTtcbiAgfSk7XG59XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/resourceManager.js\n// module id = 3\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCachedFiles = exports.loadResource = exports.fetchAndSaveInCache = undefined;\n\nvar _cappCacheLogger = require(\"./cappCacheLogger\");\n\nvar _id = require(\"./id\");\n\nvar _network = require(\"./network\");\n\nvar _indexedDBAccess = require(\"./indexedDBAccess\");\n\nvar RESOURCE_FETCH_DELAY = 1000;\nvar cachedFilesInSession = {};\n\nvar fetchAndSaveInCache = exports.fetchAndSaveInCache = function fetchAndSaveInCache(_ref) {\n  var url = _ref.url,\n      indexedDBAccess = _ref.indexedDBAccess,\n      isBinary = _ref.isBinary;\n  return new Promise(function (resolve, reject) {\n    (0, _cappCacheLogger.log)(\"fetching resource \" + url + \" to cache \" + (isBinary ? \"as binary\" : \"\"));\n    (0, _network.fetchResource)(url, isBinary ? \"blob\" : undefined).then(function (result) {\n      (0, _cappCacheLogger.log)(\"successfully fetched resource \" + url + \" to cache\");\n      resolve(result);\n      indexedDBAccess.put((0, _id.id)(url), result);\n    }).catch(function (e) {\n      (0, _cappCacheLogger.error)(\"failed to fetch resource \" + url + \" from the web with error \" + e.status + \": \" + e.statusText);\n      reject(e);\n    });\n  });\n};\n\nvar loadResource = exports.loadResource = function loadResource(_ref2) {\n  var indexedDBAccess = _ref2.indexedDBAccess,\n      url = _ref2.url,\n      _ref2$immediate = _ref2.immediate,\n      immediate = _ref2$immediate === undefined ? false : _ref2$immediate,\n      _ref2$isBinary = _ref2.isBinary,\n      isBinary = _ref2$isBinary === undefined ? false : _ref2$isBinary,\n      _ref2$cacheOnly = _ref2.cacheOnly,\n      cacheOnly = _ref2$cacheOnly === undefined ? false : _ref2$cacheOnly,\n      _ref2$forceRecaching = _ref2.forceRecaching,\n      forceRecaching = _ref2$forceRecaching === undefined ? false : _ref2$forceRecaching,\n      _ref2$networkOnly = _ref2.networkOnly,\n      networkOnly = _ref2$networkOnly === undefined ? false : _ref2$networkOnly;\n\n  (0, _cappCacheLogger.perfMark)(\"loadResource \" + url + \" start\");\n  var fullUrl = (0, _id.id)(url);\n  var method = \"get\";\n  if (forceRecaching) {\n    method = \"skip\";\n  } else if (cacheOnly) {\n    method = \"exists\";\n  }\n  var promise = new Promise(function (resolve, reject) {\n    if (networkOnly) {\n      return reject(null);\n    }\n    indexedDBAccess[method](fullUrl).then(function (resource) {\n      (0, _cappCacheLogger.log)(\"resource \" + fullUrl + \" was in cache\");\n      resolve({ resource: resource, fromCache: true });\n      (0, _cappCacheLogger.perfMarkEnd)(\"loadResource \" + url + (cacheOnly ? \" (cache only)\" : \"\"), \"loadResource \" + url + \" start\");\n    }).catch(function (err) {\n      if (err && err !== _indexedDBAccess.FAILED_TO_OPEN_IDB) {\n        (0, _cappCacheLogger.error)((forceRecaching ? \"re-caching resource\" : \"failed to fetch resource from cache\") + \" \" + fullUrl + \".\" + (err ? \" error\" + err : \"\"));\n        return reject(err);\n      } else {\n        (0, _cappCacheLogger.log)(\"resource \" + fullUrl + \" was not in cache\");\n      }\n      if (immediate) {\n        fetchAndSaveInCache({ url: fullUrl, indexedDBAccess: indexedDBAccess, isBinary: isBinary }).then(function (resource) {\n          return resolve({ resource: resource, fromCache: false });\n        }).catch(function (err) {\n          return reject(err);\n        });\n      } else {\n        window.setTimeout(function () {\n          return fetchAndSaveInCache({ url: fullUrl, indexedDBAccess: indexedDBAccess, isBinary: isBinary }).catch(function (err) {\n            /*do nothing*/\n          });\n        }, RESOURCE_FETCH_DELAY);\n        reject(null);\n      }\n    });\n  });\n  cachedFilesInSession[fullUrl] = true;\n  return promise;\n};\n\nvar getCachedFiles = exports.getCachedFiles = function getCachedFiles() {\n  return Object.keys(cachedFilesInSession);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9yZXNvdXJjZUxvYWRlci5qcyJdLCJuYW1lcyI6WyJSRVNPVVJDRV9GRVRDSF9ERUxBWSIsImNhY2hlZEZpbGVzSW5TZXNzaW9uIiwiZmV0Y2hBbmRTYXZlSW5DYWNoZSIsInVybCIsImluZGV4ZWREQkFjY2VzcyIsImlzQmluYXJ5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1bmRlZmluZWQiLCJ0aGVuIiwicmVzdWx0IiwicHV0IiwiY2F0Y2giLCJlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImxvYWRSZXNvdXJjZSIsImltbWVkaWF0ZSIsImNhY2hlT25seSIsImZvcmNlUmVjYWNoaW5nIiwibmV0d29ya09ubHkiLCJmdWxsVXJsIiwibWV0aG9kIiwicHJvbWlzZSIsInJlc291cmNlIiwiZnJvbUNhY2hlIiwiZXJyIiwid2luZG93Iiwic2V0VGltZW91dCIsImdldENhY2hlZEZpbGVzIiwiT2JqZWN0Iiwia2V5cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLElBQUlBLHVCQUF1QixJQUEzQjtBQUNBLElBQUlDLHVCQUF1QixFQUEzQjs7QUFFTyxJQUFNQyxvREFBc0IsU0FBdEJBLG1CQUFzQjtBQUFBLE1BQUdDLEdBQUgsUUFBR0EsR0FBSDtBQUFBLE1BQVFDLGVBQVIsUUFBUUEsZUFBUjtBQUFBLE1BQXlCQyxRQUF6QixRQUF5QkEsUUFBekI7QUFBQSxTQUNqQyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQy9CLHFEQUF5QkwsR0FBekIsbUJBQXlDRSxXQUFXLFdBQVgsR0FBeUIsRUFBbEU7QUFDQSxnQ0FBY0YsR0FBZCxFQUFtQkUsV0FBVyxNQUFYLEdBQW9CSSxTQUF2QyxFQUNHQyxJQURILENBQ1Esa0JBQVU7QUFDZCxtRUFBcUNQLEdBQXJDO0FBQ0FJLGNBQVFJLE1BQVI7QUFDQVAsc0JBQWdCUSxHQUFoQixDQUFvQixZQUFHVCxHQUFILENBQXBCLEVBQTZCUSxNQUE3QjtBQUNELEtBTEgsRUFNR0UsS0FOSCxDQU1TLGFBQUs7QUFDVixnRUFBa0NWLEdBQWxDLGlDQUFpRVcsRUFBRUMsTUFBbkUsVUFBOEVELEVBQUVFLFVBQWhGO0FBQ0FSLGFBQU9NLENBQVA7QUFDRCxLQVRIO0FBVUQsR0FaRCxDQURpQztBQUFBLENBQTVCOztBQWVBLElBQU1HLHNDQUFlLFNBQWZBLFlBQWUsUUFRdEI7QUFBQSxNQVBKYixlQU9JLFNBUEpBLGVBT0k7QUFBQSxNQU5KRCxHQU1JLFNBTkpBLEdBTUk7QUFBQSw4QkFMSmUsU0FLSTtBQUFBLE1BTEpBLFNBS0ksbUNBTFEsS0FLUjtBQUFBLDZCQUpKYixRQUlJO0FBQUEsTUFKSkEsUUFJSSxrQ0FKTyxLQUlQO0FBQUEsOEJBSEpjLFNBR0k7QUFBQSxNQUhKQSxTQUdJLG1DQUhRLEtBR1I7QUFBQSxtQ0FGSkMsY0FFSTtBQUFBLE1BRkpBLGNBRUksd0NBRmEsS0FFYjtBQUFBLGdDQURKQyxXQUNJO0FBQUEsTUFESkEsV0FDSSxxQ0FEVSxLQUNWOztBQUNKLG1EQUF5QmxCLEdBQXpCO0FBQ0EsTUFBTW1CLFVBQVUsWUFBR25CLEdBQUgsQ0FBaEI7QUFDQSxNQUFJb0IsU0FBUyxLQUFiO0FBQ0EsTUFBSUgsY0FBSixFQUFvQjtBQUNsQkcsYUFBUyxNQUFUO0FBQ0QsR0FGRCxNQUVPLElBQUlKLFNBQUosRUFBZTtBQUNwQkksYUFBUyxRQUFUO0FBQ0Q7QUFDRCxNQUFNQyxVQUFVLElBQUlsQixPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQy9DLFFBQUlhLFdBQUosRUFBaUI7QUFDZixhQUFPYixPQUFPLElBQVAsQ0FBUDtBQUNEO0FBQ0RKLG9CQUNHbUIsTUFESCxFQUNXRCxPQURYLEVBRUdaLElBRkgsQ0FFUSxvQkFBWTtBQUNoQiw4Q0FBZ0JZLE9BQWhCO0FBQ0FmLGNBQVEsRUFBRWtCLGtCQUFGLEVBQVlDLFdBQVcsSUFBdkIsRUFBUjtBQUNBLDBEQUE0QnZCLEdBQTVCLElBQWtDZ0IsWUFBWSxlQUFaLEdBQThCLEVBQWhFLHFCQUFzRmhCLEdBQXRGO0FBQ0QsS0FOSCxFQU9HVSxLQVBILENBT1MsZUFBTztBQUNaLFVBQUljLE9BQU9BLDJDQUFYLEVBQXVDO0FBQ3JDLHFDQUNLUCxpQkFBaUIscUJBQWpCLEdBQXlDLHFDQUQ5QyxVQUN1RkUsT0FEdkYsVUFDa0dLLE1BQzVGLFdBQVdBLEdBRGlGLEdBRTVGLEVBSE47QUFLQSxlQUFPbkIsT0FBT21CLEdBQVAsQ0FBUDtBQUNELE9BUEQsTUFPTztBQUNMLGdEQUFnQkwsT0FBaEI7QUFDRDtBQUNELFVBQUlKLFNBQUosRUFBZTtBQUNiaEIsNEJBQW9CLEVBQUVDLEtBQUttQixPQUFQLEVBQWdCbEIsZ0NBQWhCLEVBQWlDQyxrQkFBakMsRUFBcEIsRUFDR0ssSUFESCxDQUNRO0FBQUEsaUJBQVlILFFBQVEsRUFBRWtCLGtCQUFGLEVBQVlDLFdBQVcsS0FBdkIsRUFBUixDQUFaO0FBQUEsU0FEUixFQUVHYixLQUZILENBRVM7QUFBQSxpQkFBT0wsT0FBT21CLEdBQVAsQ0FBUDtBQUFBLFNBRlQ7QUFHRCxPQUpELE1BSU87QUFDTEMsZUFBT0MsVUFBUCxDQUNFO0FBQUEsaUJBQ0UzQixvQkFBb0IsRUFBRUMsS0FBS21CLE9BQVAsRUFBZ0JsQixnQ0FBaEIsRUFBaUNDLGtCQUFqQyxFQUFwQixFQUFpRVEsS0FBakUsQ0FBdUUsZUFBTztBQUM1RTtBQUNELFdBRkQsQ0FERjtBQUFBLFNBREYsRUFLRWIsb0JBTEY7QUFPQVEsZUFBTyxJQUFQO0FBQ0Q7QUFDRixLQWhDSDtBQWlDRCxHQXJDZSxDQUFoQjtBQXNDQVAsdUJBQXFCcUIsT0FBckIsSUFBZ0MsSUFBaEM7QUFDQSxTQUFPRSxPQUFQO0FBQ0QsQ0F6RE07O0FBMkRBLElBQU1NLDBDQUFpQixTQUFqQkEsY0FBaUI7QUFBQSxTQUFNQyxPQUFPQyxJQUFQLENBQVkvQixvQkFBWixDQUFOO0FBQUEsQ0FBdkIiLCJmaWxlIjoicmVzb3VyY2VMb2FkZXIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZywgZXJyb3IsIHBlcmZNYXJrLCBwZXJmTWFya0VuZCB9IGZyb20gXCIuL2NhcHBDYWNoZUxvZ2dlclwiO1xuaW1wb3J0IHsgaWQgfSBmcm9tIFwiLi9pZFwiO1xuaW1wb3J0IHsgZmV0Y2hSZXNvdXJjZSB9IGZyb20gXCIuL25ldHdvcmtcIjtcbmltcG9ydCB7IEZBSUxFRF9UT19PUEVOX0lEQiB9IGZyb20gXCIuL2luZGV4ZWREQkFjY2Vzc1wiO1xuXG5sZXQgUkVTT1VSQ0VfRkVUQ0hfREVMQVkgPSAxMDAwO1xubGV0IGNhY2hlZEZpbGVzSW5TZXNzaW9uID0ge307XG5cbmV4cG9ydCBjb25zdCBmZXRjaEFuZFNhdmVJbkNhY2hlID0gKHsgdXJsLCBpbmRleGVkREJBY2Nlc3MsIGlzQmluYXJ5IH0pID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsb2coYGZldGNoaW5nIHJlc291cmNlICR7dXJsfSB0byBjYWNoZSAke2lzQmluYXJ5ID8gXCJhcyBiaW5hcnlcIiA6IFwiXCJ9YCk7XG4gICAgZmV0Y2hSZXNvdXJjZSh1cmwsIGlzQmluYXJ5ID8gXCJibG9iXCIgOiB1bmRlZmluZWQpXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBsb2coYHN1Y2Nlc3NmdWxseSBmZXRjaGVkIHJlc291cmNlICR7dXJsfSB0byBjYWNoZWApO1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIGluZGV4ZWREQkFjY2Vzcy5wdXQoaWQodXJsKSwgcmVzdWx0KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGVycm9yKGBmYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2UgJHt1cmx9IGZyb20gdGhlIHdlYiB3aXRoIGVycm9yICR7ZS5zdGF0dXN9OiAke2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gIH0pO1xuXG5leHBvcnQgY29uc3QgbG9hZFJlc291cmNlID0gKHtcbiAgaW5kZXhlZERCQWNjZXNzLFxuICB1cmwsXG4gIGltbWVkaWF0ZSA9IGZhbHNlLFxuICBpc0JpbmFyeSA9IGZhbHNlLFxuICBjYWNoZU9ubHkgPSBmYWxzZSxcbiAgZm9yY2VSZWNhY2hpbmcgPSBmYWxzZSxcbiAgbmV0d29ya09ubHkgPSBmYWxzZSxcbn0pID0+IHtcbiAgcGVyZk1hcmsoYGxvYWRSZXNvdXJjZSAke3VybH0gc3RhcnRgKTtcbiAgY29uc3QgZnVsbFVybCA9IGlkKHVybCk7XG4gIGxldCBtZXRob2QgPSBcImdldFwiO1xuICBpZiAoZm9yY2VSZWNhY2hpbmcpIHtcbiAgICBtZXRob2QgPSBcInNraXBcIjtcbiAgfSBlbHNlIGlmIChjYWNoZU9ubHkpIHtcbiAgICBtZXRob2QgPSBcImV4aXN0c1wiO1xuICB9XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKG5ldHdvcmtPbmx5KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG51bGwpO1xuICAgIH1cbiAgICBpbmRleGVkREJBY2Nlc3NcbiAgICAgIFttZXRob2RdKGZ1bGxVcmwpXG4gICAgICAudGhlbihyZXNvdXJjZSA9PiB7XG4gICAgICAgIGxvZyhgcmVzb3VyY2UgJHtmdWxsVXJsfSB3YXMgaW4gY2FjaGVgKTtcbiAgICAgICAgcmVzb2x2ZSh7IHJlc291cmNlLCBmcm9tQ2FjaGU6IHRydWUgfSk7XG4gICAgICAgIHBlcmZNYXJrRW5kKGBsb2FkUmVzb3VyY2UgJHt1cmx9JHtjYWNoZU9ubHkgPyBcIiAoY2FjaGUgb25seSlcIiA6IFwiXCJ9YCwgYGxvYWRSZXNvdXJjZSAke3VybH0gc3RhcnRgKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGVyciAmJiBlcnIgIT09IEZBSUxFRF9UT19PUEVOX0lEQikge1xuICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgYCR7Zm9yY2VSZWNhY2hpbmcgPyBcInJlLWNhY2hpbmcgcmVzb3VyY2VcIiA6IFwiZmFpbGVkIHRvIGZldGNoIHJlc291cmNlIGZyb20gY2FjaGVcIn0gJHtmdWxsVXJsfS4ke2VyclxuICAgICAgICAgICAgICA/IFwiIGVycm9yXCIgKyBlcnJcbiAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2coYHJlc291cmNlICR7ZnVsbFVybH0gd2FzIG5vdCBpbiBjYWNoZWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICBmZXRjaEFuZFNhdmVJbkNhY2hlKHsgdXJsOiBmdWxsVXJsLCBpbmRleGVkREJBY2Nlc3MsIGlzQmluYXJ5IH0pXG4gICAgICAgICAgICAudGhlbihyZXNvdXJjZSA9PiByZXNvbHZlKHsgcmVzb3VyY2UsIGZyb21DYWNoZTogZmFsc2UgfSkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgIGZldGNoQW5kU2F2ZUluQ2FjaGUoeyB1cmw6IGZ1bGxVcmwsIGluZGV4ZWREQkFjY2VzcywgaXNCaW5hcnkgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAvKmRvIG5vdGhpbmcqL1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIFJFU09VUkNFX0ZFVENIX0RFTEFZXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWplY3QobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9KTtcbiAgY2FjaGVkRmlsZXNJblNlc3Npb25bZnVsbFVybF0gPSB0cnVlO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDYWNoZWRGaWxlcyA9ICgpID0+IE9iamVjdC5rZXlzKGNhY2hlZEZpbGVzSW5TZXNzaW9uKTtcbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/resourceLoader.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar polyfillId = function polyfillId(url) {\n  var link = document.createElement(\"a\");\n  link.href = url;\n  return link.protocol + \"//\" + link.host + link.pathname + link.search;\n};\n\nvar id = exports.id = function id(url) {\n  if (window.URL) {\n    var _ref = new URL(url, window.location.href),\n        href = _ref.href;\n\n    return href;\n  } else {\n    return polyfillId(url);\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pZC5qcyJdLCJuYW1lcyI6WyJwb2x5ZmlsbElkIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJ1cmwiLCJwcm90b2NvbCIsImhvc3QiLCJwYXRobmFtZSIsInNlYXJjaCIsImlkIiwid2luZG93IiwiVVJMIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSxTQUFiQSxVQUFhLE1BQU87QUFDeEIsTUFBTUMsT0FBT0MsU0FBU0MsYUFBVCxDQUF1QixHQUF2QixDQUFiO0FBQ0FGLE9BQUtHLElBQUwsR0FBWUMsR0FBWjtBQUNBLFNBQU9KLEtBQUtLLFFBQUwsR0FBZ0IsSUFBaEIsR0FBdUJMLEtBQUtNLElBQTVCLEdBQW1DTixLQUFLTyxRQUF4QyxHQUFtRFAsS0FBS1EsTUFBL0Q7QUFDRCxDQUpEOztBQU1PLElBQU1DLGtCQUFLLFNBQUxBLEVBQUssTUFBTztBQUN2QixNQUFJQyxPQUFPQyxHQUFYLEVBQWdCO0FBQUEsZUFDRyxJQUFJQSxHQUFKLENBQVFQLEdBQVIsRUFBYU0sT0FBT0UsUUFBUCxDQUFnQlQsSUFBN0IsQ0FESDtBQUFBLFFBQ05BLElBRE0sUUFDTkEsSUFETTs7QUFFZCxXQUFPQSxJQUFQO0FBQ0QsR0FIRCxNQUdPO0FBQ0wsV0FBT0osV0FBV0ssR0FBWCxDQUFQO0FBQ0Q7QUFDRixDQVBNIiwiZmlsZSI6ImlkLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwb2x5ZmlsbElkID0gdXJsID0+IHtcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICBsaW5rLmhyZWYgPSB1cmw7XG4gIHJldHVybiBsaW5rLnByb3RvY29sICsgXCIvL1wiICsgbGluay5ob3N0ICsgbGluay5wYXRobmFtZSArIGxpbmsuc2VhcmNoO1xufTtcblxuZXhwb3J0IGNvbnN0IGlkID0gdXJsID0+IHtcbiAgaWYgKHdpbmRvdy5VUkwpIHtcbiAgICBjb25zdCB7IGhyZWYgfSA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgcmV0dXJuIGhyZWY7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBvbHlmaWxsSWQodXJsKTtcbiAgfVxufTtcbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/id.js\n// module id = 5\n// module chunks = 0","\"use strict\";\n\nvar _cappCacheLogger = require(\"./src/cappCacheLogger\");\n\nvar _resourceManager = require(\"./src/resourceManager\");\n\nvar _eventBus = require(\"./src/eventBus\");\n\nvar _manifestManager = require(\"./src/manifestManager\");\n\nvar _manifestManager2 = _interopRequireDefault(_manifestManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function init() {\n  if (window.location.search.indexOf(\"debug-cp\") > 0) {\n    (0, _cappCacheLogger.setLogLevel)(_cappCacheLogger.LOG_LEVELS.log);\n  }\n  var dataset = document.getElementsByTagName(\"html\")[0].dataset;\n  var overrideDomContentLoaded = dataset.ccOverrideDomcontentloaded === \"true\";\n  if (overrideDomContentLoaded) {\n    var listener = function listener(e) {\n      e.stopImmediatePropagation();\n      e.preventDefault();\n      e.stopPropagation();\n      document.removeEventListener(\"DOMContentLoaded\", listener, true);\n    };\n    document.addEventListener(\"DOMContentLoaded\", listener, true);\n  }\n  var manifestUrl = dataset.ccManifest;\n  if (manifestUrl !== undefined) {\n    _manifestManager2.default.fetchManifest(manifestUrl, { overrideDomContentLoaded: overrideDomContentLoaded }).then(function (_ref) {\n      var manifest = _ref.manifest,\n          wasModified = _ref.wasModified;\n\n      if (wasModified) {\n        (0, _resourceManager.load)(manifest, { syncCacheOnly: true, wasManifestModified: true }).then(function () {\n          (0, _eventBus.trigger)(\"manifestUpdated\");\n        }).catch(function (err) {\n          return (0, _cappCacheLogger.error)(\"failed to load manifest to cache after change \" + err);\n        });\n      }\n    }).catch(function (err) {\n      (0, _cappCacheLogger.error)(\"error while fetching manifest \" + err);\n    });\n  } else {\n    (0, _cappCacheLogger.error)(\"Unable to find attribute \\\"data-cc-manifest\\\" on the HTML tag, CappCache will not work\");\n  }\n  window.cappCache = {\n    version: \"0.1.33\", //this is a placeholder for the version field, it is replaced by Webpack in build time\n    loadResources: _resourceManager.load,\n    getResourceUri: _resourceManager.getResourceUri,\n    revokeResourceUriForUrl: _resourceManager.revokeResourceUriForUrl,\n    pruneDB: _resourceManager.pruneDB,\n    on: _eventBus.on,\n    getLoadedResources: _resourceManager.getLoadedResources,\n    setLogLevel: _cappCacheLogger.setLogLevel,\n    LOG_LEVELS: _cappCacheLogger.LOG_LEVELS\n  };\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImluZGV4T2YiLCJsb2ciLCJkYXRhc2V0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm92ZXJyaWRlRG9tQ29udGVudExvYWRlZCIsImNjT3ZlcnJpZGVEb21jb250ZW50bG9hZGVkIiwibGlzdGVuZXIiLCJlIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1hbmlmZXN0VXJsIiwiY2NNYW5pZmVzdCIsInVuZGVmaW5lZCIsImZldGNoTWFuaWZlc3QiLCJ0aGVuIiwibWFuaWZlc3QiLCJ3YXNNb2RpZmllZCIsInN5bmNDYWNoZU9ubHkiLCJ3YXNNYW5pZmVzdE1vZGlmaWVkIiwiY2F0Y2giLCJlcnIiLCJjYXBwQ2FjaGUiLCJsb2FkUmVzb3VyY2VzIiwiZ2V0UmVzb3VyY2VVcmkiLCJyZXZva2VSZXNvdXJjZVVyaUZvclVybCIsInBydW5lREIiLCJvbiIsImdldExvYWRlZFJlc291cmNlcyIsInNldExvZ0xldmVsIiwiTE9HX0xFVkVMUyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsQ0FBQyxTQUFTQSxJQUFULEdBQWdCO0FBQ2YsTUFBSUMsT0FBT0MsUUFBUCxDQUFnQkMsTUFBaEIsQ0FBdUJDLE9BQXZCLENBQStCLFVBQS9CLElBQTZDLENBQWpELEVBQW9EO0FBQ2xELHNDQUFZLDRCQUFXQyxHQUF2QjtBQUNEO0FBQ0QsTUFBTUMsVUFBVUMsU0FBU0Msb0JBQVQsQ0FBOEIsTUFBOUIsRUFBc0MsQ0FBdEMsRUFBeUNGLE9BQXpEO0FBQ0EsTUFBTUcsMkJBQTJCSCxRQUFRSSwwQkFBUixLQUF1QyxNQUF4RTtBQUNBLE1BQUlELHdCQUFKLEVBQThCO0FBQzVCLFFBQU1FLFdBQVcsU0FBWEEsUUFBVyxJQUFLO0FBQ3BCQyxRQUFFQyx3QkFBRjtBQUNBRCxRQUFFRSxjQUFGO0FBQ0FGLFFBQUVHLGVBQUY7QUFDQVIsZUFBU1MsbUJBQVQsQ0FBNkIsa0JBQTdCLEVBQWlETCxRQUFqRCxFQUEyRCxJQUEzRDtBQUNELEtBTEQ7QUFNQUosYUFBU1UsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDTixRQUE5QyxFQUF3RCxJQUF4RDtBQUNEO0FBQ0QsTUFBTU8sY0FBY1osUUFBUWEsVUFBNUI7QUFDQSxNQUFJRCxnQkFBZ0JFLFNBQXBCLEVBQStCO0FBQzdCLDhCQUNHQyxhQURILENBQ2lCSCxXQURqQixFQUM4QixFQUFFVCwwQkFBMEJBLHdCQUE1QixFQUQ5QixFQUVHYSxJQUZILENBRVEsZ0JBQStCO0FBQUEsVUFBNUJDLFFBQTRCLFFBQTVCQSxRQUE0QjtBQUFBLFVBQWxCQyxXQUFrQixRQUFsQkEsV0FBa0I7O0FBQ25DLFVBQUlBLFdBQUosRUFBaUI7QUFDZixtQ0FBS0QsUUFBTCxFQUFlLEVBQUVFLGVBQWUsSUFBakIsRUFBdUJDLHFCQUFxQixJQUE1QyxFQUFmLEVBQ0dKLElBREgsQ0FDUSxZQUFNO0FBQ1YsaUNBQVEsaUJBQVI7QUFDRCxTQUhILEVBSUdLLEtBSkgsQ0FJUztBQUFBLGlCQUFPLCtFQUF1REMsR0FBdkQsQ0FBUDtBQUFBLFNBSlQ7QUFLRDtBQUNGLEtBVkgsRUFXR0QsS0FYSCxDQVdTLGVBQU87QUFDWixxRUFBdUNDLEdBQXZDO0FBQ0QsS0FiSDtBQWNELEdBZkQsTUFlTztBQUNMO0FBQ0Q7QUFDRDNCLFNBQU80QixTQUFQLEdBQW1CO0FBQ2pCLDJCQURpQixDQUNPO0FBQ3hCQyx3Q0FGaUI7QUFHakJDLG1EQUhpQjtBQUlqQkMscUVBSmlCO0FBS2pCQyxxQ0FMaUI7QUFNakJDLG9CQU5pQjtBQU9qQkMsMkRBUGlCO0FBUWpCQyw2Q0FSaUI7QUFTakJDO0FBVGlCLEdBQW5CO0FBV0QsQ0E3Q0QiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExPR19MRVZFTFMsIHNldExvZ0xldmVsLCBlcnJvciB9IGZyb20gXCIuL3NyYy9jYXBwQ2FjaGVMb2dnZXJcIjtcbmltcG9ydCB7IGxvYWQsIHBydW5lREIsIGdldFJlc291cmNlVXJpLCByZXZva2VSZXNvdXJjZVVyaUZvclVybCwgZ2V0TG9hZGVkUmVzb3VyY2VzIH0gZnJvbSBcIi4vc3JjL3Jlc291cmNlTWFuYWdlclwiO1xuaW1wb3J0IHsgb24sIHRyaWdnZXIgfSBmcm9tIFwiLi9zcmMvZXZlbnRCdXNcIjtcbmltcG9ydCBtYW5pZmVzdE1hbmFnZXIgZnJvbSBcIi4vc3JjL21hbmlmZXN0TWFuYWdlclwiO1xuXG4oZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5kZXhPZihcImRlYnVnLWNwXCIpID4gMCkge1xuICAgIHNldExvZ0xldmVsKExPR19MRVZFTFMubG9nKTtcbiAgfVxuICBjb25zdCBkYXRhc2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJodG1sXCIpWzBdLmRhdGFzZXQ7XG4gIGNvbnN0IG92ZXJyaWRlRG9tQ29udGVudExvYWRlZCA9IGRhdGFzZXQuY2NPdmVycmlkZURvbWNvbnRlbnRsb2FkZWQgPT09IFwidHJ1ZVwiO1xuICBpZiAob3ZlcnJpZGVEb21Db250ZW50TG9hZGVkKSB7XG4gICAgY29uc3QgbGlzdGVuZXIgPSBlID0+IHtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbGlzdGVuZXIsIHRydWUpO1xuICB9XG4gIGNvbnN0IG1hbmlmZXN0VXJsID0gZGF0YXNldC5jY01hbmlmZXN0O1xuICBpZiAobWFuaWZlc3RVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgIG1hbmlmZXN0TWFuYWdlclxuICAgICAgLmZldGNoTWFuaWZlc3QobWFuaWZlc3RVcmwsIHsgb3ZlcnJpZGVEb21Db250ZW50TG9hZGVkOiBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgfSlcbiAgICAgIC50aGVuKCh7IG1hbmlmZXN0LCB3YXNNb2RpZmllZCB9KSA9PiB7XG4gICAgICAgIGlmICh3YXNNb2RpZmllZCkge1xuICAgICAgICAgIGxvYWQobWFuaWZlc3QsIHsgc3luY0NhY2hlT25seTogdHJ1ZSwgd2FzTWFuaWZlc3RNb2RpZmllZDogdHJ1ZSB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0cmlnZ2VyKFwibWFuaWZlc3RVcGRhdGVkXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gZXJyb3IoYGZhaWxlZCB0byBsb2FkIG1hbmlmZXN0IHRvIGNhY2hlIGFmdGVyIGNoYW5nZSAke2Vycn1gKSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgZXJyb3IoYGVycm9yIHdoaWxlIGZldGNoaW5nIG1hbmlmZXN0ICR7ZXJyfWApO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZXJyb3IoYFVuYWJsZSB0byBmaW5kIGF0dHJpYnV0ZSBcImRhdGEtY2MtbWFuaWZlc3RcIiBvbiB0aGUgSFRNTCB0YWcsIENhcHBDYWNoZSB3aWxsIG5vdCB3b3JrYCk7XG4gIH1cbiAgd2luZG93LmNhcHBDYWNoZSA9IHtcbiAgICAvKnZlcnNpb24tcGxhY2Vob2xkZXIqLyAvL3RoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIHZlcnNpb24gZmllbGQsIGl0IGlzIHJlcGxhY2VkIGJ5IFdlYnBhY2sgaW4gYnVpbGQgdGltZVxuICAgIGxvYWRSZXNvdXJjZXM6IGxvYWQsXG4gICAgZ2V0UmVzb3VyY2VVcmksXG4gICAgcmV2b2tlUmVzb3VyY2VVcmlGb3JVcmwsXG4gICAgcHJ1bmVEQixcbiAgICBvbixcbiAgICBnZXRMb2FkZWRSZXNvdXJjZXMsXG4gICAgc2V0TG9nTGV2ZWwsXG4gICAgTE9HX0xFVkVMUyxcbiAgfTtcbn0pKCk7XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = window.indexedDB || {\n  open: function open() {\n    var req = {};\n    setTimeout(function () {\n      return req.onerror(\"No indexedDB on window. This is a known Edge/IE bug, see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/9968399 \");\n    });\n    return req;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pbmRleGVkREIuanMiXSwibmFtZXMiOlsid2luZG93IiwiaW5kZXhlZERCIiwib3BlbiIsInJlcSIsInNldFRpbWVvdXQiLCJvbmVycm9yIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFBZUEsT0FBT0MsU0FBUCxJQUFvQjtBQUNqQ0MsUUFBTSxnQkFBTTtBQUNWLFFBQU1DLE1BQU0sRUFBWjtBQUNBQyxlQUFXO0FBQUEsYUFDVEQsSUFBSUUsT0FBSixDQUNFLHdJQURGLENBRFM7QUFBQSxLQUFYO0FBS0EsV0FBT0YsR0FBUDtBQUNEO0FBVGdDLEMiLCJmaWxlIjoiaW5kZXhlZERCLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB3aW5kb3cuaW5kZXhlZERCIHx8IHtcbiAgb3BlbjogKCkgPT4ge1xuICAgIGNvbnN0IHJlcSA9IHt9O1xuICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgIHJlcS5vbmVycm9yKFxuICAgICAgICBcIk5vIGluZGV4ZWREQiBvbiB3aW5kb3cuIFRoaXMgaXMgYSBrbm93biBFZGdlL0lFIGJ1Zywgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzk5NjgzOTkgXCJcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiByZXE7XG4gIH0sXG59O1xuIl19\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/indexedDB.js\n// module id = 7\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require(\"./utils\");\n\nexports.default = {\n  js: {\n    tagName: \"script\",\n    contentFetchKey: \"src\",\n    attributes: {\n      type: \"text/javascript\"\n    },\n    setElementContentFunc: function setElementContentFunc(_ref) {\n      var tag = _ref.tag,\n          documentTarget = _ref.documentTarget,\n          content = _ref.content,\n          wasManifestModified = _ref.wasManifestModified;\n\n      if (wasManifestModified) {\n        tag.setAttribute(\"src\", (0, _utils.getDataUrl)(content)); //if some of the files have changed, adding some script as inline scripts and some with src=\"\" doesn't maintain the order of loading\n      } else {\n        tag.appendChild(documentTarget.createTextNode(content));\n      }\n    },\n\n    canAddToDom: true\n  },\n  css: {\n    tagName: \"style\",\n    contentFetchKey: \"href\",\n    attributes: {\n      type: \"text/css\"\n    },\n    tagNameWhenNotInline: \"link\",\n    attributesWhenNotInline: {\n      rel: \"stylesheet\"\n    },\n    setElementContentFunc: function setElementContentFunc(_ref2) {\n      var tag = _ref2.tag,\n          content = _ref2.content;\n\n      tag.innerHTML = content;\n    },\n\n    canAddToDom: true\n  },\n  blob: {\n    canAddToDom: false,\n    attributes: {}\n  },\n  link: {\n    tagName: \"link\",\n    contentFetchKey: \"href\",\n    canAddToDom: true,\n    setElementContentFunc: function setElementContentFunc(_ref3) {\n      var tag = _ref3.tag,\n          content = _ref3.content;\n\n      tag.href = URL.createObjectURL(content);\n    },\n\n    attributes: {},\n    defaultToBinary: true,\n    allowLoadingOutOfOrder: true\n  },\n  fontface: {\n    tagName: \"style\",\n    attributes: {\n      type: \"text/css\"\n    },\n    allowLoadingOutOfOrder: true,\n    defaultToBinary: true,\n    setElementContentFunc: function setElementContentFunc(_ref4) {\n      var tag = _ref4.tag,\n          content = _ref4.content,\n          resourceManifestObj = _ref4.resourceManifestObj;\n      var fontAttributes = resourceManifestObj.fontAttributes,\n          _resourceManifestObj$ = resourceManifestObj.localFontFamily,\n          localFontFamily = _resourceManifestObj$ === undefined ? null : _resourceManifestObj$,\n          originalUrl = resourceManifestObj.url,\n          format = resourceManifestObj.format,\n          _resourceManifestObj$2 = resourceManifestObj.fallbackUrls,\n          fallbackUrls = _resourceManifestObj$2 === undefined ? null : _resourceManifestObj$2;\n\n      var attributesString = \"\";\n      Object.keys(fontAttributes).forEach(function (attribute) {\n        attributesString += \"\\n  \" + attribute + \": \" + fontAttributes[attribute] + \";\";\n      });\n      var srcString = \"src: \";\n      if (localFontFamily) {\n        srcString = localFontFamily.reduce(function (str, url) {\n          return str + \"local('\" + url + \"'), \";\n        }, srcString);\n      }\n      var actualUrl = void 0;\n      if (content !== undefined) {\n        actualUrl = URL.createObjectURL(content);\n      } else {\n        actualUrl = originalUrl;\n      }\n      if (srcString) {\n        srcString += \"url(\" + actualUrl + \") format('\" + format + \"')\";\n      }\n      if (fallbackUrls) {\n        srcString = fallbackUrls.reduce(function (str, opts) {\n          var url = opts.url,\n              format = opts.format;\n\n          format = format || \"woff2\";\n          return \"\\n  \" + str + \" url(\" + url + \") format('\" + format + \"'), \";\n        }, srcString + \", \");\n        srcString = srcString.substring(0, srcString.length - 2); //remove last comma\n      }\n      tag.innerHTML = \"@font-face {\" + (\"\" + attributesString) + (srcString + \";\") + \"\\n}\";\n    },\n\n    canAddToDom: true,\n    alwaysCallSetContent: true\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90YWdQcm9wZXJ0aWVzTWFwLmpzIl0sIm5hbWVzIjpbImpzIiwidGFnTmFtZSIsImNvbnRlbnRGZXRjaEtleSIsImF0dHJpYnV0ZXMiLCJ0eXBlIiwic2V0RWxlbWVudENvbnRlbnRGdW5jIiwidGFnIiwiZG9jdW1lbnRUYXJnZXQiLCJjb250ZW50Iiwid2FzTWFuaWZlc3RNb2RpZmllZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJjYW5BZGRUb0RvbSIsImNzcyIsInRhZ05hbWVXaGVuTm90SW5saW5lIiwiYXR0cmlidXRlc1doZW5Ob3RJbmxpbmUiLCJyZWwiLCJpbm5lckhUTUwiLCJibG9iIiwibGluayIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkZWZhdWx0VG9CaW5hcnkiLCJhbGxvd0xvYWRpbmdPdXRPZk9yZGVyIiwiZm9udGZhY2UiLCJyZXNvdXJjZU1hbmlmZXN0T2JqIiwiZm9udEF0dHJpYnV0ZXMiLCJsb2NhbEZvbnRGYW1pbHkiLCJvcmlnaW5hbFVybCIsInVybCIsImZvcm1hdCIsImZhbGxiYWNrVXJscyIsImF0dHJpYnV0ZXNTdHJpbmciLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImF0dHJpYnV0ZSIsInNyY1N0cmluZyIsInJlZHVjZSIsInN0ciIsImFjdHVhbFVybCIsInVuZGVmaW5lZCIsIm9wdHMiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJhbHdheXNDYWxsU2V0Q29udGVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O2tCQUVlO0FBQ2JBLE1BQUk7QUFDRkMsYUFBUyxRQURQO0FBRUZDLHFCQUFpQixLQUZmO0FBR0ZDLGdCQUFZO0FBQ1ZDLFlBQU07QUFESSxLQUhWO0FBTUZDLHlCQU5FLHVDQU0yRTtBQUFBLFVBQXJEQyxHQUFxRCxRQUFyREEsR0FBcUQ7QUFBQSxVQUFoREMsY0FBZ0QsUUFBaERBLGNBQWdEO0FBQUEsVUFBaENDLE9BQWdDLFFBQWhDQSxP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QUFDRDtBQUNELFVBQUlDLFlBQUosRUFBa0I7QUFDaEJNLG9CQUFZTixhQUFhTyxNQUFiLENBQW9CLFVBQUNDLEdBQUQsRUFBTUcsSUFBTixFQUFlO0FBQUEsY0FDdkNiLEdBRHVDLEdBQ3ZCYSxJQUR1QixDQUN2Q2IsR0FEdUM7QUFBQSxjQUNsQ0MsTUFEa0MsR0FDdkJZLElBRHVCLENBQ2xDWixNQURrQzs7QUFFN0NBLG1CQUFTQSxVQUFVLE9BQW5CO0FBQ0EsMEJBQWNTLEdBQWQsYUFBeUJWLEdBQXpCLGtCQUF5Q0MsTUFBekM7QUFDRCxTQUpXLEVBSU5PLFNBSk0sUUFBWjtBQUtBQSxvQkFBWUEsVUFBVU0sU0FBVixDQUFvQixDQUFwQixFQUF1Qk4sVUFBVU8sTUFBVixHQUFtQixDQUExQyxDQUFaLENBTmdCLENBTTBDO0FBQzNEO0FBQ0R4QyxVQUFJWSxTQUFKLEdBQWdCLHVCQUFvQmdCLGdCQUFwQixLQUE0Q0ssU0FBNUMsZUFBaEI7QUFDRCxLQXpDTzs7QUEwQ1IxQixpQkFBYSxJQTFDTDtBQTJDUmtDLDBCQUFzQjtBQTNDZDtBQTlDRyxDIiwiZmlsZSI6InRhZ1Byb3BlcnRpZXNNYXAuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERhdGFVcmwgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGpzOiB7XG4gICAgdGFnTmFtZTogXCJzY3JpcHRcIixcbiAgICBjb250ZW50RmV0Y2hLZXk6IFwic3JjXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIixcbiAgICB9LFxuICAgIHNldEVsZW1lbnRDb250ZW50RnVuYyh7IHRhZywgZG9jdW1lbnRUYXJnZXQsIGNvbnRlbnQsIHdhc01hbmlmZXN0TW9kaWZpZWQgfSkge1xuICAgICAgaWYgKHdhc01hbmlmZXN0TW9kaWZpZWQpIHtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZShcInNyY1wiLCBnZXREYXRhVXJsKGNvbnRlbnQpKTsgLy9pZiBzb21lIG9mIHRoZSBmaWxlcyBoYXZlIGNoYW5nZWQsIGFkZGluZyBzb21lIHNjcmlwdCBhcyBpbmxpbmUgc2NyaXB0cyBhbmQgc29tZSB3aXRoIHNyYz1cIlwiIGRvZXNuJ3QgbWFpbnRhaW4gdGhlIG9yZGVyIG9mIGxvYWRpbmdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudFRhcmdldC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5BZGRUb0RvbTogdHJ1ZSxcbiAgfSxcbiAgY3NzOiB7XG4gICAgdGFnTmFtZTogXCJzdHlsZVwiLFxuICAgIGNvbnRlbnRGZXRjaEtleTogXCJocmVmXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdHlwZTogXCJ0ZXh0L2Nzc1wiLFxuICAgIH0sXG4gICAgdGFnTmFtZVdoZW5Ob3RJbmxpbmU6IFwibGlua1wiLFxuICAgIGF0dHJpYnV0ZXNXaGVuTm90SW5saW5lOiB7XG4gICAgICByZWw6IFwic3R5bGVzaGVldFwiLFxuICAgIH0sXG4gICAgc2V0RWxlbWVudENvbnRlbnRGdW5jKHsgdGFnLCBjb250ZW50IH0pIHtcbiAgICAgIHRhZy5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIH0sXG4gICAgY2FuQWRkVG9Eb206IHRydWUsXG4gIH0sXG4gIGJsb2I6IHtcbiAgICBjYW5BZGRUb0RvbTogZmFsc2UsXG4gICAgYXR0cmlidXRlczoge30sXG4gIH0sXG4gIGxpbms6IHtcbiAgICB0YWdOYW1lOiBcImxpbmtcIixcbiAgICBjb250ZW50RmV0Y2hLZXk6IFwiaHJlZlwiLFxuICAgIGNhbkFkZFRvRG9tOiB0cnVlLFxuICAgIHNldEVsZW1lbnRDb250ZW50RnVuYyh7IHRhZywgY29udGVudCB9KSB7XG4gICAgICB0YWcuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoY29udGVudCk7XG4gICAgfSxcbiAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICBkZWZhdWx0VG9CaW5hcnk6IHRydWUsXG4gICAgYWxsb3dMb2FkaW5nT3V0T2ZPcmRlcjogdHJ1ZSxcbiAgfSxcbiAgZm9udGZhY2U6IHtcbiAgICB0YWdOYW1lOiBcInN0eWxlXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdHlwZTogXCJ0ZXh0L2Nzc1wiLFxuICAgIH0sXG4gICAgYWxsb3dMb2FkaW5nT3V0T2ZPcmRlcjogdHJ1ZSxcbiAgICBkZWZhdWx0VG9CaW5hcnk6IHRydWUsXG4gICAgc2V0RWxlbWVudENvbnRlbnRGdW5jKHsgdGFnLCBjb250ZW50LCByZXNvdXJjZU1hbmlmZXN0T2JqIH0pIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9udEF0dHJpYnV0ZXMsXG4gICAgICAgIGxvY2FsRm9udEZhbWlseSA9IG51bGwsXG4gICAgICAgIHVybDogb3JpZ2luYWxVcmwsXG4gICAgICAgIGZvcm1hdCxcbiAgICAgICAgZmFsbGJhY2tVcmxzID0gbnVsbCxcbiAgICAgIH0gPSByZXNvdXJjZU1hbmlmZXN0T2JqO1xuICAgICAgbGV0IGF0dHJpYnV0ZXNTdHJpbmcgPSBcIlwiO1xuICAgICAgT2JqZWN0LmtleXMoZm9udEF0dHJpYnV0ZXMpLmZvckVhY2goYXR0cmlidXRlID0+IHtcbiAgICAgICAgYXR0cmlidXRlc1N0cmluZyArPSBgXFxuICAke2F0dHJpYnV0ZX06ICR7Zm9udEF0dHJpYnV0ZXNbYXR0cmlidXRlXX07YDtcbiAgICAgIH0pO1xuICAgICAgbGV0IHNyY1N0cmluZyA9IFwic3JjOiBcIjtcbiAgICAgIGlmIChsb2NhbEZvbnRGYW1pbHkpIHtcbiAgICAgICAgc3JjU3RyaW5nID0gbG9jYWxGb250RmFtaWx5LnJlZHVjZSgoc3RyLCB1cmwpID0+IGAke3N0cn1sb2NhbCgnJHt1cmx9JyksIGAsIHNyY1N0cmluZyk7XG4gICAgICB9XG4gICAgICBsZXQgYWN0dWFsVXJsO1xuICAgICAgaWYgKGNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhY3R1YWxVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsVXJsID0gb3JpZ2luYWxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoc3JjU3RyaW5nKSB7XG4gICAgICAgIHNyY1N0cmluZyArPSBgdXJsKCR7YWN0dWFsVXJsfSkgZm9ybWF0KCcke2Zvcm1hdH0nKWA7XG4gICAgICB9XG4gICAgICBpZiAoZmFsbGJhY2tVcmxzKSB7XG4gICAgICAgIHNyY1N0cmluZyA9IGZhbGxiYWNrVXJscy5yZWR1Y2UoKHN0ciwgb3B0cykgPT4ge1xuICAgICAgICAgIGxldCB7IHVybCwgZm9ybWF0IH0gPSBvcHRzO1xuICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCBcIndvZmYyXCI7XG4gICAgICAgICAgcmV0dXJuIGBcXG4gICR7c3RyfSB1cmwoJHt1cmx9KSBmb3JtYXQoJyR7Zm9ybWF0fScpLCBgO1xuICAgICAgICB9LCBgJHtzcmNTdHJpbmd9LCBgKTtcbiAgICAgICAgc3JjU3RyaW5nID0gc3JjU3RyaW5nLnN1YnN0cmluZygwLCBzcmNTdHJpbmcubGVuZ3RoIC0gMik7IC8vcmVtb3ZlIGxhc3QgY29tbWFcbiAgICAgIH1cbiAgICAgIHRhZy5pbm5lckhUTUwgPSBcIkBmb250LWZhY2Uge1wiICsgYCR7YXR0cmlidXRlc1N0cmluZ31gICsgYCR7c3JjU3RyaW5nfTtgICsgYFxcbn1gO1xuICAgIH0sXG4gICAgY2FuQWRkVG9Eb206IHRydWUsXG4gICAgYWx3YXlzQ2FsbFNldENvbnRlbnQ6IHRydWUsXG4gIH0sXG59O1xuIl19\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tagPropertiesMap.js\n// module id = 8\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fetchResource = undefined;\n\nvar _responseHandlers = require(\"./responseHandlers\");\n\nvar NO_CONTENT_TYPE = \"\";\n\nvar fetchResource = exports.fetchResource = function fetchResource(url) {\n  var responseType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.responseType = responseType;\n    xhr.addEventListener(\"load\", function () {\n      if (xhr.status === 200) {\n        var response = xhr.response;\n\n        var returnValue = {\n          content: response,\n          contentType: xhr.getResponseHeader(\"content-type\") || NO_CONTENT_TYPE\n        };\n        resolve((0, _responseHandlers.handleResponse)(returnValue));\n      } else {\n        reject(xhr);\n      }\n    }, false);\n    // Send XHR\n    xhr.send();\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9uZXR3b3JrLmpzIl0sIm5hbWVzIjpbIk5PX0NPTlRFTlRfVFlQRSIsImZldGNoUmVzb3VyY2UiLCJ1cmwiLCJyZXNwb25zZVR5cGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGF0dXMiLCJyZXNwb25zZSIsInJldHVyblZhbHVlIiwiY29udGVudCIsImNvbnRlbnRUeXBlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsa0JBQWtCLEVBQXhCOztBQUVPLElBQU1DLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBQ0MsR0FBRCxFQUFnQztBQUFBLE1BQTFCQyxZQUEwQix1RUFBWCxNQUFXOztBQUMzRCxTQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdEMsUUFBTUMsTUFBTSxJQUFJQyxjQUFKLEVBQVo7QUFDQUQsUUFBSUUsSUFBSixDQUFTLEtBQVQsRUFBZ0JQLEdBQWhCLEVBQXFCLElBQXJCO0FBQ0FLLFFBQUlKLFlBQUosR0FBbUJBLFlBQW5CO0FBQ0FJLFFBQUlHLGdCQUFKLENBQ0UsTUFERixFQUVFLFlBQVc7QUFDVCxVQUFJSCxJQUFJSSxNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFBQSxZQUNkQyxRQURjLEdBQ0RMLEdBREMsQ0FDZEssUUFEYzs7QUFFdEIsWUFBTUMsY0FBYztBQUNsQkMsbUJBQVNGLFFBRFM7QUFFbEJHLHVCQUFhUixJQUFJUyxpQkFBSixDQUFzQixjQUF0QixLQUF5Q2hCO0FBRnBDLFNBQXBCO0FBSUFLLGdCQUFRLHNDQUFlUSxXQUFmLENBQVI7QUFDRCxPQVBELE1BT087QUFDTFAsZUFBT0MsR0FBUDtBQUNEO0FBQ0YsS0FiSCxFQWNFLEtBZEY7QUFnQkE7QUFDQUEsUUFBSVUsSUFBSjtBQUNELEdBdEJNLENBQVA7QUF1QkQsQ0F4Qk0iLCJmaWxlIjoibmV0d29yay5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFuZGxlUmVzcG9uc2UgfSBmcm9tIFwiLi9yZXNwb25zZUhhbmRsZXJzXCI7XG5cbmNvbnN0IE5PX0NPTlRFTlRfVFlQRSA9IFwiXCI7XG5cbmV4cG9ydCBjb25zdCBmZXRjaFJlc291cmNlID0gKHVybCwgcmVzcG9uc2VUeXBlID0gXCJ0ZXh0XCIpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImxvYWRcIixcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgY29uc3QgeyByZXNwb25zZSB9ID0geGhyO1xuICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0ge1xuICAgICAgICAgICAgY29udGVudDogcmVzcG9uc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogeGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpIHx8IE5PX0NPTlRFTlRfVFlQRSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlc29sdmUoaGFuZGxlUmVzcG9uc2UocmV0dXJuVmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoeGhyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICAvLyBTZW5kIFhIUlxuICAgIHhoci5zZW5kKCk7XG4gIH0pO1xufTtcbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/network.js\n// module id = 9\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleResponse = handleResponse;\nfunction handleResponse(response) {\n  var content = response.content,\n      contentType = response.contentType;\n\n\n  if (/image\\/svg\\+xml/.test(contentType)) {\n    content = content.replace(/#/g, \"%23\");\n  }\n  return { content: content, contentType: contentType };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9yZXNwb25zZUhhbmRsZXJzLmpzIl0sIm5hbWVzIjpbImhhbmRsZVJlc3BvbnNlIiwicmVzcG9uc2UiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJ0ZXN0IiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFBZ0JBLGMsR0FBQUEsYztBQUFULFNBQVNBLGNBQVQsQ0FBd0JDLFFBQXhCLEVBQWtDO0FBQUEsTUFDakNDLE9BRGlDLEdBQ1JELFFBRFEsQ0FDakNDLE9BRGlDO0FBQUEsTUFDeEJDLFdBRHdCLEdBQ1JGLFFBRFEsQ0FDeEJFLFdBRHdCOzs7QUFHdkMsTUFBSSxrQkFBa0JDLElBQWxCLENBQXVCRCxXQUF2QixDQUFKLEVBQXlDO0FBQ3ZDRCxjQUFVQSxRQUFRRyxPQUFSLENBQWdCLElBQWhCLEVBQXNCLEtBQXRCLENBQVY7QUFDRDtBQUNELFNBQU8sRUFBRUgsZ0JBQUYsRUFBV0Msd0JBQVgsRUFBUDtBQUNEIiwiZmlsZSI6InJlc3BvbnNlSGFuZGxlcnMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhdmlzL2J1aWxkL2NhcHJpemEvY2FwcC1jYWNoZSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSkge1xuICBsZXQgeyBjb250ZW50LCBjb250ZW50VHlwZSB9ID0gcmVzcG9uc2U7XG5cbiAgaWYgKC9pbWFnZVxcL3N2Z1xcK3htbC8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8jL2csIFwiJTIzXCIpO1xuICB9XG4gIHJldHVybiB7IGNvbnRlbnQsIGNvbnRlbnRUeXBlIH07XG59XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/responseHandlers.js\n// module id = 10\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sortResources = sortResources;\nfunction sortResources(resources) {\n  resources.forEach(function (r, index) {\n    return r._index = index;\n  });\n  resources.sort(function (r1, r2) {\n    if (r1.type === \"fontface\" && r2.type !== \"fontface\") {\n      return -1;\n    }\n    if (r2.type === \"fontface\" && r1.type !== \"fontface\") {\n      return 1;\n    }\n    if (r1.cacheOnly && !r2.cacheOnly) {\n      return 1;\n    }\n    if (r2.cacheOnly && !r1.cacheOnly) {\n      return -1;\n    }\n    return r1._index - r2._index;\n  });\n  resources.forEach(function (r, index) {\n    return r._index = index;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zb3J0UmVzb3VyY2VzLmpzIl0sIm5hbWVzIjpbInNvcnRSZXNvdXJjZXMiLCJyZXNvdXJjZXMiLCJmb3JFYWNoIiwiciIsImluZGV4IiwiX2luZGV4Iiwic29ydCIsInIxIiwicjIiLCJ0eXBlIiwiY2FjaGVPbmx5Il0sIm1hcHBpbmdzIjoiOzs7OztRQUFnQkEsYSxHQUFBQSxhO0FBQVQsU0FBU0EsYUFBVCxDQUF1QkMsU0FBdkIsRUFBa0M7QUFDdkNBLFlBQVVDLE9BQVYsQ0FBa0IsVUFBQ0MsQ0FBRCxFQUFJQyxLQUFKO0FBQUEsV0FBZUQsRUFBRUUsTUFBRixHQUFXRCxLQUExQjtBQUFBLEdBQWxCO0FBQ0FILFlBQVVLLElBQVYsQ0FBZSxVQUFDQyxFQUFELEVBQUtDLEVBQUwsRUFBWTtBQUN6QixRQUFJRCxHQUFHRSxJQUFILEtBQVksVUFBWixJQUEwQkQsR0FBR0MsSUFBSCxLQUFZLFVBQTFDLEVBQXNEO0FBQ3BELGFBQU8sQ0FBQyxDQUFSO0FBQ0Q7QUFDRCxRQUFJRCxHQUFHQyxJQUFILEtBQVksVUFBWixJQUEwQkYsR0FBR0UsSUFBSCxLQUFZLFVBQTFDLEVBQXNEO0FBQ3BELGFBQU8sQ0FBUDtBQUNEO0FBQ0QsUUFBSUYsR0FBR0csU0FBSCxJQUFnQixDQUFDRixHQUFHRSxTQUF4QixFQUFtQztBQUNqQyxhQUFPLENBQVA7QUFDRDtBQUNELFFBQUlGLEdBQUdFLFNBQUgsSUFBZ0IsQ0FBQ0gsR0FBR0csU0FBeEIsRUFBbUM7QUFDakMsYUFBTyxDQUFDLENBQVI7QUFDRDtBQUNELFdBQU9ILEdBQUdGLE1BQUgsR0FBWUcsR0FBR0gsTUFBdEI7QUFDRCxHQWREO0FBZUFKLFlBQVVDLE9BQVYsQ0FBa0IsVUFBQ0MsQ0FBRCxFQUFJQyxLQUFKO0FBQUEsV0FBZUQsRUFBRUUsTUFBRixHQUFXRCxLQUExQjtBQUFBLEdBQWxCO0FBQ0QiLCJmaWxlIjoic29ydFJlc291cmNlcy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHNvcnRSZXNvdXJjZXMocmVzb3VyY2VzKSB7XG4gIHJlc291cmNlcy5mb3JFYWNoKChyLCBpbmRleCkgPT4gKHIuX2luZGV4ID0gaW5kZXgpKTtcbiAgcmVzb3VyY2VzLnNvcnQoKHIxLCByMikgPT4ge1xuICAgIGlmIChyMS50eXBlID09PSBcImZvbnRmYWNlXCIgJiYgcjIudHlwZSAhPT0gXCJmb250ZmFjZVwiKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChyMi50eXBlID09PSBcImZvbnRmYWNlXCIgJiYgcjEudHlwZSAhPT0gXCJmb250ZmFjZVwiKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHIxLmNhY2hlT25seSAmJiAhcjIuY2FjaGVPbmx5KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHIyLmNhY2hlT25seSAmJiAhcjEuY2FjaGVPbmx5KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiByMS5faW5kZXggLSByMi5faW5kZXg7XG4gIH0pO1xuICByZXNvdXJjZXMuZm9yRWFjaCgociwgaW5kZXgpID0+IChyLl9pbmRleCA9IGluZGV4KSk7XG59XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sortResources.js\n// module id = 11\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.appendOnLoadScript = appendOnLoadScript;\n\nvar _cappCacheLogger = require(\"./cappCacheLogger\");\n\nvar _utils = require(\"./utils\");\n\nvar RESOURCES_LOAD_START = \"Resources load start\";\n\nfunction appendOnLoadScript(_ref) {\n  var documentTarget = _ref.document,\n      callback = _ref.callback,\n      overrideDomContentLoaded = _ref.overrideDomContentLoaded,\n      _ref$onLoadDone = _ref.onLoadDone,\n      onLoadDone = _ref$onLoadDone === undefined ? Function.prototype : _ref$onLoadDone,\n      elementAddedToBody = _ref.elementAddedToBody;\n\n  var ID = \"__cappcache-\" + (\"\" + Math.random()).slice(2, 10);\n  var onLoadTypeOf = typeof onLoadDone === \"undefined\" ? \"undefined\" : _typeof(onLoadDone);\n  var onLoadText = \"\";\n  if (onLoadTypeOf === \"string\") {\n    onLoadText = onLoadDone;\n  } else if (onLoadTypeOf === \"function\") {\n    var _prevCallback = callback;\n    callback = function callback() {\n      onLoadDone();\n      _prevCallback();\n    };\n  }\n  window.cappCache[ID] = callback;\n  var ID_PERF = ID + \"__perf\";\n  window.cappCache[ID_PERF] = (0, _cappCacheLogger.isDetailedLog)() ? function () {\n    (0, _cappCacheLogger.perfMarkEnd)(\"RESOURCES LOAD\", RESOURCES_LOAD_START);\n    (0, _cappCacheLogger.log)(\"Done loading resources\");\n  } : Function.prototype;\n  var contentUrl = (0, _utils.getDataUrl)(\"window.cappCache[\\\"\" + ID + \"\\\"](); \\n\\t\\t      window.cappCache[\\\"\" + ID_PERF + \"\\\"](); \\n\\t\\t      delete window.cappCache[\\\"\" + ID + \"\\\"]; \\n\\t\\t      delete window.cappCache[\\\"\" + ID_PERF + \"\\\"]; \\n\\t\\t      \" + (overrideDomContentLoaded ? \"document.dispatchEvent(new Event('DOMContentLoaded', {bubbles: true}));\" : \"\") + \"\\n\\t\\t      \" + onLoadText + \";\\n\\t\\t      document.querySelector(\\\"#\" + ID + \"\\\").remove();\");\n  var script = documentTarget.createElement(\"script\");\n  script.id = ID;\n  script.async = false;\n  script.src = contentUrl;\n  documentTarget[elementAddedToBody ? \"body\" : \"head\"].appendChild(script);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9vbkxvYWREb25lSGFuZGxpbmcuanMiXSwibmFtZXMiOlsiYXBwZW5kT25Mb2FkU2NyaXB0IiwiUkVTT1VSQ0VTX0xPQURfU1RBUlQiLCJkb2N1bWVudFRhcmdldCIsImRvY3VtZW50IiwiY2FsbGJhY2siLCJvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQiLCJvbkxvYWREb25lIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJlbGVtZW50QWRkZWRUb0JvZHkiLCJJRCIsIk1hdGgiLCJyYW5kb20iLCJzbGljZSIsIm9uTG9hZFR5cGVPZiIsIm9uTG9hZFRleHQiLCJfcHJldkNhbGxiYWNrIiwid2luZG93IiwiY2FwcENhY2hlIiwiSURfUEVSRiIsImNvbnRlbnRVcmwiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJhc3luYyIsInNyYyIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztRQUtnQkEsa0IsR0FBQUEsa0I7O0FBTGhCOztBQUNBOztBQUVBLElBQU1DLHVCQUF1QixzQkFBN0I7O0FBRU8sU0FBU0Qsa0JBQVQsT0FNSjtBQUFBLE1BTFNFLGNBS1QsUUFMREMsUUFLQztBQUFBLE1BSkRDLFFBSUMsUUFKREEsUUFJQztBQUFBLE1BSERDLHdCQUdDLFFBSERBLHdCQUdDO0FBQUEsNkJBRkRDLFVBRUM7QUFBQSxNQUZEQSxVQUVDLG1DQUZZQyxTQUFTQyxTQUVyQjtBQUFBLE1BRERDLGtCQUNDLFFBRERBLGtCQUNDOztBQUNELE1BQU1DLHNCQUFvQixDQUFDLEtBQUtDLEtBQUtDLE1BQUwsRUFBTixFQUFxQkMsS0FBckIsQ0FBMkIsQ0FBM0IsRUFBOEIsRUFBOUIsQ0FBMUI7QUFDQSxNQUFNQyxzQkFBc0JSLFVBQXRCLHlDQUFzQkEsVUFBdEIsQ0FBTjtBQUNBLE1BQUlTLGFBQWEsRUFBakI7QUFDQSxNQUFJRCxpQkFBaUIsUUFBckIsRUFBK0I7QUFDN0JDLGlCQUFhVCxVQUFiO0FBQ0QsR0FGRCxNQUVPLElBQUlRLGlCQUFpQixVQUFyQixFQUFpQztBQUN0QyxRQUFNRSxnQkFBZ0JaLFFBQXRCO0FBQ0FBLGVBQVcsb0JBQU07QUFDZkU7QUFDQVU7QUFDRCxLQUhEO0FBSUQ7QUFDREMsU0FBT0MsU0FBUCxDQUFpQlIsRUFBakIsSUFBdUJOLFFBQXZCO0FBQ0EsTUFBTWUsVUFBVVQsS0FBSyxRQUFyQjtBQUNBTyxTQUFPQyxTQUFQLENBQWlCQyxPQUFqQixJQUE0Qix3Q0FDeEIsWUFBTTtBQUNKLHNDQUFZLGdCQUFaLEVBQThCbEIsb0JBQTlCO0FBQ0EsOEJBQUksd0JBQUo7QUFDRCxHQUp1QixHQUt4Qk0sU0FBU0MsU0FMYjtBQU1BLE1BQU1ZLGFBQWEsK0NBQWdDVixFQUFoQyw4Q0FDT1MsT0FEUCxxREFFY1QsRUFGZCxtREFHY1MsT0FIZCwwQkFJWGQsMkJBQTJCLHlFQUEzQixHQUF1RyxFQUo1RixxQkFLWFUsVUFMVywrQ0FNY0wsRUFOZCxtQkFBbkI7QUFPQSxNQUFNVyxTQUFTbkIsZUFBZW9CLGFBQWYsQ0FBNkIsUUFBN0IsQ0FBZjtBQUNBRCxTQUFPRSxFQUFQLEdBQVliLEVBQVo7QUFDQVcsU0FBT0csS0FBUCxHQUFlLEtBQWY7QUFDQUgsU0FBT0ksR0FBUCxHQUFhTCxVQUFiO0FBQ0FsQixpQkFBZU8scUJBQXFCLE1BQXJCLEdBQThCLE1BQTdDLEVBQXFEaUIsV0FBckQsQ0FBaUVMLE1BQWpFO0FBQ0QiLCJmaWxlIjoib25Mb2FkRG9uZUhhbmRsaW5nLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZXJmTWFya0VuZCwgaXNEZXRhaWxlZExvZywgbG9nIH0gZnJvbSBcIi4vY2FwcENhY2hlTG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXREYXRhVXJsIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgUkVTT1VSQ0VTX0xPQURfU1RBUlQgPSBcIlJlc291cmNlcyBsb2FkIHN0YXJ0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRPbkxvYWRTY3JpcHQoe1xuICBkb2N1bWVudDogZG9jdW1lbnRUYXJnZXQsXG4gIGNhbGxiYWNrLFxuICBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQsXG4gIG9uTG9hZERvbmUgPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gIGVsZW1lbnRBZGRlZFRvQm9keSxcbn0pIHtcbiAgY29uc3QgSUQgPSBgX19jYXBwY2FjaGUtJHsoXCJcIiArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDIsIDEwKX1gO1xuICBjb25zdCBvbkxvYWRUeXBlT2YgPSB0eXBlb2Ygb25Mb2FkRG9uZTtcbiAgbGV0IG9uTG9hZFRleHQgPSBcIlwiO1xuICBpZiAob25Mb2FkVHlwZU9mID09PSBcInN0cmluZ1wiKSB7XG4gICAgb25Mb2FkVGV4dCA9IG9uTG9hZERvbmU7XG4gIH0gZWxzZSBpZiAob25Mb2FkVHlwZU9mID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCBfcHJldkNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBvbkxvYWREb25lKCk7XG4gICAgICBfcHJldkNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfVxuICB3aW5kb3cuY2FwcENhY2hlW0lEXSA9IGNhbGxiYWNrO1xuICBjb25zdCBJRF9QRVJGID0gSUQgKyBcIl9fcGVyZlwiO1xuICB3aW5kb3cuY2FwcENhY2hlW0lEX1BFUkZdID0gaXNEZXRhaWxlZExvZygpXG4gICAgPyAoKSA9PiB7XG4gICAgICAgIHBlcmZNYXJrRW5kKFwiUkVTT1VSQ0VTIExPQURcIiwgUkVTT1VSQ0VTX0xPQURfU1RBUlQpO1xuICAgICAgICBsb2coXCJEb25lIGxvYWRpbmcgcmVzb3VyY2VzXCIpO1xuICAgICAgfVxuICAgIDogRnVuY3Rpb24ucHJvdG90eXBlO1xuICBjb25zdCBjb250ZW50VXJsID0gZ2V0RGF0YVVybChgd2luZG93LmNhcHBDYWNoZVtcIiR7SUR9XCJdKCk7IFxuXHRcdCAgICAgIHdpbmRvdy5jYXBwQ2FjaGVbXCIke0lEX1BFUkZ9XCJdKCk7IFxuXHRcdCAgICAgIGRlbGV0ZSB3aW5kb3cuY2FwcENhY2hlW1wiJHtJRH1cIl07IFxuXHRcdCAgICAgIGRlbGV0ZSB3aW5kb3cuY2FwcENhY2hlW1wiJHtJRF9QRVJGfVwiXTsgXG5cdFx0ICAgICAgJHtvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgPyBcImRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdET01Db250ZW50TG9hZGVkJywge2J1YmJsZXM6IHRydWV9KSk7XCIgOiBcIlwifVxuXHRcdCAgICAgICR7b25Mb2FkVGV4dH07XG5cdFx0ICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiMke0lEfVwiKS5yZW1vdmUoKTtgKTtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnRUYXJnZXQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgc2NyaXB0LmlkID0gSUQ7XG4gIHNjcmlwdC5hc3luYyA9IGZhbHNlO1xuICBzY3JpcHQuc3JjID0gY29udGVudFVybDtcbiAgZG9jdW1lbnRUYXJnZXRbZWxlbWVudEFkZGVkVG9Cb2R5ID8gXCJib2R5XCIgOiBcImhlYWRcIl0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/onLoadDoneHandling.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar events = {};\n\nvar on = exports.on = function on(eventName, handler) {\n  if (events[eventName] === undefined) {\n    events[eventName] = [];\n  }\n  events[eventName].push(handler);\n};\n\nvar trigger = exports.trigger = function trigger(eventName) {\n  if (events[eventName] !== undefined) {\n    events[eventName].forEach(function (handler) {\n      return handler();\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ldmVudEJ1cy5qcyJdLCJuYW1lcyI6WyJldmVudHMiLCJvbiIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJ1bmRlZmluZWQiLCJwdXNoIiwidHJpZ2dlciIsImZvckVhY2giXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsU0FBUyxFQUFmOztBQUVPLElBQU1DLGtCQUFLLFNBQUxBLEVBQUssQ0FBQ0MsU0FBRCxFQUFZQyxPQUFaLEVBQXdCO0FBQ3hDLE1BQUlILE9BQU9FLFNBQVAsTUFBc0JFLFNBQTFCLEVBQXFDO0FBQ25DSixXQUFPRSxTQUFQLElBQW9CLEVBQXBCO0FBQ0Q7QUFDREYsU0FBT0UsU0FBUCxFQUFrQkcsSUFBbEIsQ0FBdUJGLE9BQXZCO0FBQ0QsQ0FMTTs7QUFPQSxJQUFNRyw0QkFBVSxTQUFWQSxPQUFVLFlBQWE7QUFDbEMsTUFBSU4sT0FBT0UsU0FBUCxNQUFzQkUsU0FBMUIsRUFBcUM7QUFDbkNKLFdBQU9FLFNBQVAsRUFBa0JLLE9BQWxCLENBQTBCO0FBQUEsYUFBV0osU0FBWDtBQUFBLEtBQTFCO0FBQ0Q7QUFDRixDQUpNIiwiZmlsZSI6ImV2ZW50QnVzLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RyYXZpcy9idWlsZC9jYXByaXphL2NhcHAtY2FjaGUiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBldmVudHMgPSB7fTtcblxuZXhwb3J0IGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgaGFuZGxlcikgPT4ge1xuICBpZiAoZXZlbnRzW2V2ZW50TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50c1tldmVudE5hbWVdID0gW107XG4gIH1cbiAgZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmlnZ2VyID0gZXZlbnROYW1lID0+IHtcbiAgaWYgKGV2ZW50c1tldmVudE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHNbZXZlbnROYW1lXS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcigpKTtcbiAgfVxufTtcbiJdfQ==\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/eventBus.js\n// module id = 13\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cappCacheLogger = require(\"./cappCacheLogger\");\n\nvar _resourceLoader = require(\"./resourceLoader\");\n\nvar _resourceManager = require(\"./resourceManager\");\n\nvar _id = require(\"./id\");\n\nvar _indexedDBAccess = require(\"./indexedDBAccess\");\n\nvar _indexedDBAccess2 = _interopRequireDefault(_indexedDBAccess);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  fetchManifest: function fetchManifest(manifestUrl, _ref) {\n    var _ref$overrideDomConte = _ref.overrideDomContentLoaded,\n        overrideDomContentLoaded = _ref$overrideDomConte === undefined ? false : _ref$overrideDomConte;\n\n    var fullManifestUrl = (0, _id.id)(manifestUrl);\n    return new Promise(function (resolve, reject) {\n      (0, _indexedDBAccess2.default)().then(function (db) {\n        (0, _resourceLoader.loadResource)({ indexedDBAccess: db, url: fullManifestUrl, immediate: true }).then(function (_ref2) {\n          var fromCache = _ref2.fromCache,\n              resource = _ref2.resource;\n\n          var manifestContent = resource.content;\n          var manifest = JSON.parse(manifestContent);\n          (0, _resourceManager.load)(manifest, { overrideDomContentLoaded: overrideDomContentLoaded });\n          var wasModified = false;\n          if (fromCache) {\n            (0, _resourceLoader.fetchAndSaveInCache)({ url: fullManifestUrl, indexedDBAccess: db }).then(function (newManifestContent) {\n              var newManifest = JSON.parse(newManifestContent.content);\n              if (newManifest.version !== manifest.version) {\n                (0, _cappCacheLogger.log)(\"new app cache version has changed from \\\"\" + manifest.version + \"\\\" to \\\"\" + newManifest.version + \"\\\"\");\n                wasModified = true;\n              }\n              resolve({ manifest: newManifest, wasModified: wasModified });\n            });\n          } else {\n            //from network\n            resolve({ manifest: manifest, wasModified: wasModified });\n          }\n        }).catch(function (err) {\n          (0, _cappCacheLogger.error)(\"failed to fetch manifest \" + err);\n          reject(err);\n        });\n      });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tYW5pZmVzdE1hbmFnZXIuanMiXSwibmFtZXMiOlsiZmV0Y2hNYW5pZmVzdCIsIm1hbmlmZXN0VXJsIiwib3ZlcnJpZGVEb21Db250ZW50TG9hZGVkIiwiZnVsbE1hbmlmZXN0VXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aGVuIiwiaW5kZXhlZERCQWNjZXNzIiwiZGIiLCJ1cmwiLCJpbW1lZGlhdGUiLCJmcm9tQ2FjaGUiLCJyZXNvdXJjZSIsIm1hbmlmZXN0Q29udGVudCIsImNvbnRlbnQiLCJtYW5pZmVzdCIsIkpTT04iLCJwYXJzZSIsIndhc01vZGlmaWVkIiwibmV3TWFuaWZlc3QiLCJuZXdNYW5pZmVzdENvbnRlbnQiLCJ2ZXJzaW9uIiwiY2F0Y2giLCJlcnIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7a0JBRWU7QUFDYkEsZUFEYSx5QkFDQ0MsV0FERCxRQUNvRDtBQUFBLHFDQUFwQ0Msd0JBQW9DO0FBQUEsUUFBcENBLHdCQUFvQyx5Q0FBVCxLQUFTOztBQUMvRCxRQUFNQyxrQkFBa0IsWUFBR0YsV0FBSCxDQUF4QjtBQUNBLFdBQU8sSUFBSUcsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUN0Qyx1Q0FBa0JDLElBQWxCLENBQXVCLGNBQU07QUFDM0IsMENBQWEsRUFBRUMsaUJBQWlCQyxFQUFuQixFQUF1QkMsS0FBS1AsZUFBNUIsRUFBNkNRLFdBQVcsSUFBeEQsRUFBYixFQUNHSixJQURILENBQ1EsaUJBQTZCO0FBQUEsY0FBMUJLLFNBQTBCLFNBQTFCQSxTQUEwQjtBQUFBLGNBQWZDLFFBQWUsU0FBZkEsUUFBZTs7QUFDakMsY0FBTUMsa0JBQWtCRCxTQUFTRSxPQUFqQztBQUNBLGNBQU1DLFdBQVdDLEtBQUtDLEtBQUwsQ0FBV0osZUFBWCxDQUFqQjtBQUNBLHFDQUFLRSxRQUFMLEVBQWUsRUFBRWQsa0RBQUYsRUFBZjtBQUNBLGNBQUlpQixjQUFjLEtBQWxCO0FBQ0EsY0FBSVAsU0FBSixFQUFlO0FBQ2IscURBQW9CLEVBQUVGLEtBQUtQLGVBQVAsRUFBd0JLLGlCQUFpQkMsRUFBekMsRUFBcEIsRUFBbUVGLElBQW5FLENBQXdFLDhCQUFzQjtBQUM1RixrQkFBTWEsY0FBY0gsS0FBS0MsS0FBTCxDQUFXRyxtQkFBbUJOLE9BQTlCLENBQXBCO0FBQ0Esa0JBQUlLLFlBQVlFLE9BQVosS0FBd0JOLFNBQVNNLE9BQXJDLEVBQThDO0FBQzVDLHdGQUErQ04sU0FBU00sT0FBeEQsZ0JBQXdFRixZQUFZRSxPQUFwRjtBQUNBSCw4QkFBYyxJQUFkO0FBQ0Q7QUFDRGQsc0JBQVEsRUFBRVcsVUFBVUksV0FBWixFQUF5QkQsd0JBQXpCLEVBQVI7QUFDRCxhQVBEO0FBUUQsV0FURCxNQVNPO0FBQ0w7QUFDQWQsb0JBQVEsRUFBRVcsVUFBVUEsUUFBWixFQUFzQkcsd0JBQXRCLEVBQVI7QUFDRDtBQUNGLFNBbkJILEVBb0JHSSxLQXBCSCxDQW9CUyxlQUFPO0FBQ1osb0VBQWtDQyxHQUFsQztBQUNBbEIsaUJBQU9rQixHQUFQO0FBQ0QsU0F2Qkg7QUF3QkQsT0F6QkQ7QUEwQkQsS0EzQk0sQ0FBUDtBQTRCRDtBQS9CWSxDIiwiZmlsZSI6Im1hbmlmZXN0TWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90cmF2aXMvYnVpbGQvY2Fwcml6YS9jYXBwLWNhY2hlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nLCBlcnJvciB9IGZyb20gXCIuL2NhcHBDYWNoZUxvZ2dlclwiO1xuaW1wb3J0IHsgbG9hZFJlc291cmNlLCBmZXRjaEFuZFNhdmVJbkNhY2hlIH0gZnJvbSBcIi4vcmVzb3VyY2VMb2FkZXJcIjtcbmltcG9ydCB7IGxvYWQgfSBmcm9tIFwiLi9yZXNvdXJjZU1hbmFnZXJcIjtcbmltcG9ydCB7IGlkIH0gZnJvbSBcIi4vaWRcIjtcbmltcG9ydCBpbmRleGVkREJBY2Nlc3MgZnJvbSBcIi4vaW5kZXhlZERCQWNjZXNzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZmV0Y2hNYW5pZmVzdChtYW5pZmVzdFVybCwgeyBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgPSBmYWxzZSB9KSB7XG4gICAgY29uc3QgZnVsbE1hbmlmZXN0VXJsID0gaWQobWFuaWZlc3RVcmwpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpbmRleGVkREJBY2Nlc3MoKS50aGVuKGRiID0+IHtcbiAgICAgICAgbG9hZFJlc291cmNlKHsgaW5kZXhlZERCQWNjZXNzOiBkYiwgdXJsOiBmdWxsTWFuaWZlc3RVcmwsIGltbWVkaWF0ZTogdHJ1ZSB9KVxuICAgICAgICAgIC50aGVuKCh7IGZyb21DYWNoZSwgcmVzb3VyY2UgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFuaWZlc3RDb250ZW50ID0gcmVzb3VyY2UuY29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShtYW5pZmVzdENvbnRlbnQpO1xuICAgICAgICAgICAgbG9hZChtYW5pZmVzdCwgeyBvdmVycmlkZURvbUNvbnRlbnRMb2FkZWQgfSk7XG4gICAgICAgICAgICBsZXQgd2FzTW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChmcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgZmV0Y2hBbmRTYXZlSW5DYWNoZSh7IHVybDogZnVsbE1hbmlmZXN0VXJsLCBpbmRleGVkREJBY2Nlc3M6IGRiIH0pLnRoZW4obmV3TWFuaWZlc3RDb250ZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNYW5pZmVzdCA9IEpTT04ucGFyc2UobmV3TWFuaWZlc3RDb250ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdNYW5pZmVzdC52ZXJzaW9uICE9PSBtYW5pZmVzdC52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICBsb2coYG5ldyBhcHAgY2FjaGUgdmVyc2lvbiBoYXMgY2hhbmdlZCBmcm9tIFwiJHttYW5pZmVzdC52ZXJzaW9ufVwiIHRvIFwiJHtuZXdNYW5pZmVzdC52ZXJzaW9ufVwiYCk7XG4gICAgICAgICAgICAgICAgICB3YXNNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBtYW5pZmVzdDogbmV3TWFuaWZlc3QsIHdhc01vZGlmaWVkIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vZnJvbSBuZXR3b3JrXG4gICAgICAgICAgICAgIHJlc29sdmUoeyBtYW5pZmVzdDogbWFuaWZlc3QsIHdhc01vZGlmaWVkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBlcnJvcihgZmFpbGVkIHRvIGZldGNoIG1hbmlmZXN0ICR7ZXJyfWApO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbn07XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/manifestManager.js\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}