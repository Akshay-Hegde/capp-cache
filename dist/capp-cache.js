!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=5)}([function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var n=e.resources,t=void 0===n?[]:n,o=e.pageId,r=void 0===o?window.location.href:o,i=e.indexedDB,c=void 0===i?window.indexedDB:i,u=e.document,s=void 0===u?window.document:u,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=h.syncCacheOnly,p=void 0!==v&&v;return new Promise(function(e,n){if(0===t.length)return e();(0,a.default)(r,c).then(function(o){var r=t.filter(function(e){return!e.cacheOnly}).concat(t.filter(function(e){return e.cacheOnly})),i=void 0;r.forEach(function(t,c){var u=t.url,a=t.type,h=void 0===a?"js":a,v=t.target,y=void 0===v?"head":v,g=t.attributes,m=void 0===g?{}:g,w=t.cacheOnly,b=void 0!==w&&w,x=t.isBinary,B=void 0!==x&&x,O=d.default[h];if(void 0===O)return console.error("Unsupported tag "+h);var C=b||p||!O.canAddToDom?l:s,_=C.createElement(O.tagName);(0,f.loadResource)({indexedDBAccess:o,url:u,immediate:!1,isBinary:B}).then(function(e){var n=e.resource,t=n.content;"script"===h&&(t="//# sourceURL="+u+"\n"+t),O.appendTextContent(_,C,t),_.setAttribute("data-cappcache-src",u)}).catch(function(e){void 0!==O.tagNameWhenNotInline&&(_=C.createElement(O.tagNameWhenNotInline),O.attributes=O.attributesWhenNotInline),_.setAttribute(O.contentFetchKey,u)}).then(function(){Object.keys(m).forEach(function(e){return _.setAttribute(e,m[e])}),Object.keys(O.attributes).forEach(function(e){return _.setAttribute(e,O.attributes[e])}),C[y].appendChild(_)}).catch(function(e){i=e}).then(function(){c===r.length-1&&(void 0===i?e():n(i))})})})})}function i(e){var n=e.pageId,t=void 0===n?window.location:n,o=e.url,r=e.isBase64Text,i=void 0!==r&&r,c=e.isBinary,u=void 0===c||c,s=e.indexedDB,d=void 0===s?window.indexedDB:s;return new Promise(function(e,n){(0,a.default)(t,d).then(function(e){return(0,f.loadResource)({indexedDBAccess:e,url:o,immediate:!0,isBinary:u})}).then(function(e){var n=e.resource,t=n.content,o=n.contentType;if(u){var r=new Blob([t],{type:o});return URL.createObjectURL(r)}return"data:"+o+(i?";base64":"")+","+(i?btoa(t):t)}).then(function(n){e(n)}).catch(function(e){console.error("failed to fetch image "+e),n(null)})})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.indexedDB;(0,a.default)(e,n).then(function(e){e.pruneDb((0,f.getCachedFiles)())})}Object.defineProperty(n,"__esModule",{value:!0}),n.load=r,n.getResourceUri=i,n.pruneDB=c;var u=t(1),a=o(u),s=t(8),d=o(s),f=t(2),l={createElement:function(){return{appendChild:Function.prototype,setAttribute:Function.prototype}},head:{appendChild:Function.prototype},body:{appendChild:Function.prototype},createTextNode:Function.prototype}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=Object.create(null),c=null,u=n.open(o,r),a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"readwrite";return c.transaction([e],n).objectStore(e)};return t.getResource=function(e){return new Promise(function(n,t){var o=a("readonly").get(e);o.onsuccess=function(o){o.target.result?n(o.target.result):(console.log("resource with id "+e+" is not in the cache"),t(null))},o.onerror=function(e){t(e)}})},t.removeResource=function(e){return new Promise(function(n,t){var o=a(),r=o.delete(e);r.onsuccess=function(){console.log("removed resource "+e),n()},r.onerror=function(n){console.error("failed to remove resource "+e+". error: "+n),t(n)}})},t.putResource=function(e,n){var t=n.content,o=n.contentType;return new Promise(function(n,r){var c=a(),u=c.put({id:e,content:t,contentType:o});u.onsuccess=function(){i&&console.log("successfully saved item id "+e+" in cache"),n()},u.onerror=function(n){console.error("failed to save item with id "+e+" in cache due to error "+n),r()}})},t.pruneDb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(n,o){var r=a(),i=r.openCursor();i.onsuccess=function(o){var r=o.target.result;r?(e.includes(r.key)||(t.removeResource(r.key),console.log("pruned "+r.key)),r.continue()):n()},i.onerror=function(e){console.error("failed to get all keys while pruning cache. error"),o(e)}})},new Promise(function(n,o){u.onsuccess=function(e){c=e.target.result,n(t)},u.onupgradeneeded=function(n){var t=n.target.result;if(n.oldVersion>0)try{t.deleteObjectStore(e)}catch(n){console.log("exception when trying to delete object store during onupgradeneeded. "+JSON.stringify(n))}t.createObjectStore(e,{keyPath:"id"})},u.onerror=function(e){console.error("failed to open indexedDB "+JSON.stringify(e)),o(e)}})};var o="RESOURCE_CACHE",r=3,i=!1},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCachedFiles=n.loadResource=n.fetchAndSaveInCache=void 0;var o=t(6),r=t(7),i={},c=n.fetchAndSaveInCache=function(e){var n=e.url,t=e.indexedDBAccess,i=e.isBinary;return new Promise(function(e,c){(0,r.fetchResource)(n,i?"blob":void 0).then(function(r){e(r),t.putResource((0,o.id)(n),r)}).catch(function(e){c(e)})})};n.loadResource=function(e){var n=e.indexedDBAccess,t=e.url,r=e.immediate,u=void 0!==r&&r,a=e.isBinary,s=void 0!==a&&a,d=new Promise(function(e,r){n.getResource((0,o.id)(t)).then(function(n){console.log("resource "+t+" was in cache"),e({resource:n,fromCache:!0})}).catch(function(o){console.log(o?"failed to fetch resource from cache "+t+". error: "+o:"resource "+t+" was not in cache"),u?c({url:t,indexedDBAccess:n,isBinary:s}).then(function(n){return e({resource:n,fromCache:!1})}).catch(function(e){return r(e)}):(window.setTimeout(function(){return c({url:t,indexedDBAccess:n,isBinary:s})},1e3),r(null))})});return i[(0,o.id)(t)]=!0,d},n.getCachedFiles=function(){return Object.keys(i)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};n.on=function(e,n){void 0===o[e]&&(o[e]=[]),o[e].push(n)},n.trigger=function(e){void 0!==o[e]&&o[e].forEach(function(e){return e()})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),r=t(0),i=t(1),c=function(e){return e&&e.__esModule?e:{default:e}}(i);n.default={fetchManifest:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.indexedDB;return new Promise(function(i,u){(0,c.default)(n,t).then(function(n){(0,o.loadResource)({indexedDBAccess:n,url:e,immediate:!0}).then(function(t){var c=t.fromCache,u=t.resource,a=u.content,s=JSON.parse(a);(0,r.load)(s);var d=!1;c?(0,o.fetchAndSaveInCache)({url:e,indexedDBAccess:n}).then(function(e){var n=JSON.parse(e.content);n.version!==s.version&&(console.log('new app cache version has changed from "'+s.version+'" to "'+n.version+'"'),d=!0),i({manifest:n,wasModified:d})}):i({manifest:s,wasModified:d})}).catch(function(e){console.error("failed to fetch manifest "+e),u(e)})})})}}},function(e,n,t){"use strict";var o=t(0),r=t(3),i=t(4),c=function(e){return e&&e.__esModule?e:{default:e}}(i);!function(){var e=window.cappCacheManifest;void 0===e&&(e={manifestUrl:"./cappCacheManifest.json"}),void 0!==e.manifestUrl?c.default.fetchManifest(e.manifestUrl).then(function(e){var n=e.manifest;e.wasModified&&(0,o.load)(n,{syncCacheOnly:!0}).then(function(){return(0,r.trigger)("manifestUpdated")})}):(0,o.load)({manifest:e}),window.cappCache={loadResources:o.load,getResourceUri:o.getResourceUri,pruneDB:o.pruneDB,on:r.on}}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.id=function(e){return e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.fetchResource=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(t,o){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType=n,r.addEventListener("load",function(){if(200===r.status){var e=r.response;t({content:e,contentType:r.getResponseHeader("content-type")||""})}else o(r)},!1),r.send()})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={js:{tagName:"script",contentFetchKey:"src",attributes:{type:"text/javascript"},appendTextContent:function(e,n,t){e.appendChild(n.createTextNode(t))},canAddToDom:!0},css:{tagName:"style",contentFetchKey:"href",attributes:{type:"text/css"},tagNameWhenNotInline:"link",attributesWhenNotInline:{rel:"stylesheet"},appendTextContent:function(e,n,t){e.innerHTML=t},canAddToDom:!0},blob:{canAddToDom:!1,attributes:{}}}}]);