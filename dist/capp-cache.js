!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=5)}([function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var n=e.resources,t=void 0===n?[]:n,o=e.pageId,r=void 0===o?window.location.href:o,c=e.indexedDB,i=void 0===c?window.indexedDB:c,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(e,n){(0,u.default)(r,i).then(function(o){var r=t.filter(function(e){return!e.cacheOnly}).concat(t.filter(function(e){return e.cacheOnly})),c=void 0;r.forEach(function(t,i){var u=t.url,l=t.type,p=void 0===l?"script":l,h=t.target,v=void 0===h?"head":h,g=t.loadAsync,m=void 0!==g&&g,y=t.cacheOnly,w=void 0!==y&&y,b=s.default[p],_=w||a?f:document,C=_.createElement(b.tagName);(0,d.loadResource)(o,u,!1).then(function(e){var n=e.resource;b.appendTextContent(C,_,n),C.setAttribute("data-cappcache-src",u)}).catch(function(){void 0!==b.tagNameWhenNotInline&&(C=_.createElement(b.tagNameWhenNotInline),b.props=b.propsWhenNotInline),C.setAttribute(b.contentFetchKey,u)}).then(function(){m&&"script"===p&&C.setAttribute("async","async"),Object.keys(b.props).forEach(function(e){return C.setAttribute(e,b.props[e])}),_[v].appendChild(C)}).catch(function(e){c=e}).then(function(){i===r.length&&(void 0===c?e():n(c))})})})})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.indexedDB;(0,u.default)(e,n).then(function(e){e.pruneDb((0,d.getCachedFiles)())})}Object.defineProperty(n,"__esModule",{value:!0}),n.load=r,n.pruneDB=c;var i=t(1),u=o(i),a=t(8),s=o(a),d=t(2),f={createElement:function(){return{appendChild:Function.prototype,setAttribute:Function.prototype}},head:{appendChild:Function.prototype},body:{appendChild:Function.prototype},createTextNode:Function.prototype}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=Object.create(null),i=null,u=n.open(o,r),a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"readwrite";return i.transaction([e],n).objectStore(e)};return t.getResource=function(e){return new Promise(function(n,t){var o=a("readonly").get(e);o.onsuccess=function(o){o.target.result?n(o.target.result.content):(console.log("resource with id "+e+" is not in the cache"),t(null))},o.onerror=function(e){t(e)}})},t.removeResource=function(e){return new Promise(function(n,t){var o=a(),r=o.delete(e);r.onsuccess=function(){console.log("removed resource "+e),n()},r.onerror=function(n){console.error("failed to remove resource "+e+". error: "+n),t(n)}})},t.putResource=function(e,n){return new Promise(function(t,o){var r=a(),i=r.put({id:e,content:n});i.onsuccess=function(){c&&console.log("successfully saved item id "+e+" in cache"),t()},i.onerror=function(n){console.error("failed to save item with id "+e+" in cache due to error "+n),o()}})},t.pruneDb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(n,o){var r=a(),c=r.openCursor();c.onsuccess=function(o){var r=o.target.result;r?(e.includes(r.key)||(t.removeResource(r.key),console.log("pruned "+r.key)),r.continue()):n()},c.onerror=function(e){console.error("failed to get all keys while pruning cache. error"),o(e)}})},new Promise(function(n,o){u.onsuccess=function(e){i=e.target.result,n(t)},u.onupgradeneeded=function(n){var t=n.target.result;if(n.oldVersion>0)try{t.deleteObjectStore(e)}catch(n){console.log("exception when trying to delete object store during onupgradeneeded. "+JSON.stringify(n))}t.createObjectStore(e,{keyPath:"id"})},u.onerror=function(e){console.error("failed to open indexedDB "+JSON.stringify(e)),o(e)}})};var o="RESOURCE_CACHE",r=3,c=!1},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCachedFiles=n.loadResource=n.fetchAndSaveInCache=void 0;var o=t(6),r=t(7),c=[],i=n.fetchAndSaveInCache=function(e,n){return new Promise(function(t,c){(0,r.fetchResource)(e).then(function(r){t(r),n.putResource((0,o.id)(e),r)}).catch(function(e){c(e)})})};n.loadResource=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Promise(function(r,c){e.getResource((0,o.id)(n)).then(function(e){console.log("resource "+n+" was in cache"),r({resource:e,fromCache:!0})}).catch(function(o){console.log(o?"failed to fetch resource from cache "+n+". error: "+o:"resource "+n+" was not in cache"),t?i(n,e).then(function(e){return r({resource:e,fromCache:!1})}).catch(function(e){return c(e)}):(setTimeout(function(){return i(n,e)},1e3),c(null))})});return c.push((0,o.id)(n)),r},n.getCachedFiles=function(){return[].concat(c)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};n.on=function(e,n){void 0===o[e]&&(o[e]=[]),o[e].push(n)},n.trigger=function(e){void 0!==o[e]&&o[e].forEach(function(e){return e()})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),r=t(0),c=t(1),i=function(e){return e&&e.__esModule?e:{default:e}}(c);n.default={fetchManifest:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.indexedDB;return new Promise(function(c,u){(0,i.default)(n,t).then(function(n){(0,o.loadResource)(n,e,!0).then(function(t){var i=t.resource,u=JSON.parse(i);(0,r.load)(u),t.fromCache?(0,o.fetchAndSaveInCache)(e,n).then(function(e){var n=JSON.parse(e);n.version!==u.version?(console.log('new app cache version has changed from "'+u.version+'" to "'+n.version+'"'),c({manifest:n,wasModified:!0})):c({manifest:n,wasModified:!1})}):c({manifest:u,wasModified:!1})}).catch(function(e){console.error("failed to fetch manifest "+e)})})})}}},function(e,n,t){"use strict";var o=t(0),r=t(3),c=t(4),i=function(e){return e&&e.__esModule?e:{default:e}}(c);!function(){var e=window.cappCacheManifest;void 0===e&&(e={manifestUrl:"cappCacheManifest.json"}),void 0!==e.manifestUrl?i.default.fetchManifest(e.manifestUrl).then(function(e){var n=e.manifest;e.wasModified&&(0,o.load)(n,!0).then(function(){return(0,r.trigger)("manifestUpdated")})}):(0,o.load)({manifest:e}),window.cappCache={loadResources:o.load,pruneDB:o.pruneDB,on:r.on}}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.id=function(e){return e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.fetchResource=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(t,o){var r=new XMLHttpRequest,c=null;r.open("GET",e,!0),r.responseType=n,r.addEventListener("load",function(){200===r.status?(c=r.response,t(c)):o(r)},!1),r.send()})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={script:{tagName:"script",contentFetchKey:"src",props:{type:"text/javascript"},appendTextContent:function(e,n,t){e.appendChild(n.createTextNode(t))}},css:{tagName:"style",contentFetchKey:"href",props:{type:"text/css"},tagNameWhenNotInline:"link",propsWhenNotInline:{rel:"stylesheet"},appendTextContent:function(e,n,t){e.innerHTML=t}}}}]);